"use strict";(self.webpackChunkBudgetBuddy=self.webpackChunkBudgetBuddy||[]).push([[179],{6304:(Ke,me,R)=>{R.d(me,{Dh:()=>Ae,GT:()=>le,cc:()=>xe,on:()=>be,pX:()=>te,xv:()=>Fe});var p=R(8926),P=R(7142);Ke=R.hmd(Ke);const ee=["ngOnDestroy"],te=(Ie,Te,He,we={})=>new Proxy(Ie,{get:(fe,ue)=>He.runOutsideAngular(()=>{var pe;if(Ie[ue])return!(null===(pe=we?.spy)||void 0===pe)&&pe.get&&we.spy.get(ue,Ie[ue]),Ie[ue];if(ee.indexOf(ue)>-1)return()=>{};const Me=Te.toPromise().then(W=>{const H=W&&W[ue];return"function"==typeof H?H.bind(W):H&&H.then?H.then(ge=>He.run(()=>ge)):He.run(()=>H)});return new Proxy(()=>{},{get:(W,H)=>Me[H],apply:(W,H,ge)=>Me.then(Ne=>{var tn;const jr=Ne&&Ne(...ge);return!(null===(tn=we?.spy)||void 0===tn)&&tn.apply&&we.spy.apply(ue,ge,jr),jr})})})}),le=(Ie,Te)=>{Te.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(we=>{Object.defineProperty(Ie.prototype,we,Object.getOwnPropertyDescriptor(He.prototype||He,we))})})};class ye{constructor(Te){return Te}}const Ae=new p.OlP("angularfire2.app.options"),Fe=new p.OlP("angularfire2.app.name");function be(Ie,Te,He){const fe="object"==typeof He&&He||{};fe.name=fe.name||"string"==typeof He&&He||"[DEFAULT]";const pe=P.Z.apps.filter(Me=>Me&&Me.name===fe.name)[0]||Te.runOutsideAngular(()=>P.Z.initializeApp(Ie,fe));try{JSON.stringify(Ie)!==JSON.stringify(pe.options)&&L("error",`${pe.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(pe)}const L=(Ie,...Te)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ie](...Te)};function xe(Ie,Te,He,we,fe){const[,ue,pe]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Ie)||[];if(ue)return function ae(Ie,Te){try{return Ie.toString()===Te.toString()}catch{return Ie===Te}}(fe,pe)||(Re("error",`${Te} was already initialized on the ${He} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:fe,was:pe})),ue;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Me,fe]),Me}}const je=!!Ke.hot,Re=(Ie,...Te)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ie](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(Ke,me,R)=>{R.d(me,{$:()=>El,A:()=>V,D:()=>ae,I:()=>pl,J:()=>da,L:()=>ur,N:()=>fs,P:()=>ql,Q:()=>wi,R:()=>$s,U:()=>jm,V:()=>yl,W:()=>Hm,X:()=>mt,Y:()=>Fs,Z:()=>Yn,_:()=>Io,a:()=>he,a0:()=>Km,a1:()=>Pw,a2:()=>Jb,a3:()=>nf,a4:()=>rf,a5:()=>Jm,a6:()=>Co,a7:()=>Tl,a8:()=>Sl,a9:()=>sf,aA:()=>H,aB:()=>Zs,aC:()=>Fn,aD:()=>Wn,aE:()=>Nn,aF:()=>vr,aG:()=>Kl,aH:()=>dn,aL:()=>fa,aO:()=>ys,aa:()=>Al,ab:()=>kw,ac:()=>Xb,ad:()=>xl,ae:()=>eT,af:()=>Fw,ai:()=>hf,aj:()=>Lw,ak:()=>Vw,an:()=>Gm,ao:()=>ny,aq:()=>yf,ar:()=>Pl,as:()=>Ne,at:()=>ln,au:()=>Ze,av:()=>fe,aw:()=>Xl,ax:()=>_a,ay:()=>rn,az:()=>ue,b:()=>If,c:()=>Uu,d:()=>xf,e:()=>Bu,f:()=>Es,g:()=>va,h:()=>Ws,i:()=>$l,j:()=>Yi,k:()=>ba,l:()=>wn,m:()=>ed,o:()=>Of,p:()=>Fe,r:()=>Qr,s:()=>qi,u:()=>py});var p=R(5861),P=R(9058),ee=R(534),te=R(7582),le=R(7879),ye=R(4537);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ae=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},je=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new le.Yd("@firebase/auth");function we(w,...f){Te.logLevel<=le.in.ERROR&&Te.error(`Auth (${ee.SDK_VERSION}): ${w}`,...f)}function fe(w,...f){throw W(w,...f)}function ue(w,...f){return W(w,...f)}function pe(w,f,m){const E=Object.assign(Object.assign({},je()),{[f]:m});return new P.LL("auth","Firebase",E).create(f,{appName:w.name})}function Me(w,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&fe(w,"argument-error"),pe(w,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function W(w,...f){if("string"!=typeof w){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(m,...E)}return Re.create(w,...f)}function H(w,f,...m){if(!w)throw W(f,...m)}function ge(w){const f="INTERNAL ASSERTION FAILED: "+w;throw we(f),new Error(f)}function Ne(w,f){w||ge(f)}function tn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function jr(){return"http:"===ki()||"https:"===ki()}function ki(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Fi{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ne(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ai(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jr()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(w,f){Ne(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class J{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new Fi(3e4,6e4);function Y(w,f){return w.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:w.tenantId}):f}function ce(w,f,m,E){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.Z)(function*(w,f,m,E,T={}){return Je(w,T,(0,p.Z)(function*(){let x={},U={};E&&("GET"===f?U=E:x={body:JSON.stringify(E)});const K=(0,P.xO)(Object.assign({key:w.config.apiKey},U)).slice(1),Se=yield w._getAdditionalHeaders();return Se["Content-Type"]="application/json",w.languageCode&&(Se["X-Firebase-Locale"]=w.languageCode),J.fetch()(ht(w,w.config.apiHost,m,K),Object.assign({method:f,headers:Se,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Je(w,f,m){return St.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(w,f,m){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Z),f);try{const T=new Qe(w),x=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const U=yield x.json();if("needConfirmation"in U)throw zt(w,"account-exists-with-different-credential",U);if(x.ok&&!("errorMessage"in U))return U;{const K=x.ok?U.errorMessage:U.error.message,[Se,Oe]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw zt(w,"credential-already-in-use",U);if("EMAIL_EXISTS"===Se)throw zt(w,"email-already-in-use",U);if("USER_DISABLED"===Se)throw zt(w,"user-disabled",U);const ze=E[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw pe(w,ze,Oe);fe(w,ze)}}catch(T){if(T instanceof P.ZR)throw T;fe(w,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Wt(w,f,m,E){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(w,f,m,E,T={}){const x=yield ce(w,f,m,E,T);return"mfaPendingCredential"in x&&fe(w,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function ht(w,f,m,E){const T=`${f}${m}?${E}`;return w.config.emulator?yo(w.config,T):`${w.config.apiScheme}://${T}`}class Qe{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ue(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zt(w,f,m){const E={appName:w.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=ue(w,f,E);return T.customData._tokenResponse=m,T}function Ar(){return(Ar=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vi(w){if(w)try{const f=new Date(Number(w));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ds(){return(ds=(0,p.Z)(function*(w,f=!1){const m=(0,P.m9)(w),E=yield m.getIdToken(f),T=vt(E);H(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,U=x?.sign_in_provider;return{claims:T,token:E,authTime:vi(nn(T.auth_time)),issuedAtTime:vi(nn(T.iat)),expirationTime:vi(nn(T.exp)),signInProvider:U||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function nn(w){return 1e3*Number(w)}function vt(w){const[f,m,E]=w.split(".");if(void 0===f||void 0===m||void 0===E)return we("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(m);return T?JSON.parse(T):(we("Failed to decode base64 JWT payload"),null)}catch(T){return we("Caught error parsing JWT payload as JSON",T?.toString()),null}}function kn(w,f){return st.apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(w,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof P.ZR&&function gr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Ot{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(w){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,p.Z)(function*(w){var f;const m=w.auth,E=yield w.getIdToken(),T=yield kn(w,function pr(w,f){return Li.apply(this,arguments)}(m,{idToken:E}));H(T?.users.length,m,"internal-error");const x=T.users[0];w._notifyReloadListener(x);const U=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function _o(w){return w.map(f=>{var{providerId:m}=f,E=(0,te._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(x.providerUserInfo):[],K=function dl(w,f){return[...w.filter(E=>!f.some(T=>T.providerId===E.providerId)),...f]}(w.providerData,U),ze=!!w.isAnonymous&&!(w.email&&x.passwordHash||K?.length),yt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:K,metadata:new Ot(x.createdAt,x.lastLoginAt),isAnonymous:ze};Object.assign(w,yt)}),Gt.apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(w){const f=(0,P.m9)(w);yield Vi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(w,f){const m=yield Je(w,{},(0,p.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=w.config,U=ht(w,T,"/v1/token",`key=${x}`),K=yield w._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",J.fetch()(U,{method:"POST",headers:K,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){H(f.idToken,"internal-error"),H(typeof f.idToken<"u","internal-error"),H(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ft(w){const f=vt(w);return H(f,"internal-error"),H(typeof f.exp<"u","internal-error"),H(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,p.Z)(function*(){return H(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,p.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:U}=yield function Ui(w,f){return ui.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(T,x,Number(U))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:T,expirationTime:x}=m,U=new zr;return E&&(H("string"==typeof E,"internal-error",{appName:f}),U.refreshToken=E),T&&(H("string"==typeof T,"internal-error",{appName:f}),U.accessToken=T),x&&(H("number"==typeof x,"internal-error",{appName:f}),U.expirationTime=x),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new zr,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Mr(w,f){H("string"==typeof w||typeof w>"u","internal-error",{appName:f})}class or{constructor(f){var{uid:m,auth:E,stsTokenManager:T}=f,x=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ot(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,p.Z)(function*(){const E=yield kn(m,m.stsTokenManager.getToken(m.auth,f));return H(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function ls(w){return ds.apply(this,arguments)}(this,f)}reload(){return function Xt(w){return _t.apply(this,arguments)}(this)}_assign(f){this!==f&&(H(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new or(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,p.Z)(function*(){let T=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield Vi(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,p.Z)(function*(){const m=yield f.getIdToken();return yield kn(f,function fr(w,f){return Ar.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,T,x,U,K,Se,Oe,ze;const yt=null!==(E=m.displayName)&&void 0!==E?E:void 0,wr=null!==(T=m.email)&&void 0!==T?T:void 0,ei=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,od=null!==(U=m.photoURL)&&void 0!==U?U:void 0,Pf=null!==(K=m.tenantId)&&void 0!==K?K:void 0,Vo=null!==(Se=m._redirectEventId)&&void 0!==Se?Se:void 0,Aa=null!==(Oe=m.createdAt)&&void 0!==Oe?Oe:void 0,Si=null!==(ze=m.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:Zu,emailVerified:Xs,isAnonymous:Yu,providerData:eo,stsTokenManager:to}=m;H(Zu&&to,f,"internal-error");const Qu=zr.fromJSON(this.name,to);H("string"==typeof Zu,f,"internal-error"),Mr(yt,f.name),Mr(wr,f.name),H("boolean"==typeof Xs,f,"internal-error"),H("boolean"==typeof Yu,f,"internal-error"),Mr(ei,f.name),Mr(od,f.name),Mr(Pf,f.name),Mr(Vo,f.name),Mr(Aa,f.name),Mr(Si,f.name);const Ju=new or({uid:Zu,auth:f,email:wr,emailVerified:Xs,displayName:yt,isAnonymous:Yu,photoURL:od,phoneNumber:ei,tenantId:Pf,stsTokenManager:Qu,createdAt:Aa,lastLoginAt:Si});return eo&&Array.isArray(eo)&&(Ju.providerData=eo.map(kf=>Object.assign({},kf))),Vo&&(Ju._redirectEventId=Vo),Ju}static _fromIdTokenResponse(f,m,E=!1){return(0,p.Z)(function*(){const T=new zr;T.updateFromServerResponse(m);const x=new or({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:E});return yield Vi(x),x})()}}const Gr=new Map;function Fn(w){Ne(w instanceof Function,"Expected a class definition");let f=Gr.get(w);return f?(Ne(f instanceof w,"Instance stored in cache mismatched with class"),f):(f=new w,Gr.set(w,f),f)}const fs=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,p.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,p.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,p.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return w.type="NONE",w})();function Wn(w,f,m){return`firebase:${w}:${f}:${m}`}class k{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:T,name:x}=this.auth;this.fullUserKey=Wn(this.userKey,T.apiKey,x),this.fullPersistenceKey=Wn("persistence",T.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?or._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,p.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,p.Z)(function*(){if(!m.length)return new k(Fn(fs),f,E);const T=(yield Promise.all(m.map(function(){var Oe=(0,p.Z)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let x=T[0]||Fn(fs);const U=Wn(E,f.config.apiKey,f.name);let K=null;for(const Oe of m)try{const ze=yield Oe._get(U);if(ze){const yt=or._fromJSON(f,ze);Oe!==x&&(K=yt),x=Oe;break}}catch{}const Se=T.filter(Oe=>Oe._shouldAllowMigration);return x._shouldAllowMigration&&Se.length?(x=Se[0],K&&(yield x._set(U,K.toJSON())),yield Promise.all(m.map(function(){var Oe=(0,p.Z)(function*(ze){if(ze!==x)try{yield ze._remove(U)}catch{}});return function(ze){return Oe.apply(this,arguments)}}())),new k(x,f,E)):new k(x,f,E)})()}}function O(w){const f=w.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ue(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ft(f))return"Blackberry";if(Kn(f))return"Webos";if(Q(f))return"Safari";if((f.includes("chrome/")||G(f))&&!f.includes("edge/"))return"Chrome";if(Ze(f))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function $(w=(0,P.z$)()){return/firefox\//i.test(w)}function Q(w=(0,P.z$)()){const f=w.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function G(w=(0,P.z$)()){return/crios\//i.test(w)}function Ue(w=(0,P.z$)()){return/iemobile/i.test(w)}function Ze(w=(0,P.z$)()){return/android/i.test(w)}function Ft(w=(0,P.z$)()){return/blackberry/i.test(w)}function Kn(w=(0,P.z$)()){return/webos/i.test(w)}function ln(w=(0,P.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function rn(w=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function _n(w=(0,P.z$)()){return ln(w)||Ze(w)||Kn(w)||Ft(w)||/windows phone/i.test(w)||Ue(w)}function Os(w,f=[]){let m;switch(w){case"Browser":m=O((0,P.z$)());break;case"Worker":m=`${O((0,P.z$)())}-${w}`;break;default:m=w}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ee.SDK_VERSION}/${E}`}function z(){return(z=(0,p.Z)(function*(w){return(yield ce(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ve(w,f){return Be.apply(this,arguments)}function Be(){return(Be=(0,p.Z)(function*(w,f){return ce(w,"GET","/v2/recaptchaConfig",Y(w,f))})).apply(this,arguments)}function et(w){return void 0!==w&&void 0!==w.getResponse}function gt(w){return void 0!==w&&void 0!==w.enterprise}class Pt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function sn(w){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=f,E.onerror=T=>{const x=ue("internal-error");x.customData=T,m(x)},E.type="text/javascript",E.charset="UTF-8",function Cn(){var w,f;return null!==(f=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==f?f:document}().appendChild(E)})}function Bi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class fl{constructor(f){this.type="recaptcha-enterprise",this.auth=dn(f)}verify(f="verify",m=!1){var E=this;return(0,p.Z)(function*(){function x(){return x=(0,p.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Se=(0,p.Z)(function*(Oe,ze){ve(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yt=>{if(void 0!==yt.recaptchaKey){const wr=new Pt(yt);return null==K.tenantId?K._agentRecaptchaConfig=wr:K._tenantRecaptchaConfigs[K.tenantId]=wr,Oe(wr.siteKey)}ze(new Error("recaptcha Enterprise site key undefined"))}).catch(yt=>{ze(yt)})});return function(Oe,ze){return Se.apply(this,arguments)}}())}),x.apply(this,arguments)}function U(K,Se,Oe){const ze=window.grecaptcha;gt(ze)?ze.enterprise.ready(()=>{ze.enterprise.execute(K,{action:f}).then(yt=>{Se(yt)}).catch(()=>{Se("NO_RECAPTCHA")})}):Oe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Se)=>{(function T(K){return x.apply(this,arguments)})(E.auth).then(Oe=>{if(!m&&gt(window.grecaptcha))U(Oe,K,Se);else{if(typeof window>"u")return void Se(new Error("RecaptchaVerifier is only supported in browser"));sn("https://www.google.com/recaptcha/enterprise.js?render="+Oe).then(()=>{U(Oe,K,Se)}).catch(ze=>{Se(ze)})}}).catch(Oe=>{Se(Oe)})})})()}}function ji(w,f,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,p.Z)(function*(w,f,m,E=!1){const T=new fl(w);let x;try{x=yield T.verify(m)}catch{x=yield T.verify(m,!0)}const U=Object.assign({},f);return Object.assign(U,E?{captchaResp:x}:{captchaResponse:x}),Object.assign(U,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(U,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),U})).apply(this,arguments)}class Lm{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=x=>new Promise((U,K)=>{try{U(f(x))}catch(Se){K(Se)}});E.onAbort=m,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const T of m.queue)yield T(f),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const x of E)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class qr{constructor(f,m,E,T){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zh(this),this.idTokenSubscription=new zh(this),this.beforeStateQueue=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=Fn(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var T,x;if(!E._deleted&&(E.persistenceManager=yield k.create(E,f),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,p.Z)(function*(){var E;const T=yield m.assertedPersistence.getCurrentUser();let x=T,U=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Se=x?._redirectEventId,Oe=yield m.tryRedirectSignIn(f);(!K||K===Se)&&Oe?.user&&(x=Oe.user,U=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(U)try{yield m.beforeStateQueue.runMiddleware(x)}catch(K){x=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var m=this;return(0,p.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,p.Z)(function*(){try{yield Vi(f)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,p.Z)(function*(){const E=f?(0,P.m9)(f):null;return E&&H(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,p.Z)(function*(){if(!E._deleted)return f&&H(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,p.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Fn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,p.Z)(function*(){const m=yield ve(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Pt(m);null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,E.emailPasswordEnabled&&new fl(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,p.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&Fn(f)||m._popupRedirectResolver;H(E,m,"argument-error"),m.redirectPersistenceManager=yield k.create(m,[Fn(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,p.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,p.Z)(function*(){if(f===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,T){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),U=this._isInitialized?Promise.resolve():this._initializationPromise;return H(U,this,"internal-error"),U.then(()=>x(this.currentUser)),"function"==typeof m?f.addObserver(m,E,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();T&&(E["X-Firebase-Client"]=T);const x=yield f._getAppCheckToken();return x&&(E["X-Firebase-AppCheck"]=x),E})()}_getAppCheckToken(){var f=this;return(0,p.Z)(function*(){var m;const E=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function He(w,...f){Te.logLevel<=le.in.WARN&&Te.warn(`Auth (${ee.SDK_VERSION}): ${w}`,...f)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function dn(w){return(0,P.m9)(w)}class zh{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pl(w,f,m){const E=dn(w);H(E._canInitEmulator,E,"emulator-config-failed"),H(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const T=!!m?.disableWarnings,x=yu(f),{host:U,port:K}=function vu(w){const f=yu(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const x=T[1];return{host:x,port:qh(E.substr(x.length+1))}}{const[x,U]=E.split(":");return{host:x,port:qh(U)}}}(f);E.config.emulator={url:`${x}//${U}${null===K?"":`:${K}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:U,port:K,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Um(){function w(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function yu(w){const f=w.indexOf(":");return f<0?"":w.substr(0,f+1)}function qh(w){if(!w)return null;const f=Number(w);return isNaN(f)?null:f}class da{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,m){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function _u(w,f){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:resetPassword",Y(w,f))})).apply(this,arguments)}function Bm(w,f){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xr(){return(xr=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:update",Y(w,f))})).apply(this,arguments)}function wu(w,f){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithPassword",Y(w,f))})).apply(this,arguments)}function ha(w,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:sendOobCode",Y(w,f))})).apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(w,f){return ha(w,f)})).apply(this,arguments)}function ps(w,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(w,f){return ha(w,f)})).apply(this,arguments)}function Iu(w,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,p.Z)(function*(w,f){return ha(w,f)})).apply(this,arguments)}function gl(){return(gl=(0,p.Z)(function*(w,f){return ha(w,f)})).apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithEmailLink",Y(w,f))})).apply(this,arguments)}function ot(){return(ot=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithEmailLink",Y(w,f))})).apply(this,arguments)}class qt extends da{constructor(f,m,E,T=null){super("password",E),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new qt(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new qt(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,p.Z)(function*(){var E;switch(m.signInMethod){case"password":const T={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const x=yield ji(f,T,"signInWithPassword");return wu(f,x)}return wu(f,T).catch(function(){var x=(0,p.Z)(function*(U){if("auth/missing-recaptcha-token"===U.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield ji(f,T,"signInWithPassword");return wu(f,K)}return Promise.reject(U)});return function(U){return x.apply(this,arguments)}}());case"emailLink":return function $m(w,f){return hn.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:fe(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return Bm(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ve(w,f){return ot.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:fe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function bn(w,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithIdp",Y(w,f))})).apply(this,arguments)}class ur extends da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ur(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):fe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T}=m,x=(0,te._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const U=new ur(E,T);return U.idToken=x.idToken||void 0,U.accessToken=x.accessToken||void 0,U.secret=x.secret,U.nonce=x.nonce,U.pendingToken=x.pendingToken||null,U}_getIdTokenResponse(f){return bn(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bn(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function gs(){return(gs=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:sendVerificationCode",Y(w,f))})).apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",Y(w,f))})).apply(this,arguments)}function ml(){return(ml=(0,p.Z)(function*(w,f){const m=yield Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",Y(w,f));if(m.temporaryProof)throw zt(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function ks(){return(ks=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithPhoneNumber",Y(w,Object.assign(Object.assign({},f),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class Wr extends da{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Wr({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Wr({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Hi(w,f){return nt.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function bu(w,f){return ml.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function on(w,f){return ks.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:x}=f;return E||m||T||x?new Wr({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:x}):null}}class ms{constructor(f){var m,E,T,x,U,K;const Se=(0,P.zd)((0,P.pd)(f)),Oe=null!==(m=Se.apiKey)&&void 0!==m?m:null,ze=null!==(E=Se.oobCode)&&void 0!==E?E:null,yt=function _i(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Se.mode)&&void 0!==T?T:null);H(Oe&&ze&&yt,"argument-error"),this.apiKey=Oe,this.operation=yt,this.code=ze,this.continueUrl=null!==(x=Se.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(U=Se.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(K=Se.tenantId)&&void 0!==K?K:null}static parseLink(f){const m=function Tu(w){const f=(0,P.zd)((0,P.pd)(w)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(w)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||m||f||w}(f);try{return new ms(m)}catch{return null}}}let wi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,E){return qt._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=ms.parseLink(E);return H(T,"argument-error"),qt._fromEmailAndCode(m,T.code,T.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ci{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class zi extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mt extends zi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return H("providerId"in m&&"signInMethod"in m,"argument-error"),ur._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return H(f.idToken||f.accessToken,"argument-error"),ur._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mt.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mt.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:x,nonce:U,providerId:K}=f;if(!E&&!T&&!m&&!x||!K)return null;try{return new mt(K)._credential({idToken:m,accessToken:E,nonce:U,pendingToken:x})}catch{return null}}}let jm=(()=>{class w extends zi{constructor(){super("facebook.com")}static credential(m){return ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),yl=(()=>{class w extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Hm=(()=>{class w extends zi{constructor(){super("github.com")}static credential(m){return ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ys extends da{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return bn(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bn(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T,pendingToken:x}=m;return E&&T&&x&&E===T?new ys(E,x):null}static _create(f,m){return new ys(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fs extends ci{constructor(f){H(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=ys.fromJSON(f);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return ys._create(E,m)}catch{return null}}}let Yn=(()=>{class w extends zi{constructor(){super("twitter.com")}static credential(m,E){return ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return w.credential(E,T)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function vl(w,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signUp",Y(w,f))})).apply(this,arguments)}class Ht{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,T=!1){return(0,p.Z)(function*(){const x=yield or._fromIdTokenResponse(f,E,T),U=Su(E);return new Ht({user:x,providerId:U,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const T=Su(E);return new Ht({user:f,providerId:T,_tokenResponse:E,operationType:m})})()}}function Su(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Io(w){return Do.apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(w){var f;const m=dn(w);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Ht({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield vl(m,{returnSecureToken:!0}),T=yield Ht._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class mr extends P.ZR{constructor(f,m,E,T){var x;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,mr.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,T){return new mr(f,m,E,T)}}function _l(w,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?mr._fromErrorAndOperation(w,x,f,E):x})}function zm(w){return new Set(w.map(({providerId:f})=>f).filter(f=>!!f))}function Gm(w,f){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,p.Z)(function*(w,f){const m=(0,P.m9)(w);yield Jh(!0,m,f);const{providerUserInfo:E}=yield function dt(w,f){return sr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=zm(E||[]);return m.providerData=m.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Yh.apply(this,arguments)}function wl(w,f){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,p.Z)(function*(w,f,m=!1){const E=yield kn(w,f._linkToIdToken(w.auth,yield w.getIdToken()),m);return Ht._forOperation(w,"link",E)})).apply(this,arguments)}function Jh(w,f,m){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,p.Z)(function*(w,f,m){yield Vi(f);const T=!1===w?"provider-already-linked":"no-such-provider";H(zm(f.providerData).has(m)===w,f.auth,T)})).apply(this,arguments)}function qm(w,f){return ef.apply(this,arguments)}function ef(){return(ef=(0,p.Z)(function*(w,f,m=!1){const{auth:E}=w,T="reauthenticate";try{const x=yield kn(w,_l(E,T,f,w),m);H(x.idToken,E,"internal-error");const U=vt(x.idToken);H(U,E,"internal-error");const{sub:K}=U;return H(w.uid===K,E,"user-mismatch"),Ht._forOperation(w,T,x)}catch(x){throw"auth/user-not-found"===x?.code&&fe(E,"user-mismatch"),x}})).apply(this,arguments)}function Ow(w,f){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,p.Z)(function*(w,f,m=!1){const E="signIn",T=yield _l(w,E,f),x=yield Ht._fromIdTokenResponse(w,E,T);return m||(yield w._updateCurrentUser(x.user)),x})).apply(this,arguments)}function El(w,f){return tf.apply(this,arguments)}function tf(){return(tf=(0,p.Z)(function*(w,f){return Ow(dn(w),f)})).apply(this,arguments)}function Km(w,f){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,p.Z)(function*(w,f){const m=(0,P.m9)(w);return yield Jh(!1,m,f.providerId),wl(m,f)})).apply(this,arguments)}function Pw(w,f){return an.apply(this,arguments)}function an(){return(an=(0,p.Z)(function*(w,f){return qm((0,P.m9)(w),f)})).apply(this,arguments)}function Il(){return(Il=(0,p.Z)(function*(w,f){return Wt(w,"POST","/v1/accounts:signInWithCustomToken",Y(w,f))})).apply(this,arguments)}function Jb(w,f){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,p.Z)(function*(w,f){const m=dn(w),E=yield function Ym(w,f){return Il.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),T=yield Ht._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T}),Qm.apply(this,arguments)}class Dl{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_s._fromServerResponse(f,m):"totpInfo"in m?Au._fromServerResponse(f,m):fe(f,"internal-error")}}class _s extends Dl{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _s(m)}}class Au extends Dl{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Au(m)}}function Mu(w,f,m){var E;H((null===(E=m.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,w,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function nf(w,f,m){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,p.Z)(function*(w,f,m){var E;const T=dn(w),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const U=yield ji(T,x,"getOobCode",!0);m&&Mu(T,U,m),yield ps(T,U)}else m&&Mu(T,x,m),yield ps(T,x).catch(function(){var U=(0,p.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Se=yield ji(T,x,"getOobCode",!0);m&&Mu(T,Se,m),yield ps(T,Se)}});return function(K){return U.apply(this,arguments)}}())}),Cl.apply(this,arguments)}function rf(w,f,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,p.Z)(function*(w,f,m){yield _u((0,P.m9)(w),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Jm(w,f){return xu.apply(this,arguments)}function xu(){return xu=(0,p.Z)(function*(w,f){yield function Zh(w,f){return xr.apply(this,arguments)}((0,P.m9)(w),{oobCode:f})}),xu.apply(this,arguments)}function Co(w,f){return li.apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(w,f){const m=(0,P.m9)(w),E=yield _u(m,{oobCode:f}),T=E.requestType;switch(H(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(E.mfaInfo,m,"internal-error");default:H(E.email,m,"internal-error")}let x=null;return E.mfaInfo&&(x=Dl._fromServerResponse(dn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function Tl(w,f){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(w,f){const{data:m}=yield Co((0,P.m9)(w),f);return m.email})).apply(this,arguments)}function Sl(w,f,m){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,p.Z)(function*(w,f,m){var E;const T=dn(w),x={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let U;if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Oe=yield ji(T,x,"signUpPassword");U=vl(T,Oe)}else U=vl(T,x).catch(function(){var Oe=(0,p.Z)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const yt=yield ji(T,x,"signUpPassword");return vl(T,yt)}return Promise.reject(ze)});return function(ze){return Oe.apply(this,arguments)}}());const K=yield U.catch(Oe=>Promise.reject(Oe)),Se=yield Ht._fromIdTokenResponse(T,"signIn",K);return yield T._updateCurrentUser(Se.user),Se}),Xm.apply(this,arguments)}function sf(w,f,m){return El((0,P.m9)(w),wi.credential(f,m))}function Al(w,f,m){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,p.Z)(function*(w,f,m){var E;const T=dn(w),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function U(K,Se){H(Se.handleCodeInApp,T,"argument-error"),Se&&Mu(T,K,Se)}if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const K=yield ji(T,x,"getOobCode",!0);U(K,m),yield Iu(T,K)}else U(x,m),yield Iu(T,x).catch(function(){var K=(0,p.Z)(function*(Se){if("auth/missing-recaptcha-token"!==Se.code)return Promise.reject(Se);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Oe=yield ji(T,x,"getOobCode",!0);U(Oe,m),yield Iu(T,Oe)}});return function(Se){return K.apply(this,arguments)}}())}),Ls.apply(this,arguments)}function kw(w,f){const m=ms.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}function Xb(w,f,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w),T=wi.credentialWithLink(f,m||tn());return H(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),El(E,T)})).apply(this,arguments)}function uf(){return(uf=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:createAuthUri",Y(w,f))})).apply(this,arguments)}function xl(w,f){return cf.apply(this,arguments)}function cf(){return cf=(0,p.Z)(function*(w,f){const E={identifier:f,continueUri:jr()?tn():"http://localhost"},{signinMethods:T}=yield function af(w,f){return uf.apply(this,arguments)}((0,P.m9)(w),E);return T||[]}),cf.apply(this,arguments)}function eT(w,f){return lf.apply(this,arguments)}function lf(){return lf=(0,p.Z)(function*(w,f){const m=(0,P.m9)(w),T={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};f&&Mu(m.auth,T,f);const{email:x}=yield function Mn(w,f){return Zn.apply(this,arguments)}(m.auth,T);x!==w.email&&(yield w.reload())}),lf.apply(this,arguments)}function Fw(w,f,m){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:f};m&&Mu(E.auth,x,m);const{email:U}=yield function Cu(w,f){return gl.apply(this,arguments)}(E.auth,x);U!==w.email&&(yield w.reload())}),Nu.apply(this,arguments)}function df(){return(df=(0,p.Z)(function*(w,f){return ce(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hf(w,f){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,p.Z)(function*(w,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,P.m9)(w),x={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},U=yield kn(E,function ey(w,f){return df.apply(this,arguments)}(E.auth,x));E.displayName=U.displayName||null,E.photoURL=U.photoUrl||null;const K=E.providerData.find(({providerId:Se})=>"password"===Se);K&&(K.displayName=E.displayName,K.photoURL=E.photoURL),yield E._updateTokensIfNecessary(U)}),Nl.apply(this,arguments)}function Lw(w,f){return ff((0,P.m9)(w),f,null)}function Vw(w,f){return ff((0,P.m9)(w),null,f)}function ff(w,f,m){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,p.Z)(function*(w,f,m){const{auth:E}=w,x={idToken:yield w.getIdToken(),returnSecureToken:!0};f&&(x.email=f),m&&(x.password=m);const U=yield kn(w,Bm(E,x));yield w._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class Vs{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class ty extends Vs{constructor(f,m,E,T){super(f,m,E),this.username=T}}class Nr extends Vs{constructor(f,m){super(f,"facebook.com",m)}}class pf extends ty{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ru extends Vs{constructor(f,m){super(f,"google.com",m)}}class Bt extends ty{constructor(f,m,E){super(f,"twitter.com",m,E)}}function ny(w){const{user:f,_tokenResponse:m}=w;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Uw(w){var f,m;if(!w)return null;const{providerId:E}=w,T=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},x=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const U=null===(m=null===(f=vt(w.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(U)return new Vs(x,"anonymous"!==U&&"custom"!==U?U:null)}if(!E)return null;switch(E){case"facebook.com":return new Nr(x,T);case"github.com":return new pf(x,T);case"google.com":return new Ru(x,T);case"twitter.com":return new Bt(x,T,w.screenName||null);case"custom":case"anonymous":return new Vs(x,null);default:return new Vs(x,E,T)}}(m)}class Ii{constructor(f,m,E){this.type=f,this.credential=m,this.auth=E}static _fromIdtoken(f,m){return new Ii("enroll",f,m)}static _fromMfaPendingCredential(f){return new Ii("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ii._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return Ii._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ou{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=dn(f),T=m.customData._serverResponse,x=(T.mfaInfo||[]).map(K=>Dl._fromServerResponse(E,K));H(T.mfaPendingCredential,E,"internal-error");const U=Ii._fromMfaPendingCredential(T.mfaPendingCredential);return new Ou(U,x,function(){var K=(0,p.Z)(function*(Se){const Oe=yield Se._process(E,U);delete T.mfaInfo,delete T.mfaPendingCredential;const ze=Object.assign(Object.assign({},T),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(m.operationType){case"signIn":const yt=yield Ht._fromIdTokenResponse(E,m.operationType,ze);return yield E._updateCurrentUser(yt.user),yt;case"reauthenticate":return H(m.user,E,"internal-error"),Ht._forOperation(m.user,m.operationType,ze);default:fe(E,"internal-error")}});return function(Se){return K.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,p.Z)(function*(){return m.signInResolver(f)})()}}function yf(w,f){var m;const E=(0,P.m9)(w),T=f;return H(f.customData.operationType,E,"argument-error"),H(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Ou._fromError(E,T)}class Ol{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Dl._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Ol(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Ii._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var E=this;return(0,p.Z)(function*(){const T=f,x=yield E.getSession(),U=yield kn(E.user,T._process(E.user.auth,x,m));return yield E.user._updateTokensIfNecessary(U),E.user.reload()})()}unenroll(f){var m=this;return(0,p.Z)(function*(){const E="string"==typeof f?f:f.uid,T=yield m.user.getIdToken();try{const x=yield kn(m.user,function wf(w,f){return ce(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(w,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:U})=>U!==E),yield m.user._updateTokensIfNecessary(x),yield m.user.reload()}catch(x){throw x}})()}}const Pu=new WeakMap;function Pl(w){const f=(0,P.m9)(w);return Pu.has(f)||Pu.set(f,Ol._fromUser(f)),Pu.get(f)}const ku="__sak";class Ef{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const If=(()=>{class w extends Ef{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bs(){const w=(0,P.z$)();return Q(w)||ln(w)}()&&function Dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),x=this.localCache[E];T!==x&&m(E,x,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((K,Se,Oe)=>{this.notifyListeners(K,Oe)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(T);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const x=()=>{const K=this.storage.getItem(T);!E&&this.localCache[T]===K||this.notifyListeners(T,K)},U=this.storage.getItem(T);!function vn(){return(0,P.w1)()&&10===document.documentMode}()||U===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const x of Array.from(T))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,x=this;return(0,p.Z)(function*(){yield T().call(x,m,E),x.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,p.Z)(function*(){const x=yield E().call(T,m);return T.localCache[m]=JSON.stringify(x),x})()}_remove(m){var E=()=>super._remove,T=this;return(0,p.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return w.type="LOCAL",w})(),he=(()=>{class w extends Ef{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return w.type="SESSION",w})();let Df=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(x=>x.isListeningto(m));if(E)return E;const T=new w(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,p.Z)(function*(){const T=m,{eventId:x,eventType:U,data:K}=T.data,Se=E.handlersMap[U];if(!Se?.size)return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:U});const Oe=Array.from(Se).map(function(){var yt=(0,p.Z)(function*(wr){return wr(T.origin,K)});return function(wr){return yt.apply(this,arguments)}}()),ze=yield function At(w){return Promise.all(w.map(function(){var f=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Oe);T.ports[0].postMessage({status:"done",eventId:x,eventType:U,response:ze})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function fa(w="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return w+m}class Qn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var T=this;return(0,p.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let U,K;return new Promise((Se,Oe)=>{const ze=fa("",20);x.port1.start();const yt=setTimeout(()=>{Oe(new Error("unsupported_event"))},E);K={messageChannel:x,onMessage(wr){const ei=wr;if(ei.data.eventId===ze)switch(ei.data.status){case"ack":clearTimeout(yt),U=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Se(ei.data.response);break;default:clearTimeout(yt),clearTimeout(U),Oe(new Error("invalid_response"))}}},T.handlers.add(K),x.port1.addEventListener("message",K.onMessage),T.target.postMessage({eventType:f,eventId:ze,data:m},[x.port2])}).finally(()=>{K&&T.removeMessageHandler(K)})})()}}function un(){return window}function Zr(){return typeof un().WorkerGlobalScope<"u"&&"function"==typeof un().importScripts}function pa(){return(pa=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ll="firebaseLocalStorageDb",Pr="firebaseLocalStorage",Vl="fbase_key";class Gi{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Yr(w,f){return w.transaction([Pr],f?"readwrite":"readonly").objectStore(Pr)}function Lu(){const w=indexedDB.open(Ll,1);return new Promise((f,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Pr,{keyPath:Vl})}catch(T){m(T)}}),w.addEventListener("success",(0,p.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Pr)?f(E):(E.close(),yield function jw(){const w=indexedDB.deleteDatabase(Ll);return new Gi(w).toPromise()}(),f(yield Lu()))}))})}function Ul(w,f,m){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,p.Z)(function*(w,f,m){const E=Yr(w,!0).put({[Vl]:f,value:m});return new Gi(E).toPromise()})).apply(this,arguments)}function ga(){return(ga=(0,p.Z)(function*(w,f){const m=Yr(w,!1).get(f),E=yield new Gi(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Bl(w,f){const m=Yr(w,!0).delete(f);return new Gi(m).toPromise()}const $l=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Lu()),m.db})()}_withRetries(m){var E=this;return(0,p.Z)(function*(){let T=0;for(;;)try{const x=yield E._openDb();return yield m(x)}catch(x){if(T++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return Zr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=Df._getInstance(function $w(){return Zr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(T,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(T,x){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function Fl(){return pa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Qn(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(E=x[0])&&void 0!==E&&E.fulfilled&&null!==(T=x[0])&&void 0!==T&&T.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Cf(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Lu();return yield Ul(m,ku,"1"),yield Bl(m,ku),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(x=>Ul(x,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,p.Z)(function*(){const T=yield E._withRetries(x=>function Di(w,f){return ga.apply(this,arguments)}(x,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(T=>Bl(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const E=yield m._withRetries(U=>{const K=Yr(U,!1).getAll();return new Gi(K).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:U,value:K}of E)x.add(U),JSON.stringify(m.localCache[U])!==JSON.stringify(K)&&(m.notifyListeners(U,K),T.push(U));for(const U of Object.keys(m.localCache))m.localCache[U]&&!x.has(U)&&(m.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const x of Array.from(T))x(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),jl=1e12;class zw{constructor(f){this.auth=f,this.counter=jl,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new yr(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||jl;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||jl))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,p.Z)(function*(){var E;return null===(E=m._widgets.get(f||jl))||void 0===E||E.execute(),""})()}}class yr{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;H(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function To(w){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const en=Bi("rcb"),hy=new Fi(3e4,6e4);class Gw{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=un().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return H(function qw(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&et(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((E,T)=>{const x=un().setTimeout(()=>{T(ue(f,"network-request-failed"))},hy.get());un()[en]=()=>{un().clearTimeout(x),delete un()[en];const K=un().grecaptcha;if(!K||!et(K))return void T(ue(f,"internal-error"));const Se=K.render;K.render=(Oe,ze)=>{const yt=Se(Oe,ze);return this.counter++,yt},this.hostLanguage=m,E(K)},sn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:en,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),T(ue(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=un().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fy{load(f){return(0,p.Z)(function*(){return new zw(f)})()}clearedOneInstance(){}}const Mf="recaptcha",Hl={theme:"light",type:"image"};class $s{constructor(f,m=Object.assign({},Hl),E){this.parameters=m,this.type=Mf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(E),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;H(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fy:new Gw,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(x=>{const U=K=>{K&&(f.tokenChangeListeners.delete(U),x(K))};f.tokenChangeListeners.add(U),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=un()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){H(jr()&&!Zr(),f.auth,"internal-error"),yield function Ww(){let w=null;return new Promise(f=>{"complete"!==document.readyState?(w=()=>f(),window.addEventListener("load",w)):f()}).catch(f=>{throw w&&window.removeEventListener("load",w),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ne(w){return z.apply(this,arguments)}(f.auth);H(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Wr._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function qi(w,f,m){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(w,f,m){const E=dn(w),T=yield Wi(E,f,(0,P.m9)(m));return new Xn(T,x=>El(E,x))})).apply(this,arguments)}function wn(w,f,m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w);yield Jh(!1,E,"phone");const T=yield Wi(E.auth,f,(0,P.m9)(m));return new Xn(T,x=>Km(E,x))})).apply(this,arguments)}function Qr(w,f,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w),T=yield Wi(E.auth,f,(0,P.m9)(m));return new Xn(T,x=>Pw(E,x))})).apply(this,arguments)}function Wi(w,f,m){return js.apply(this,arguments)}function js(){return js=(0,p.Z)(function*(w,f,m){var E;const T=yield m.verify();try{let x;if(H("string"==typeof T,w,"argument-error"),H(m.type===Mf,w,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const U=x.session;if("phoneNumber"in x)return H("enroll"===U.type,w,"internal-error"),(yield function vf(w,f){return ce(w,"POST","/v2/accounts/mfaEnrollment:start",Y(w,f))}(w,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{H("signin"===U.type,w,"internal-error");const K=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return H(K,w,"missing-multi-factor-info"),(yield function cy(w,f){return ce(w,"POST","/v2/accounts/mfaSignIn:start",Y(w,f))}(w,{mfaPendingCredential:U.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function fn(w,f){return gs.apply(this,arguments)}(w,{phoneNumber:x.phoneNumber,recaptchaToken:T});return U}}finally{m._reset()}}),js.apply(this,arguments)}function py(w,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,p.Z)(function*(w,f){yield wl((0,P.m9)(w),f)})).apply(this,arguments)}let ql=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=dn(m)}verifyPhoneNumber(m,E){return Wi(this.auth,m,(0,P.m9)(E))}static credential(m,E){return Wr._fromVerification(m,E)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?Wr._fromTokenResponse(E,T):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ci(w,f){return f?Fn(f):(H(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class xt extends da{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return bn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return bn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function gy(w){return Ow(w.auth,new xt(w),w.bypassAuthState)}function Kw(w){const{auth:f,user:m}=w;return H(m,f,"internal-error"),qm(m,new xt(w),w.bypassAuthState)}function my(w){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(w){const{auth:f,user:m}=w;return H(m,f,"internal-error"),wl(m,new xt(w),w.bypassAuthState)})).apply(this,arguments)}class Ao{constructor(f,m,E,T,x=!1){this.auth=f,this.resolver=E,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,p.Z)(function*(E,T){f.pendingPromise={resolve:E,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:x,tenantId:U,error:K,type:Se}=f;if(K)return void m.reject(K);const Oe={auth:m.auth,requestUri:E,sessionId:T,tenantId:U||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Se)(Oe))}catch(ze){m.reject(ze)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return gy;case"linkViaPopup":case"linkViaRedirect":return my;case"reauthViaPopup":case"reauthViaRedirect":return Kw;default:fe(this.auth,"internal-error")}}resolve(f){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new Fi(2e3,1e4);function Uu(w,f,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(w,f,m){const E=dn(w);Me(w,f,ci);const T=Ci(E,m);return new Gs(E,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Bu(w,f,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w);Me(E.auth,f,ci);const T=Ci(E.auth,m);return new Gs(E.auth,"reauthViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}function xf(w,f,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w);Me(E.auth,f,ci);const T=Ci(E.auth,m);return new Gs(E.auth,"linkViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}let Gs=(()=>{class w extends Ao{constructor(m,E,T,x,U){super(m,E,x,U),this.provider=T,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const E=yield m.execute();return H(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,p.Z)(function*(){Ne(1===m.filter.length,"Popup operations only handle one event");const E=fa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ue(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Jr.get())};m()}}return w.currentPopupAction=null,w})();const bi="pendingRedirect",qs=new Map;class Mo extends Ao{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,p.Z)(function*(){let E=qs.get(m.auth._key());if(!E){try{const x=(yield function $u(w,f){return ju.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(x)}catch(T){E=()=>Promise.reject(T)}qs.set(m.auth._key(),E)}return m.bypassAuthState||qs.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const T=yield E.auth._redirectUserForId(f.eventId);if(T)return E.user=T,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function ju(){return(ju=(0,p.Z)(function*(w,f){const m=Hu(f),E=ya(w);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function Ki(w,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(w,f){return ya(w)._set(Hu(f),"true")})).apply(this,arguments)}function Kl(){qs.clear()}function vr(w,f){qs.set(w._key(),f)}function ya(w){return Fn(w._redirectPersistence)}function Hu(w){return Wn(bi,w.config.apiKey,w.name)}function Es(w,f,m){return function Vn(w,f,m){return di.apply(this,arguments)}(w,f,m)}function di(){return(di=(0,p.Z)(function*(w,f,m){const E=dn(w);Me(w,f,ci),yield E._initializationPromise;const T=Ci(E,m);return yield Ki(T,E),T._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Ws(w,f,m){return function Zi(w,f,m){return xn.apply(this,arguments)}(w,f,m)}function xn(){return(xn=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w);Me(E.auth,f,ci),yield E.auth._initializationPromise;const T=Ci(E.auth,m);yield Ki(T,E.auth);const x=yield zu(E);return T._openRedirect(E.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function va(w,f,m){return function Ks(w,f,m){return Zl.apply(this,arguments)}(w,f,m)}function Zl(){return(Zl=(0,p.Z)(function*(w,f,m){const E=(0,P.m9)(w);Me(E.auth,f,ci),yield E.auth._initializationPromise;const T=Ci(E.auth,m);yield Jh(!1,E,f.providerId),yield Ki(T,E.auth);const x=yield zu(E);return T._openRedirect(E.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Yi(w,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,p.Z)(function*(w,f){return yield dn(w)._initializationPromise,Nn(w,f,!1)})).apply(this,arguments)}function Nn(w,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(w,f,m=!1){const E=dn(w),T=Ci(E,f),U=yield new Mo(E,T,m).execute();return U&&!m&&(delete U.user._redirectEventId,yield E._persistUserIfCurrent(U.user),yield E._setRedirectUser(null,f)),U})).apply(this,arguments)}function zu(w){return Is.apply(this,arguments)}function Is(){return(Is=(0,p.Z)(function*(w){const f=fa(`${w.uid}:::`);return w._redirectEventId=f,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),f})).apply(this,arguments)}class Zs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function it(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(w);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!xo(f)){const T=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ue(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yl(f))}saveEventToCache(f){this.cachedEventUids.add(Yl(f)),this.lastProcessedEventTime=Date.now()}}function Yl(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(f=>f).join("-")}function xo({type:w,error:f}){return"unknown"===w&&"auth/no-auth-event"===f?.code}function _a(w){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,p.Z)(function*(w,f={}){return ce(w,"GET","/v1/projects",f)})).apply(this,arguments)}const wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;function hi(){return(hi=(0,p.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:f}=yield _a(w);for(const m of f)try{if(yy(m))return}catch{}fe(w,"unauthorized-domain")})).apply(this,arguments)}function yy(w){const f=tn(),{protocol:m,hostname:E}=new URL(f);if(w.startsWith("chrome-extension://")){const U=new URL(w);return""===U.hostname&&""===E?"chrome-extension:"===m&&w.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&U.hostname===E}if(!Zw.test(m))return!1;if(wa.test(w))return E===w;const T=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const vy=new Fi(3e4,6e4);function _r(){const w=un().___jsl;if(w?.H)for(const f of Object.keys(w.H))if(w.H[f].r=w.H[f].r||[],w.H[f].L=w.H[f].L||[],w.H[f].r=[...w.H[f].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let Ea=null;const wy=new Fi(5e3,15e3),No="__/auth/iframe",Ey="emulator/auth/iframe",kr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ia(w){const f=w.config;H(f.authDomain,w,"auth-domain-config-required");const m=f.emulator?yo(f,Ey):`https://${w.config.authDomain}/${No}`,E={apiKey:f.apiKey,appName:w.name,v:ee.SDK_VERSION},T=Ro.get(w.config.apiHost);T&&(E.eid=T);const x=w._getFrameworks();return x.length&&(E.fw=x.join(",")),`${m}?${(0,P.xO)(E).slice(1)}`}function Tt(){return Tt=(0,p.Z)(function*(w){const f=yield function En(w){return Ea=Ea||function _y(w){return new Promise((f,m)=>{var E,T,x;function U(){_r(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{_r(),m(ue(w,"network-request-failed"))},timeout:vy.get()})}if(null!==(T=null===(E=un().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(x=un().gapi)||void 0===x||!x.load){const K=Bi("iframefcb");return un()[K]=()=>{gapi.load?U():m(ue(w,"network-request-failed"))},sn(`https://apis.google.com/js/api.js?onload=${K}`).catch(Se=>m(Se))}U()}}).catch(f=>{throw Ea=null,f})}(w),Ea}(w),m=un().gapi;return H(m,w,"internal-error"),f.open({where:document.body,url:Ia(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kr,dontclear:!0},E=>new Promise(function(){var T=(0,p.Z)(function*(x,U){yield E.restyle({setHideOnLeave:!1});const K=ue(w,"network-request-failed"),Se=un().setTimeout(()=>{U(K)},wy.get());function Oe(){un().clearTimeout(Se),x(E)}E.ping(Oe).then(Oe,()=>{U(K)})});return function(x,U){return T.apply(this,arguments)}}()))}),Tt.apply(this,arguments)}const Da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ko="__/auth/handler",Nf="emulator/auth/handler",Gu=encodeURIComponent("fac");function Xl(w,f,m,E,T,x){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(w,f,m,E,T,x){H(w.config.authDomain,w,"auth-domain-config-required"),H(w.config.apiKey,w,"invalid-api-key");const U={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:E,v:ee.SDK_VERSION,eventId:T};if(f instanceof ci){f.setDefaultLanguage(w.languageCode),U.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(U.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,yt]of Object.entries(x||{}))U[ze]=yt}if(f instanceof zi){const ze=f.getScopes().filter(yt=>""!==yt);ze.length>0&&(U.scopes=ze.join(","))}w.tenantId&&(U.tid=w.tenantId);const K=U;for(const ze of Object.keys(K))void 0===K[ze]&&delete K[ze];const Se=yield w._getAppCheckToken(),Oe=Se?`#${Gu}=${encodeURIComponent(Se)}`:"";return`${function qu({config:w}){return w.emulator?yo(w,Nf):`https://${w.authDomain}/${ko}`}(w)}?${(0,P.xO)(K).slice(1)}${Oe}`})).apply(this,arguments)}const Wu="webStorageSupport",ba=class Ku{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=he,this._completeRedirectFn=Nn,this._overrideRedirectResult=vr}_openPopup(f,m,E,T){var x=this;return(0,p.Z)(function*(){var U;Ne(null===(U=x.eventManagers[f._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const K=yield Xl(f,m,E,tn(),T);return function Po(w,f,m,E=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-E)/2,0).toString();let K="";const Se=Object.assign(Object.assign({},Da),{width:E.toString(),height:T.toString(),top:x,left:U}),Oe=(0,P.z$)().toLowerCase();m&&(K=G(Oe)?"_blank":m),$(Oe)&&(f=f||"http://localhost",Se.scrollbars="yes");const ze=Object.entries(Se).reduce((wr,[ei,od])=>`${wr}${ei}=${od},`,"");if(function It(w=(0,P.z$)()){var f;return ln(w)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Oe)&&"_self"!==K)return function Jl(w,f){const m=document.createElement("a");m.href=w,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",K),new Oo(null);const yt=window.open(f||"",K,ze);H(yt,w,"popup-blocked");try{yt.focus()}catch{}return new Oo(yt)}(f,K,fa())})()}_openRedirect(f,m,E,T){var x=this;return(0,p.Z)(function*(){return yield x._originValidation(f),function Fu(w){un().location.href=w}(yield Xl(f,m,E,tn(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:x}=this.eventManagers[m];return T?Promise.resolve(T):(Ne(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,p.Z)(function*(){const E=yield function Ji(w){return Tt.apply(this,arguments)}(f),T=new Zs(f);return E.register("authEvent",x=>(H(x?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=E,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Wu,{type:Wu},T=>{var x;const U=null===(x=T?.[0])||void 0===x?void 0:x[Wu];void 0!==U&&m(!!U),fe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yw(w){return hi.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return _n()||Q()||ln()}};class Iy{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}class Fo extends Iy{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Fo(f)}_finalizeEnroll(f,m,E){return function _f(w,f){return ce(w,"POST","/v2/accounts/mfaEnrollment:finalize",Y(w,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Tf(w,f){return ce(w,"POST","/v2/accounts/mfaSignIn:finalize",Y(w,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ed=(()=>{class w{constructor(){}static assertion(m){return Fo._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var Ta="@firebase/auth";class Dy{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{f(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Js=(0,P.Pz)("authIdTokenMaxAge")||300;let Cy=null;const sd=w=>function(){var f=(0,p.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Js)return;const x=E?.token;Cy!==x&&(Cy=x,yield fetch(w,{method:x?"POST":"DELETE",headers:x?{Authorization:`Bearer ${x}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Of(w=(0,ee.getApp)()){const f=(0,ee._getProvider)(w,"auth");if(f.isInitialized())return f.getImmediate();const m=function Gh(w,f){const m=(0,ee._getProvider)(w,"auth");if(m.isInitialized()){const T=m.getImmediate(),x=m.getOptions();if((0,P.vZ)(x,f??{}))return T;fe(T,"already-initialized")}return m.initialize({options:f})}(w,{popupRedirectResolver:ba,persistence:[$l,If,he]}),E=(0,P.Pz)("authTokenSyncURL");if(E){const x=sd(E);(function gf(w,f,m){(0,P.m9)(w).beforeAuthStateChanged(f,m)})(m,x,()=>x(m.currentUser)),function ry(w,f,m,E){(0,P.m9)(w).onIdTokenChanged(f,m,E)}(m,U=>x(U))}const T=(0,P.q4)("auth");return T&&pl(m,`http://${T}`),m}!function Qs(w){(0,ee._registerComponent)(new ye.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:U,authDomain:K}=E.options;H(U&&!U.includes(":"),"invalid-api-key",{appName:E.name});const Se={apiKey:U,authDomain:K,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Os(w)},Oe=new qr(E,T,x,Se);return function Vm(w,f){const m=f?.persistence||[],E=(Array.isArray(m)?m:[m]).map(Fn);f?.errorMap&&w._updateErrorMap(f.errorMap),w._initializeWithPersistence(E,f?.popupRedirectResolver)}(Oe,m),Oe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new ye.wA("auth-internal",f=>{const m=dn(f.getProvider("auth").getImmediate());return new Dy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Ta,"0.23.2",function Rf(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ee.registerVersion)(Ta,"0.23.2","esm2017")}("Browser")},9058:(Ke,me,R)=>{R.d(me,{$s:()=>Fn,BH:()=>pe,L:()=>be,LL:()=>Ce,P0:()=>we,Pz:()=>ue,Sg:()=>Me,UG:()=>ge,US:()=>ye,ZB:()=>X,ZR:()=>ce,aH:()=>fe,b$:()=>jr,eu:()=>Z,hl:()=>J,jU:()=>Ne,m9:()=>Wn,ne:()=>kn,pd:()=>vt,q4:()=>He,r3:()=>dt,ru:()=>tn,tV:()=>L,uI:()=>H,vZ:()=>vi,w1:()=>ai,xO:()=>ds,xb:()=>pr,z$:()=>W,zI:()=>oe,zd:()=>nn});const te=function(k){const O=[];let $=0;for(let Q=0;Q<k.length;Q++){let G=k.charCodeAt(Q);G<128?O[$++]=G:G<2048?(O[$++]=G>>6|192,O[$++]=63&G|128):55296==(64512&G)&&Q+1<k.length&&56320==(64512&k.charCodeAt(Q+1))?(G=65536+((1023&G)<<10)+(1023&k.charCodeAt(++Q)),O[$++]=G>>18|240,O[$++]=G>>12&63|128,O[$++]=G>>6&63|128,O[$++]=63&G|128):(O[$++]=G>>12|224,O[$++]=G>>6&63|128,O[$++]=63&G|128)}return O},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,O){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let G=0;G<k.length;G+=3){const Ue=k[G],Ze=G+1<k.length,Ft=Ze?k[G+1]:0,Kn=G+2<k.length,ln=Kn?k[G+2]:0;let vn=(15&Ft)<<2|ln>>6,_n=63&ln;Kn||(_n=64,Ze||(vn=64)),Q.push($[Ue>>2],$[(3&Ue)<<4|Ft>>4],$[vn],$[_n])}return Q.join("")},encodeString(k,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(k):this.encodeByteArray(te(k),O)},decodeString(k,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(k):function(k){const O=[];let $=0,Q=0;for(;$<k.length;){const G=k[$++];if(G<128)O[Q++]=String.fromCharCode(G);else if(G>191&&G<224){const Ue=k[$++];O[Q++]=String.fromCharCode((31&G)<<6|63&Ue)}else if(G>239&&G<365){const Kn=((7&G)<<18|(63&k[$++])<<12|(63&k[$++])<<6|63&k[$++])-65536;O[Q++]=String.fromCharCode(55296+(Kn>>10)),O[Q++]=String.fromCharCode(56320+(1023&Kn))}else{const Ue=k[$++],Ze=k[$++];O[Q++]=String.fromCharCode((15&G)<<12|(63&Ue)<<6|63&Ze)}}return O.join("")}(this.decodeStringToByteArray(k,O))},decodeStringToByteArray(k,O){this.init_();const $=O?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let G=0;G<k.length;){const Ue=$[k.charAt(G++)],Ft=G<k.length?$[k.charAt(G)]:0;++G;const ln=G<k.length?$[k.charAt(G)]:64;++G;const It=G<k.length?$[k.charAt(G)]:64;if(++G,null==Ue||null==Ft||null==ln||null==It)throw new Ae;Q.push(Ue<<2|Ft>>4),64!==ln&&(Q.push(Ft<<4&240|ln>>2),64!==It&&Q.push(ln<<6&192|It))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(k){return function(k){const O=te(k);return ye.encodeByteArray(O,!0)}(k).replace(/\./g,"")},L=function(k){try{return ye.decodeString(k,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function X(k,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return O}for(const $ in O)!O.hasOwnProperty($)||!xe($)||(k[$]=X(k[$],O[$]));return k}function xe(k){return"__proto__"!==k}const Te=()=>{try{return function ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=k&&L(k[1]);return O&&JSON.parse(O)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},He=k=>{var O,$;return null===($=null===(O=Te())||void 0===O?void 0:O.emulatorHosts)||void 0===$?void 0:$[k]},we=k=>{const O=He(k);if(!O)return;const $=O.lastIndexOf(":");if($<=0||$+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const Q=parseInt(O.substring($+1),10);return"["===O[0]?[O.substring(1,$-1),Q]:[O.substring(0,$),Q]},fe=()=>{var k;return null===(k=Te())||void 0===k?void 0:k.config},ue=k=>{var O;return null===(O=Te())||void 0===O?void 0:O[`_${k}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,$)=>{this.resolve=O,this.reject=$})}wrapCallback(O){return($,Q)=>{$?this.reject($):this.resolve(Q),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O($):O($,Q))}}}function Me(k,O){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=O||"demo-project",G=k.iat||0,Ue=k.sub||k.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:G,exp:G+3600,auth_time:G,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},k);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(Ze)),""].join(".")}function W(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function ge(){var k;const O=null===(k=Te())||void 0===k?void 0:k.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function tn(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function jr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){const k=W();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((k,O)=>{try{let $=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(Q);G.onsuccess=()=>{G.result.close(),$||self.indexedDB.deleteDatabase(Q),k(!0)},G.onupgradeneeded=()=>{$=!1},G.onerror=()=>{var Ue;O((null===(Ue=G.error)||void 0===Ue?void 0:Ue.message)||"")}}catch($){O($)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ce extends Error{constructor(O,$,Q){super($),this.code=O,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}}class Ce{constructor(O,$,Q){this.service=O,this.serviceName=$,this.errors=Q}create(O,...$){const Q=$[0]||{},G=`${this.service}/${O}`,Ue=this.errors[O],Ze=Ue?function Je(k,O){return k.replace(St,($,Q)=>{const G=O[Q];return null!=G?String(G):`<${Q}?>`})}(Ue,Q):"Error";return new ce(G,`${this.serviceName}: ${Ze} (${G}).`,Q)}}const St=/\{\$([^}]+)}/g;function dt(k,O){return Object.prototype.hasOwnProperty.call(k,O)}function pr(k){for(const O in k)if(Object.prototype.hasOwnProperty.call(k,O))return!1;return!0}function vi(k,O){if(k===O)return!0;const $=Object.keys(k),Q=Object.keys(O);for(const G of $){if(!Q.includes(G))return!1;const Ue=k[G],Ze=O[G];if(vo(Ue)&&vo(Ze)){if(!vi(Ue,Ze))return!1}else if(Ue!==Ze)return!1}for(const G of Q)if(!$.includes(G))return!1;return!0}function vo(k){return null!==k&&"object"==typeof k}function ds(k){const O=[];for(const[$,Q]of Object.entries(k))Array.isArray(Q)?Q.forEach(G=>{O.push(encodeURIComponent($)+"="+encodeURIComponent(G))}):O.push(encodeURIComponent($)+"="+encodeURIComponent(Q));return O.length?"&"+O.join("&"):""}function nn(k){const O={};return k.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[G,Ue]=Q.split("=");O[decodeURIComponent(G)]=decodeURIComponent(Ue)}}),O}function vt(k){const O=k.indexOf("?");if(!O)return"";const $=k.indexOf("#",O);return k.substring(O,$>0?$:void 0)}function kn(k,O){const $=new st(k,O);return $.subscribe.bind($)}class st{constructor(O,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{O(this)}).catch(Q=>{this.error(Q)})}next(O){this.forEachObserver($=>{$.next(O)})}error(O){this.forEachObserver($=>{$.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,$,Q){let G;if(void 0===O&&void 0===$&&void 0===Q)throw new Error("Missing Observer.");G=function Hr(k,O){if("object"!=typeof k||null===k)return!1;for(const $ of O)if($ in k&&"function"==typeof k[$])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:$,complete:Q},void 0===G.next&&(G.next=Ot),void 0===G.error&&(G.error=Ot),void 0===G.complete&&(G.complete=Ot);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ue}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,O)}sendOne(O,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{$(this.observers[O])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}const zr=1e3,Mr=2,or=144e5,Gr=.5;function Fn(k,O=zr,$=Mr){const Q=O*Math.pow($,k),G=Math.round(Gr*Q*(Math.random()-.5)*2);return Math.min(or,Q+G)}function Wn(k){return k&&k._delegate?k._delegate:k}},8097:(Ke,me,R)=>{var p=R(8926);let P=null;function ee(){return P}class le{}const ye=new p.OlP("DocumentToken");let Ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(be)},providedIn:"platform"}),n})();const Fe=new p.OlP("Location Initialized");let be=(()=>{class n extends Ae{constructor(){super(),this._doc=(0,p.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(t){const r=ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function L(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function V(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(je)},providedIn:"root"}),n})();const ae=new p.OlP("appBaseHref");let je=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+X(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+X(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ae),p.LFG(ae,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=L(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+X(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+X(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ae),p.LFG(ae,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(V(we(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function He(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=X,n.joinWithSlash=L,n.stripTrailingSlash=V,n.\u0275fac=function(t){return new(t||n)(p.LFG(xe))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Te(){return new Ie((0,p.LFG)(xe))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}const gu=/\s+/,hl=[];let fl=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=hl,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gu):hl}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gu):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gu).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Lm{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Lm(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),dn(g,o)}});for(let o=0,u=r.length;o<u;o++){const g=r.get(o).context;g.index=o,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{dn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function dn(n,e){n.context.$implicit=e.item}let Gh=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vm{constructor(){this.$implicit=null,this.ngIf=null}}function pl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}class wu{createSubscription(e,t){return(0,p.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,p.rg0)(()=>e.unsubscribe())}}class Eu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ha=new Eu,Mt=new wu;let Mn=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,p.QGY)(t))return ha;if((0,p.F4k)(t))return Mt;throw function xr(n,e){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.sBO,16))},n.\u0275pipe=p.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function ms(n){return"server"===n}let zi=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new mt((0,p.LFG)(ye),window)}),n})();class mt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=jm(this.window.history)||jm(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jm(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pf extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ru extends pf{static makeCurrent(){!function te(n){P||(P=n)}(new Ru)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ny(){return Bt=Bt||document.querySelector("base"),Bt?Bt.getAttribute("href"):null}();return null==t?null:function Rr(n){bo=bo||document.createElement("a"),bo.setAttribute("href",n);const e=bo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $i(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let bo,Bt=null,gf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new p.OlP("EventManagerPlugins");let Or=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Us),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class iy{constructor(e){this._doc=e}}const mf="ng-app-id";let sy=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ms(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${mf}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(mf),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(mf,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ye),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Kr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ii=/%COMP%/g,Bw=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ol(n,e){return e.map(t=>t.replace(Ii,n))}let Pu=(()=>{class n{constructor(t,r,o,u,l,g,v,D=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=g,this.ngZone=v,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=ms(g),this.defaultRenderer=new Pl(t,l,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===p.ifc.ShadowDom&&(r={...r,encapsulation:p.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof ay?o.applyToHost(t):o instanceof kl&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,g=this.ngZone,v=this.eventManager,D=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(r.encapsulation){case p.ifc.Emulated:u=new ay(v,D,r,this.appId,C,l,g,M);break;case p.ifc.ShadowDom:return new oy(v,D,t,r,l,g,this.nonce,M);default:u=new kl(v,D,r,C,l,g,M)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Or),p.LFG(sy),p.LFG(p.AFp),p.LFG(Bw),p.LFG(ye),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Pl{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Kr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Bs(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Bs(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new p.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Kr[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Kr[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,o&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ee().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Bs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oy extends Pl{constructor(e,t,r,o,u,l,g,v){super(e,u,l,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=Ol(o.id,o.styles);for(const C of D){const M=document.createElement("style");g&&M.setAttribute("nonce",g),M.textContent=C,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kl extends Pl{constructor(e,t,r,o,u,l,g,v){super(e,u,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=v?Ol(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ay extends kl{constructor(e,t,r,o,u,l,g,v){const D=o+"-"+r.id;super(e,t,r,u,l,g,v,D),this.contentAttr=function rt(n){return"_ngcontent-%COMP%".replace(Ii,n)}(D),this.hostAttr=function wf(n){return"_nghost-%COMP%".replace(Ii,n)}(D)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let If=(()=>{class n extends iy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ye))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const uy=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Df=(()=>{class n extends iy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ee().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),uy.forEach(D=>{const C=r.indexOf(D);C>-1&&(r.splice(C,1),l+=D+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=o,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let o=he[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),uy.forEach(l=>{l!==o&&(0,At[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ye))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const $w=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function Zr(){Ru.makeCurrent()},multi:!0},{provide:ye,useFactory:function pa(){return(0,p.RDi)(document),document},deps:[]}]),Ll=new p.OlP(""),Jn=[{provide:p.rWj,useClass:class ry{addToWindow(e){p.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new p.vHH(5103,!1);return u},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const o=p.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const g=function(v){l=l||v,u--,0==u&&r(l)};o.forEach(v=>{v.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ee().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Pr=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Fl(){return new p.qLn},deps:[]},{provide:Us,useClass:If,multi:!0,deps:[ye,p.R0b,p.Lbi]},{provide:Us,useClass:Df,multi:!0,deps:[ye]},Pu,sy,Or,{provide:p.FYo,useExisting:Pu},{provide:class Ei{},useClass:gf,deps:[]},[]];let Vl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ll,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[...Pr,...Jn],imports:[wo,p.hGG]}),n})(),Ul=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ye))},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Lu(){return new Ul((0,p.LFG)(ye))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Xn=R(5592),qi=R(4674),wn=R(2459),Ye=R(2096),Qr=R(5619);const{isArray:zl}=Array,{getPrototypeOf:Wi,prototype:js,keys:py}=Object;function Gl(n){if(1===n.length){const e=n[0];if(zl(e))return{args:e,keys:null};if(function ql(n){return n&&"object"==typeof n&&Wi(n)===js}(e)){const t=py(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ci=R(2737),xt=R(7398);const{isArray:gy}=Array;function my(n){return(0,xt.U)(e=>function Kw(n,e){return gy(e)?n(...e):n(e)}(n,e))}var ws=R(4564);function Ao(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Jr=R(8251),Uu=R(7103);function Hs(...n){const e=(0,ws.yG)(n),t=(0,ws.jO)(n),{args:r,keys:o}=Gl(n);if(0===r.length)return(0,wn.D)([],e);const u=new Xn.y(function Bu(n,e,t=Ci.y){return r=>{Wl(e,()=>{const{length:o}=n,u=new Array(o);let l=o,g=o;for(let v=0;v<o;v++)Wl(e,()=>{const D=(0,wn.D)(n[v],e);let C=!1;D.subscribe((0,Jr.x)(r,M=>{u[v]=M,C||(C=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>Ao(o,l):Ci.y));return t?u.pipe(my(t)):u}function Wl(n,e,t){n?(0,Uu.f)(t,n,e):e()}const zs=(0,R(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Gs=R(7537);function qs(...n){return function bi(){return(0,Gs.J)(1)}()((0,wn.D)(n,(0,ws.yG)(n)))}var Mo=R(4829);function $u(n){return new Xn.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var ju=R(8407);function Ki(n,e){const t=(0,qi.m)(n)?n:()=>n,r=o=>o.error(t());return new Xn.y(e?o=>e.schedule(r,0,o):r)}var Xr=R(6232),Kl=R(7394),vr=R(9360);function ya(){return(0,vr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Jr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hu extends Xn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Jr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kl.w0.EMPTY)}return e}refCount(){return ya()(this)}}var Es=R(8645),Vn=R(4664);function di(n){return n<=0?()=>Xr.E:(0,vr.e)((e,t)=>{let r=0;e.subscribe((0,Jr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Zi(n,e){return(0,vr.e)((t,r)=>{let o=0;t.subscribe((0,Jr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var xn=R(1631);function va(n){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Ks(n=Zl){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Zl(){return new zs}function Yi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zi((o,u)=>n(o,u,r)):Ci.y,di(1),t?va(e):Ks(()=>new zs))}function Qi(n,e){return(0,qi.m)(e)?(0,xn.z)(n,e,1):(0,xn.z)(n,1)}function Nn(n,e,t){const r=(0,qi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,vr.e)((o,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let g=!0;o.subscribe((0,Jr.x)(u,v=>{var D;null===(D=r.next)||void 0===D||D.call(r,v),u.next(v)},()=>{var v;g=!1,null===(v=r.complete)||void 0===v||v.call(r),u.complete()},v=>{var D;g=!1,null===(D=r.error)||void 0===D||D.call(r,v),u.error(v)},()=>{var v,D;g&&(null===(v=r.unsubscribe)||void 0===v||v.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):Ci.y}function Ti(n){return(0,vr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Jr.x)(t,void 0,void 0,l=>{u=(0,Mo.Xf)(n(l,Ti(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Ds(n){return n<=0?()=>Xr.E:(0,vr.e)((e,t)=>{let r=[];e.subscribe((0,Jr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function xo(n){return(0,vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const it="primary",_a=Symbol("RouteTitle");class Ql{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wa(n){return new Ql(n)}function Zw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))o[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!yy(n[o],e[o]))return!1;return!0}function yy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function vy(n){return n.length>0?n[n.length-1]:null}function _r(n){return function So(n){return!!n&&(n instanceof Xn.y||(0,qi.m)(n.lift)&&(0,qi.m)(n.subscribe))}(n)?n:(0,p.QGY)(n)?(0,wn.D)(Promise.resolve(n)):(0,Ye.of)(n)}const _y={exact:function No(n,e,t){if(!Ys(n.segments,e.segments)||!Ia(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!No(n.children[r],e.children[r],t))return!1;return!0},subset:kr},Ea={exact:function wy(n,e){return hi(n,e)},subset:function Ey(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yy(n[t],e[t]))},ignored:()=>!0};function En(n,e,t){return _y[t.paths](n.root,e.root,t.matrixParams)&&Ea[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kr(n,e,t){return Ro(n,e,e.segments,t)}function Ro(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ys(o,t)||e.hasChildren()||!Ia(o,t,r))}if(n.segments.length===t.length){if(!Ys(n.segments,t)||!Ia(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!kr(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ys(n.segments,o)&&Ia(n.segments,o,r)&&n.children[it])&&Ro(n.children[it],e,u,r)}}function Ia(n,e,t){return e.every((r,o)=>Ea[t](n[o].parameters,r.parameters))}class Ji{constructor(e=new Tt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return Po.serialize(this)}}class Tt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}}class Da{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wa(this.parameters)),this._parameterMap}toString(){return Ku(this)}}function Ys(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return new Oo},providedIn:"root"}),n})();class Oo{parse(e){const t=new Dy(e);return new Ji(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ko(e.root,!0)}`,r=function Iy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Gu(t)}=${Gu(o)}`).join("&"):`${Gu(t)}=${Gu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Po=new Oo;function Jl(n){return n.segments.map(e=>Ku(e)).join("/")}function ko(n,e){if(!n.hasChildren())return Jl(n);if(e){const t=n.children[it]?ko(n.children[it],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==it&&r.push(`${o}:${ko(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jw(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===it&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==it&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===it?[ko(n.children[it],!1)]:[`${o}:${ko(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${Jl(n)}/${t[0]}`:`${Jl(n)}/(${t.join("//")})`}}function Nf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gu(n){return Nf(n).replace(/%3B/gi,";")}function Ca(n){return Nf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qu(n){return decodeURIComponent(n)}function Wu(n){return qu(n.replace(/\+/g,"%20"))}function Ku(n){return`${Ca(n.path)}${function ba(n){return Object.keys(n).map(e=>`;${Ca(e)}=${Ca(n[e])}`).join("")}(n.parameters)}`}const Fo=/^[^\/()?;#]+/;function ed(n){const e=n.match(Fo);return e?e[0]:""}const td=/^[^\/()?;=#]+/,rd=/^[^=?&#]+/,Ta=/^[^&#]+/;class Dy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[it]=new Tt(e,t)),r}parseSegment(){const e=ed(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(e),new Da(qu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function nd(n){const e=n.match(td);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ed(this.remaining);o&&(r=o,this.capture(r))}e[qu(t)]=qu(r)}parseQueryParam(e){const t=function Lo(n){const e=n.match(rd);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function id(n){const e=n.match(Ta);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Wu(t),u=Wu(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ed(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new p.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=it);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[it]:new Tt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.vHH(4011,!1)}}function Rf(n){return n.segments.length>0?new Tt([],{[it]:n}):n}function Qs(n){const e={};for(const r of Object.keys(n.children)){const u=Qs(n.children[r]);if(r===it&&0===u.segments.length&&u.hasChildren())for(const[l,g]of Object.entries(u.children))e[l]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Sa(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new Tt(n.segments.concat(e.segments),e.children)}return n}(new Tt(n.segments,e))}function Js(n){return n instanceof Ji}function sd(n){let e;const o=Rf(function t(u){const l={};for(const v of u.children){const D=t(v);l[v.outlet]=D}const g=new Tt(u.url,l);return u===n&&(e=g),g}(n.root));return e??o}function Of(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return m(o,o,o,t,r);const u=function x(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new T(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([v,D])=>{g[v]="string"==typeof D?D.split("/"):D}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new T(t,e,r)}(e);if(u.toRoot())return m(o,o,new Tt([],{}),t,r);const l=function K(n,e,t){if(n.isAbsolute)return new U(e,!0,0);if(!t)return new U(e,!1,NaN);if(null===t.parent)return new U(t,!0,0);const r=w(n.commands[0])?0:1;return function Se(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new p.vHH(4005,!1);o=r.segments.length}return new U(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),g=l.processChildren?yt(l.segmentGroup,l.index,u.commands):ze(l.segmentGroup,l.index,u.commands);return m(o,l.segmentGroup,g,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function f(n){return"object"==typeof n&&null!=n&&n.outlets}function m(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([v,D])=>{u[v]=Array.isArray(D)?D.map(C=>`${C}`):`${D}`}),l=n===e?t:E(n,e,t);const g=Rf(Qs(l));return new Ji(g,u,o)}function E(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:E(u,e,t)}),new Tt(n.segments,r)}class T{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new p.vHH(4003,!1);const o=r.find(f);if(o&&o!==vy(r))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class U{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ze(n,e,t){if(n||(n=new Tt([],{})),0===n.segments.length&&n.hasChildren())return yt(n,e,t);const r=function wr(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],g=t[r];if(f(g))break;const v=`${g}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!Vo(v,D,l))return u;r+=2}else{if(!Vo(v,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Tt(n.segments.slice(0,r.pathIndex),{});return u.children[it]=new Tt(n.segments.slice(r.pathIndex),n.children),yt(u,0,o)}return r.match&&0===o.length?new Tt(n.segments,{}):r.match&&!n.hasChildren()?ei(n,e,t):r.match?yt(n,0,o):ei(n,e,t)}function yt(n,e,t){if(0===t.length)return new Tt(n.segments,{});{const r=function Oe(n){return f(n[0])?n[0].outlets:{[it]:n}}(t),o={};if(!r[it]&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const u=yt(n.children[it],e,t);return new Tt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=ze(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new Tt(n.segments,o)}}function ei(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(f(u)){const v=od(u.outlets);return new Tt(r,v)}if(0===o&&w(t[0])){r.push(new Da(n.segments[e].path,Pf(t[0]))),o++;continue}const l=f(u)?u.outlets[it]:`${u}`,g=o<t.length-1?t[o+1]:null;l&&g&&w(g)?(r.push(new Da(l,Pf(g))),o+=2):(r.push(new Da(l,{})),o++)}return new Tt(r,{})}function od(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ei(new Tt([],{}),0,r))}),e}function Pf(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Vo(n,e,t){return n==t.path&&hi(e,t.parameters)}const Aa="imperative";class Si{constructor(e,t){this.id=e,this.url=t}}class Zu extends Si{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends Si{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yu extends Si{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eo extends Si{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class to extends Si{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qu extends Si{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ju extends Si{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kf extends Si{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xw extends Si{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xu extends Si{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ff{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lf{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rE{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ma,this.attachRef=null}}let Ma=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=by(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=by(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ty(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ty(e,this._root).map(t=>t.value)}}function by(n,e){if(n===e.value)return e;for(const t of e.children){const r=by(n,t);if(r)return r}return null}function Ty(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ty(n,t);if(r.length)return r.unshift(e),r}return[]}class Cs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ec(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sE extends iE{constructor(e,t){super(e),this.snapshot=t,Bf(this,e)}toString(){return this.snapshot.toString()}}function Fr(n,e){const t=function Sy(n,e){const l=new Uo([],{},{},"",{},it,e,null,{});return new Ay("",new Cs(l,[]))}(0,e),r=new Qr.X([new Da("",{})]),o=new Qr.X({}),u=new Qr.X({}),l=new Qr.X({}),g=new Qr.X(""),v=new xa(r,o,l,g,u,it,e,t.root);return v.snapshot=t.root,new sE(new Cs(v,[]),t)}class xa{constructor(e,t,r,o,u,l,g,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=g,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,xt.U)(D=>D[_a]))??(0,Ye.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Er(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Uo{get title(){return this.data?.[_a]}constructor(e,t,r,o,u,l,g,v,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=g,this.routeConfig=v,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ay extends iE{constructor(e,t){super(t),this.url=e,Bf(this,t)}toString(){return oE(this._root)}}function Bf(n,e){e.value._routerState=n,e.children.forEach(t=>Bf(n,t))}function oE(n){const e=n.children.length>0?` { ${n.children.map(oE).join(", ")} } `:"";return`${n.value}${e}`}function $f(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hi(e.params,t.params)||n.paramsSubject.next(t.params),function Yw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),hi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function My(n,e){const t=hi(n.params,e.params)&&function Qw(n,e){return Ys(n,e)&&n.every((t,r)=>hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||My(n.parent,e.parent))}let jf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Ma),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new nT(t,g,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),n})();class nT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xa?this.route:e===Ma?this.childContexts:this.parent.get(e,t)}}const ad=new p.OlP("");let aE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Hs([r.queryParams,r.params,r.data]).pipe((0,Vn.w)(([u,l,g],v)=>(g={...u,...l,...g},0===v?(0,Ye.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,p.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function xy(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Na(n,r,o);return Na(n,r)})}(n,e,t);return new Cs(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Na(n,g)),l}}const r=function iT(n){return new xa(new Qr.X(n.url),new Qr.X(n.params),new Qr.X(n.queryParams),new Qr.X(n.fragment),new Qr.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Na(n,u));return new Cs(r,o)}}const Ra="ngNavigationCancelingError";function uE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=cE(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function cE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ra]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ny(n){return Ry(n)&&Js(n.url)}function Ry(n){return n&&n[Ra]}let Oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},dependencies:[jf],encapsulation:2}),n})();function Fy(n){const e=n.children&&n.children.map(Fy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=Oy),t}function Xi(n){return n.outlet||it}function Oa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lT{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$f(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ec(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ec(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ec(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=ec(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new tT(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Lf(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if($f(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),$f(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=Oa(o.snapshot);l.attachRef=null,l.route=o,l.injector=g,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class hE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nc{constructor(e,t){this.component=e,this.route=t}}function fE(n,e,t){const r=n._root;return rc(r,e?e._root:null,t,[r.value])}function ka(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,p.Z0I)(n)?e.get(n):n:r}function rc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ec(e);return n.children.forEach(l=>{(function dT(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function PR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ys(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(n.url,e.url)||!hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(n,e)||!hi(n.queryParams,e.queryParams);default:return!My(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new hE(r)):(u.data=l.data,u._resolvedData=l._resolvedData),rc(n,e,u.component?g?g.children:null:t,r,o),v&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new nc(g.outlet.component,l))}else l&&Bo(e,g,o),o.canActivateChecks.push(new hE(r)),rc(n,null,u.component?g?g.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,g])=>Bo(g,t.getContext(l),o)),o}function Bo(n,e,t){const r=ec(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Bo(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new nc(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function ud(n){return"function"==typeof n}function Gf(n){return n instanceof zs||"EmptyError"===n?.name}const Fa=Symbol("INITIAL_VALUE");function La(){return(0,Vn.w)(n=>Hs(n.map(e=>e.pipe(di(1),function Ws(...n){const e=(0,ws.yG)(n);return(0,vr.e)((t,r)=>{(e?qs(n,t,e):qs(n,t)).subscribe(r)})}(Fa)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===Fa)return Fa;if(!1===t||t instanceof Ji)return t}return!0}),Zi(e=>e!==Fa),di(1)))}function ld(n){return(0,ju.z)(Nn(e=>{if(Js(e))throw uE(0,e)}),(0,xt.U)(e=>!0===e))}class no{constructor(e){this.segmentGroup=e||null}}class IE{constructor(e){this.urlTree=e}}function ic(n){return Ki(new no(n))}function mT(n){return Ki(new IE(n))}class vT{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new p.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ye.of)(r);if(o.numberOfChildren>1||!o.children[it])return Ki(new p.vHH(4e3,!1));o=o.children[it]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ji(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[o]=t[g]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([g,v])=>{l[g]=this.createSegmentGroup(e,v,r,o)}),new Tt(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new p.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Va={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qf(n,e,t,r,o){const u=dd(n,e,t);return u.matched?(r=function tc(n,e){return n.providers&&!n._injector&&(n._injector=(0,p.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function By(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Ye.of)(!0);const u=o.map(l=>{const g=ka(l,n);return _r(function Hf(n){return n&&ud(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,Ye.of)(u).pipe(La(),ld())}(r,e,t).pipe((0,xt.U)(l=>!0===l?u:{...Va}))):(0,Ye.of)(u)}function dd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Va}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Zw)(t,n,e);if(!o)return{...Va};const u={};Object.entries(o.posParams??{}).forEach(([g,v])=>{u[g]=v.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function jy(n,e,t,r){return t.length>0&&function bE(n,e,t){return t.some(r=>Wf(n,e,r)&&Xi(r)!==it)}(n,t,r)?{segmentGroup:new Tt(e,CE(r,new Tt(t,n.children))),slicedSegments:[]}:0===t.length&&function _T(n,e,t){return t.some(r=>Wf(n,e,r))}(n,t,r)?{segmentGroup:new Tt(n.segments,DE(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Tt(n.segments,n.children),slicedSegments:t}}function DE(n,e,t,r,o){const u={};for(const l of r)if(Wf(n,t,l)&&!o[Xi(l)]){const g=new Tt([],{});u[Xi(l)]=g}return{...o,...u}}function CE(n,e){const t={};t[it]=e;for(const r of n)if(""===r.path&&Xi(r)!==it){const o=new Tt([],{});t[Xi(r)]=o}return t}function Wf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $o{constructor(e,t,r,o,u,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new vT(this.urlSerializer,this.urlTree)}noMatchError(e){return new p.vHH(4002,!1)}recognize(){const e=jy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Ti(t=>{if(t instanceof IE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof no?this.noMatchError(t):t}),(0,xt.U)(t=>{const r=new Uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),o=new Cs(r,t),u=new Ay("",o),l=function Cy(n,e,t=null,r=null){return Of(sd(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,it).pipe(Ti(r=>{throw r instanceof no?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Uf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,wn.D)(o).pipe(Qi(u=>{const l=r.children[u],g=function dE(n,e){const t=n.filter(r=>Xi(r)===e);return t.push(...n.filter(r=>Xi(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,l,u)}),function Is(n,e){return(0,vr.e)(function zu(n,e,t,r,o){return(u,l)=>{let g=t,v=e,D=0;u.subscribe((0,Jr.x)(l,C=>{const M=D++;v=g?n(v,C,M):(g=!0,C),r&&l.next(v)},o&&(()=>{g&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),va(null),function Zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zi((o,u)=>n(o,u,r)):Ci.y,Ds(1),t?va(e):Ks(()=>new zs))}(),(0,xn.z)(u=>{if(null===u)return ic(r);const l=CT(u);return function hd(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,Ye.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,wn.D)(t).pipe(Qi(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,o,u,l).pipe(Ti(v=>{if(v instanceof no)return(0,Ye.of)(null);throw v}))),Yi(g=>!!g),Ti(g=>{if(Gf(g))return function ET(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,Ye.of)([]):ic(r);throw g}))}processSegmentAgainstRoute(e,t,r,o,u,l,g){return function wT(n,e,t,r){return!!(Xi(n)===r||r!==it&&Wf(e,t,n))&&("**"===n.path||dd(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):ic(o):ic(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mT(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,xn.z)(l=>{const g=new Tt(l,{});return this.processSegment(e,t,g,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:g,consumedSegments:v,remainingSegments:D,positionalParamSegments:C}=dd(t,o,u);if(!g)return ic(t);const M=this.applyRedirects.applyRedirectCommands(v,o.redirectTo,C);return o.redirectTo.startsWith("/")?mT(M):this.applyRedirects.lineralizeSegments(o,M).pipe((0,xn.z)(F=>this.processSegment(e,r,t,F.concat(D),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let g;if("**"===r.path){const v=o.length>0?vy(o).parameters:{},D=new Uo(o,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bT(r),Xi(r),r.component??r._loadedComponent??null,r,TT(r));g=(0,Ye.of)({snapshot:D,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=qf(t,r,o,e).pipe((0,xt.U)(({matched:v,consumedSegments:D,remainingSegments:C,parameters:M})=>v?{snapshot:new Uo(D,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bT(r),Xi(r),r.component??r._loadedComponent??null,r,TT(r)),consumedSegments:D,remainingSegments:C}:null));return g.pipe((0,Vn.w)(v=>null===v?ic(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,Vn.w)(({routes:D})=>{const C=r._loadedInjector??e,{snapshot:M,consumedSegments:F,remainingSegments:j}=v,{segmentGroup:ie,slicedSegments:Ee}=jy(t,F,j,D);if(0===Ee.length&&ie.hasChildren())return this.processChildren(C,D,ie).pipe((0,xt.U)($e=>null===$e?null:[new Cs(M,$e)]));if(0===D.length&&0===Ee.length)return(0,Ye.of)([new Cs(M,[])]);const De=Xi(r)===u;return this.processSegment(C,D,ie,Ee,De?it:u,!0).pipe((0,xt.U)($e=>[new Cs(M,$e)]))}))))}getChildConfig(e,t,r){return t.children?(0,Ye.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Ye.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function EE(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Ye.of)(!0);const u=o.map(l=>{const g=ka(l,n);return _r(function gE(n){return n&&ud(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,Ye.of)(u).pipe(La(),ld())}(e,t,r).pipe((0,xn.z)(o=>o?this.configLoader.loadChildren(e,t).pipe(Nn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function $y(n){return Ki(cE(!1,3))}())):(0,Ye.of)({routes:[],injector:e})}}function DT(n){const e=n.value.routeConfig;return e&&""===e.path}function CT(n){const e=[],t=new Set;for(const r of n){if(!DT(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=CT(r.children);e.push(new Cs(r.value,o))}return e.filter(r=>!t.has(r))}function bT(n){return n.data||{}}function TT(n){return n.resolve||{}}function Kf(n){return"string"==typeof n.title||null===n.title}function es(n){return(0,Vn.w)(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,xt.U)(()=>e)):(0,Ye.of)(e)})}const bs=new p.OlP("ROUTES");let Zf=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Ye.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=_r(t.loadComponent()).pipe((0,xt.U)(Hy),Nn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),xo(()=>{this.componentLoaders.delete(t)})),o=new Hu(r,()=>new Es.x).pipe(ya());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Ye.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,D;return Array.isArray(g)?D=g:(v=g.create(t).injector,D=v.get(bs,[],p.XFs.Self|p.XFs.Optional).flat()),{routes:D.map(Fy),injector:v}}),xo(()=>{this.childrenLoaders.delete(r)})),l=new Hu(u,()=>new Es.x).pipe(ya());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return _r(t()).pipe((0,xt.U)(Hy),(0,xn.z)(r=>r instanceof p.YKP||Array.isArray(r)?(0,Ye.of)(r):(0,wn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hy(n){return function SE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let zy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Es.x,this.configLoader=(0,p.f3M)(Zf),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Un),this.rootContexts=(0,p.f3M)(Ma),this.inputBindingEnabled=null!==(0,p.f3M)(ad,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new tE(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new eE(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Qr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Aa,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zi(r=>0!==r.id),(0,xt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Vn.w)(r=>{let o=!1,u=!1;return(0,Ye.of)(r).pipe(Nn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vn.w)(l=>{const g=t.browserUrlTree.toString(),v=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new eo(l.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Xr.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return NT(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,Ye.of)(l).pipe((0,Vn.w)(C=>{const M=this.transitions?.getValue();return this.events.next(new Zu(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?Xr.E:Promise.resolve(C)}),function kR(n,e,t,r,o,u){return(0,xn.z)(l=>function IT(n,e,t,r,o,u,l="emptyOnly"){return new $o(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,xt.U)(({state:g,tree:v})=>({...l,targetSnapshot:g,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Nn(C=>{if(r.targetSnapshot=C.targetSnapshot,r.urlAfterRedirects=C.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(F,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new Qu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:F,restoredState:j,extras:ie}=l,Ee=new Zu(C,this.urlSerializer.serialize(M),F,j);this.events.next(Ee);const De=Fr(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:De,urlAfterRedirects:M,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}},(0,Ye.of)(r)}{const C="";return this.events.next(new eo(l.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Xr.E}}),Nn(l=>{const g=new Ju(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,xt.U)(l=>r={...l,guards:fE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Uy(n,e){return(0,xn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Ye.of)({...t,guardsResult:!0}):function cd(n,e,t,r){return(0,wn.D)(n).pipe((0,xn.z)(o=>function wE(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Ye.of)(!0);const l=u.map(g=>{const v=Oa(e)??o,D=ka(g,v);return _r(function yE(n){return n&&ud(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):v.runInContext(()=>D(n,e,t,r))).pipe(Yi())});return(0,Ye.of)(l).pipe(La())}(o.component,o.route,t,e,r)),Yi(o=>!0!==o,!0))}(l,r,o,n).pipe((0,xn.z)(g=>g&&function pE(n){return"boolean"==typeof n}(g)?function hT(n,e,t,r){return(0,wn.D)(e).pipe(Qi(o=>qs(function fT(n,e){return null!==n&&e&&e(new Ff(n)),(0,Ye.of)(!0)}(o.route.parent,r),function _E(n,e){return null!==n&&e&&e(new Vf(n)),(0,Ye.of)(!0)}(o.route,r),function gT(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function Pa(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>$u(()=>{const g=l.guards.map(v=>{const D=Oa(l.node)??t,C=ka(v,D);return _r(function Vy(n){return n&&ud(n.canActivateChild)}(C)?C.canActivateChild(r,n):D.runInContext(()=>C(r,n))).pipe(Yi())});return(0,Ye.of)(g).pipe(La())}));return(0,Ye.of)(u).pipe(La())}(n,o.path,t),function pT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ye.of)(!0);const o=r.map(u=>$u(()=>{const l=Oa(e)??t,g=ka(u,l);return _r(function mE(n){return n&&ud(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Yi())}));return(0,Ye.of)(o).pipe(La())}(n,o.route,t))),Yi(o=>!0!==o,!0))}(r,u,n,e):(0,Ye.of)(g)),(0,xt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),Nn(l=>{if(r.guardsResult=l.guardsResult,Js(l.guardsResult))throw uE(0,l.guardsResult);const g=new kf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),Zi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),es(l=>{if(l.guards.canActivateChecks.length)return(0,Ye.of)(l).pipe(Nn(g=>{const v=new Xw(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}),(0,Vn.w)(g=>{let v=!1;return(0,Ye.of)(g).pipe(function TE(n,e){return(0,xn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ye.of)(t);let u=0;return(0,wn.D)(o).pipe(Qi(l=>function ST(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Kf(o)&&(u[_a]=o.title),function AT(n,e,t,r){const o=function MT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Ye.of)({});const u={};return(0,wn.D)(o).pipe((0,xn.z)(l=>function xT(n,e,t,r){const o=Oa(e)??r,u=ka(n,o);return _r(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Yi(),Nn(g=>{u[l]=g}))),Ds(1),function Yl(n){return(0,xt.U)(()=>n)}(u),Ti(l=>Gf(l)?Xr.E:Ki(l)))}(u,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=Uf(n,t).resolve,o&&Kf(o)&&(n.data[_a]=o.title),null)))}(l.route,r,n,e)),Nn(()=>u++),Ds(1),(0,xn.z)(l=>u===o.length?(0,Ye.of)(t):Xr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),Nn(g=>{const v=new Xu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}))}),es(l=>{const g=v=>{const D=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(v.routeConfig).pipe(Nn(C=>{v.component=C}),(0,xt.U)(()=>{})));for(const C of v.children)D.push(...g(C));return D};return Hs(g(l.targetSnapshot.root)).pipe(va(),di(1))}),es(()=>this.afterPreactivation()),(0,xt.U)(l=>{const g=function rT(n,e,t){const r=Na(n,e._root,t?t._root:void 0);return new sE(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),Nn(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,xt.U)(o=>(new lT(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),di(1),Nn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Xs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),xo(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ti(l=>{if(u=!0,Ry(l)){Ny(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Yu(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),Ny(l)){const v=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||NT(r.source)};t.scheduleNavigation(v,Aa,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new to(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(v){r.reject(v)}}return Xr.E}))}))}cancelNavigationTransition(t,r,o){const u=new Yu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NT(n){return n!==Aa}let RT=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===it);return r}getResolvedTitleForRoute(t){return t.data[_a]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Gy)},providedIn:"root"}),n})(),Gy=(()=>{class n extends RT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ul))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(LR)},providedIn:"root"}),n})();class FR{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let LR=(()=>{class n extends FR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fd=new p.OlP("",{providedIn:"root",factory:()=>({})});let OT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(PT)},providedIn:"root"}),n})(),PT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pd=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pd||{});function AE(n,e){n.events.pipe(Zi(t=>t instanceof Xs||t instanceof Yu||t instanceof to||t instanceof eo),(0,xt.U)(t=>t instanceof Xs||t instanceof eo?pd.COMPLETE:t instanceof Yu&&(0===t.code||1===t.code)?pd.REDIRECTING:pd.FAILED),Zi(t=>t!==pd.REDIRECTING),di(1)).subscribe(()=>{e()})}function ME(n){throw n}function Yf(n,e,t){return e.parse("/")}const kT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ir=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(fd,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||ME,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yf,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(OT),this.routeReuseStrategy=(0,p.f3M)(qy),this.titleStrategy=(0,p.f3M)(RT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(bs,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(zy),this.urlSerializer=(0,p.f3M)(Un),this.location=(0,p.f3M)(Ie),this.componentInputBindingEnabled=!!(0,p.f3M)(ad,{optional:!0}),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ji,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Aa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const v={...o};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Fy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:v}=r,D=v?this.currentUrlTree.fragment:l;let M,C=null;switch(g){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}null!==C&&(C=this.removeEmptyProps(C));try{M=sd(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),M=this.currentUrlTree.root}return Of(M,t,C,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Js(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Aa,null,r)}navigate(t,r={skipLocationChange:!1}){return function sc(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new p.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...kT}:!1===r?{...Wy}:r,Js(t))return En(this.currentUrlTree,t,o);const u=this.parseUrl(t);return En(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let g,v,D;l?(g=l.resolve,v=l.reject,D=l.promise):D=new Promise((M,F)=>{g=M,v=F});const C=this.pendingTasks.add();return AE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:v,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qf=(()=>{class n{constructor(t,r,o,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Es.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof Xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ir),p.Y36(xa),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(xe))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&p.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&p.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]}),n})();class Ky{}let LT=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(t=>t instanceof Xs),Qi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,p.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,wn.D)(o).pipe((0,Gs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Ye.of)(null);const u=o.pipe((0,xn.z)(l=>null===l?(0,Ye.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,wn.D)([u,l]).pipe((0,Gs.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ir),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Ky),p.LFG(Zf))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zy=new p.OlP("");let Yy=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof eo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function fi(n,e){return{\u0275kind:n,\u0275providers:e}}function Qy(){const n=(0,p.f3M)(p.zs3);return e=>{const t=n.get(p.z2F);if(e!==t.components[0])return;const r=n.get(Ir),o=n.get(Jy);1===n.get(Xy)&&r.initialNavigation(),n.get($T,null,p.XFs.Optional)?.setUpPreloading(),n.get(Zy,null,p.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Jy=new p.OlP("",{factory:()=>new Es.x}),Xy=new p.OlP("",{providedIn:"root",factory:()=>1}),$T=new p.OlP("");function ev(n){return fi(0,[{provide:$T,useExisting:LT},{provide:Ky,useExisting:n}])}const FE=new p.OlP("ROUTER_FORROOT_GUARD"),tv=[Ie,{provide:Un,useClass:Oo},Ir,Ma,{provide:xa,useFactory:function VT(n){return n.routerState.root},deps:[Ir]},Zf,[]];function Xf(){return new p.PXZ("Router",Ir)}let LE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tv,[],{provide:bs,multi:!0,useValue:t},{provide:FE,useFactory:rv,deps:[[Ir,new p.FiY,new p.tp0]]},{provide:fd,useValue:r||{}},r?.useHash?{provide:xe,useClass:Re}:{provide:xe,useClass:je},{provide:Zy,useFactory:()=>{const n=(0,p.f3M)(zi),e=(0,p.f3M)(p.R0b),t=(0,p.f3M)(fd),r=(0,p.f3M)(zy),o=(0,p.f3M)(Un);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Yy(o,r,n,e,t)}},r?.preloadingStrategy?ev(r.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Xf},r?.initialNavigation?iv(r):[],r?.bindToComponentInputs?fi(8,[aE,{provide:ad,useExisting:aE}]).\u0275providers:[],[{provide:VE,useFactory:Qy},{provide:p.tb,multi:!0,useExisting:VE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:bs,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(FE,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function rv(n){return"guarded"}function iv(n){return["disabled"===n.initialNavigation?fi(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const e=(0,p.f3M)(Ir);return()=>{e.setUpLocationChangeListener()}}},{provide:Xy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fi(2,[{provide:Xy,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:e=>{const t=e.get(Fe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Ir),u=e.get(Jy);AE(o,()=>{r(!0)}),e.get(zy).afterPreactivation=()=>(r(!0),u.closed?(0,Ye.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const VE=new p.OlP("");var Ct=R(534);(0,Ct.registerVersion)("firebase","9.23.0","app");var re=R(5861),wt=R(9058),ro=R(4537),Ts=R(7879);const qT=(n,e)=>e.some(t=>n instanceof t);let WT,KT;const np=new WeakMap,md=new WeakMap,Ba=new WeakMap,yd=new WeakMap,vd=new WeakMap;let $a={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return md.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ba.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ja(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ip(n){return"function"==typeof n?function sv(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZT(){return KT||(KT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(wd(this),e),ja(np.get(this))}:function(...e){return ja(n.apply(wd(this),e))}:function(e,...t){const r=n.call(wd(this),e,...t);return Ba.set(r,e.sort?e.sort():[e]),ja(r)}}(n):(n instanceof IDBTransaction&&function rp(n){if(md.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});md.set(n,e)}(n),qT(n,function tp(){return WT||(WT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,$a):n)}function ja(n){if(n instanceof IDBRequest)return function _d(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ja(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&np.set(t,n)}).catch(()=>{}),vd.set(e,n),e}(n);if(yd.has(n))return yd.get(n);const e=ip(n);return e!==n&&(yd.set(n,e),vd.set(e,n)),e}const wd=n=>vd.get(n),QT=["get","getKey","getAll","getAllKeys","count"],JT=["put","add","delete","clear"],sp=new Map;function av(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(sp.get(e))return sp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=JT.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!QT.includes(t))return;const u=function(){var l=(0,re.Z)(function*(g,...v){const D=this.transaction(g,o?"readwrite":"readonly");let C=D.store;return r&&(C=C.index(v.shift())),(yield Promise.all([C[t](...v),o&&D.done]))[0]});return function(v){return l.apply(this,arguments)}}();return sp.set(e,u),u}!function $E(n){$a=n($a)}(n=>({...n,get:(e,t,r)=>av(e,t)||n.get(e,t,r),has:(e,t)=>!!av(e,t)||n.has(e,t)}));const jE="@firebase/installations",uv="0.6.4",XT=1e4,HE=`w:${uv}`,op="FIS_v2",cv="https://firebaseinstallations.googleapis.com/v1",eS=36e5,io=new wt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dv(n){return n instanceof wt.ZR&&n.code.includes("request-failed")}function hv({projectId:n}){return`${cv}/projects/${n}/installations`}function fv(n){return{token:n.token,requestStatus:2,expiresIn:tS(n.expiresIn),creationTime:Date.now()}}function GE(n,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,re.Z)(function*(n,e){const r=(yield e.json()).error;return io.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ed({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jo(n){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,re.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function tS(n){return Number(n.replace("s","000"))}function gv(){return(gv=(0,re.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=hv(n),o=Ed(n),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&o.append("x-firebase-client",D)}const g={method:"POST",headers:o,body:JSON.stringify({fid:t,authVersion:op,appId:n.appId,sdkVersion:HE})},v=yield jo(()=>fetch(r,g));if(v.ok){const D=yield v.json();return{fid:D.fid||t,registrationStatus:2,refreshToken:D.refreshToken,authToken:fv(D.authToken)}}throw yield GE("Create Installation",v)})).apply(this,arguments)}function KE(n){return new Promise(e=>{setTimeout(e,n)})}const YE=/^[cdef][\w-]{21}$/,Id="";function Dd(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function QE(n){return function ZE(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return YE.test(t)?t:Id}catch{return Id}}function Cd(n){return`${n.appName}!${n.appId}`}const Ho=new Map;function za(n,e){const t=Cd(n);mv(t,e),function rS(n,e){const t=function XE(){return!Ga&&"BroadcastChannel"in self&&(Ga=new BroadcastChannel("[Firebase] FID Change"),Ga.onmessage=n=>{mv(n.data.key,n.data.fid)}),Ga}();t&&t.postMessage({key:n,fid:e}),function eI(){0===Ho.size&&Ga&&(Ga.close(),Ga=null)}()}(t,e)}function mv(n,e){const t=Ho.get(n);if(t)for(const r of t)r(e)}let Ga=null;const iS="firebase-installations-database",sS=1,zo="firebase-installations-store";let Go=null;function ts(){return Go||(Go=function ov(n,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const l=indexedDB.open(n,e),g=ja(l);return r&&l.addEventListener("upgradeneeded",v=>{r(ja(l.result),v.oldVersion,v.newVersion,ja(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",()=>o())}).catch(()=>{}),g}(iS,sS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zo)}})),Go}function bd(n,e){return tI.apply(this,arguments)}function tI(){return(tI=(0,re.Z)(function*(n,e){const t=Cd(n),o=(yield ts()).transaction(zo,"readwrite"),u=o.objectStore(zo),l=yield u.get(t);return yield u.put(e,t),yield o.done,(!l||l.fid!==e.fid)&&za(n,e.fid),e})).apply(this,arguments)}function yv(n){return nI.apply(this,arguments)}function nI(){return(nI=(0,re.Z)(function*(n){const e=Cd(n),r=(yield ts()).transaction(zo,"readwrite");yield r.objectStore(zo).delete(e),yield r.done})).apply(this,arguments)}function cp(n,e){return lp.apply(this,arguments)}function lp(){return(lp=(0,re.Z)(function*(n,e){const t=Cd(n),o=(yield ts()).transaction(zo,"readwrite"),u=o.objectStore(zo),l=yield u.get(t),g=e(l);return void 0===g?yield u.delete(t):yield u.put(g,t),yield o.done,g&&(!l||l.fid!==g.fid)&&za(n,g.fid),g})).apply(this,arguments)}function dp(n){return rI.apply(this,arguments)}function rI(){return rI=(0,re.Z)(function*(n){let e;const t=yield cp(n.appConfig,r=>{const o=function iI(n){return _v(n||{fid:Dd(),registrationStatus:0})}(r),u=function hp(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(io.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function sI(n,e){return fp.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:oI(n)}:{installationEntry:e}}(n,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Id?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),rI.apply(this,arguments)}function fp(){return fp=(0,re.Z)(function*(n,e){try{const t=yield function nS(n,e){return gv.apply(this,arguments)}(n,e);return bd(n.appConfig,t)}catch(t){throw dv(t)&&409===t.customData.serverCode?yield yv(n.appConfig):yield bd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),fp.apply(this,arguments)}function oI(n){return at.apply(this,arguments)}function at(){return(at=(0,re.Z)(function*(n){let e=yield vv(n.appConfig);for(;1===e.registrationStatus;)yield KE(100),e=yield vv(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield dp(n);return r||t}return e})).apply(this,arguments)}function vv(n){return cp(n,e=>{if(!e)throw io.create("installation-not-found");return _v(e)})}function _v(n){return function zR(n){return 1===n.registrationStatus&&n.registrationTime+XT<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function pp(){return(pp=(0,re.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function aS(n,{fid:e}){return`${hv(n)}/${e}/authTokens:generate`}(n,t),o=function qE(n,{refreshToken:e}){const t=Ed(n);return t.append("Authorization",function WE(n){return`${op} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&o.append("x-firebase-client",D)}const g={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:HE,appId:n.appId}})},v=yield jo(()=>fetch(r,g));if(v.ok)return fv(yield v.json());throw yield GE("Generate Auth Token",v)})).apply(this,arguments)}function wv(n){return gp.apply(this,arguments)}function gp(){return gp=(0,re.Z)(function*(n,e=!1){let t;const r=yield cp(n.appConfig,u=>{if(!Ev(u))throw io.create("not-registered");const l=u.authToken;if(!e&&function cI(n){return 2===n.requestStatus&&!function qo(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+eS}(n)}(l))return u;if(1===l.requestStatus)return t=function uS(n,e){return mp.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw io.create("app-offline");const g=function ac(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function cS(n,e){return uI.apply(this,arguments)}(n,g),g}});return t?yield t:r.authToken}),gp.apply(this,arguments)}function mp(){return(mp=(0,re.Z)(function*(n,e){let t=yield aI(n.appConfig);for(;1===t.authToken.requestStatus;)yield KE(100),t=yield aI(n.appConfig);const r=t.authToken;return 0===r.requestStatus?wv(n,e):r})).apply(this,arguments)}function aI(n){return cp(n,e=>{if(!Ev(e))throw io.create("not-registered");return function lI(n){return 1===n.requestStatus&&n.requestTime+XT<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uI(){return uI=(0,re.Z)(function*(n,e){try{const t=yield function oS(n,e){return pp.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield bd(n.appConfig,r),t}catch(t){if(!dv(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bd(n.appConfig,r)}else yield yv(n.appConfig);throw t}}),uI.apply(this,arguments)}function Ev(n){return void 0!==n&&2===n.registrationStatus}function uc(){return(uc=(0,re.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield dp(e);return r?r.catch(console.error):wv(e).catch(console.error),t.fid})).apply(this,arguments)}function Td(){return Td=(0,re.Z)(function*(n,e=!1){const t=n;return yield function Sd(n){return yp.apply(this,arguments)}(t),(yield wv(t,e)).token}),Td.apply(this,arguments)}function yp(){return(yp=(0,re.Z)(function*(n){const{registrationPromise:e}=yield dp(n);e&&(yield e)})).apply(this,arguments)}function vp(n){return io.create("missing-app-config-values",{valueName:n})}const dI="installations",pS=n=>{const e=n.getProvider("app").getImmediate(),t=function hS(n){if(!n||!n.options)throw vp("App Configuration");if(!n.name)throw vp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Ct._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},gS=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Ct._getProvider)(e,dI).getImmediate();return{getId:()=>function lS(n){return uc.apply(this,arguments)}(t),getToken:o=>function cc(n){return Td.apply(this,arguments)}(t,o)}};(function hI(){(0,Ct._registerComponent)(new ro.wA(dI,pS,"PUBLIC")),(0,Ct._registerComponent)(new ro.wA("installations-internal",gS,"PRIVATE"))})(),(0,Ct.registerVersion)(jE,uv),(0,Ct.registerVersion)(jE,uv,"esm2017");const _p="@firebase/remote-config",ni=new wt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IS{constructor(e,t,r,o){this.client=e,this.storage=t,this.storageCache=r,this.logger=o}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var t=this;return(0,re.Z)(function*(){const[r,o]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(o&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function yI(n=navigator){return n.languages&&n.languages[0]||n.language}class vI{constructor(e,t,r,o,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=o,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,re.Z)(function*(){const[r,o]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},v={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:o,app_id:t.appId,language_code:yI()},D={method:"POST",headers:g,body:JSON.stringify(v)},C=fetch(l,D),M=new Promise(($e,We)=>{e.signal.addEventListener(()=>{const Xe=new Error("The operation was aborted.");Xe.name="AbortError",We(Xe)})});let F;try{yield Promise.race([C,M]),F=yield C}catch($e){let We="fetch-client-network";throw"AbortError"===$e?.name&&(We="fetch-timeout"),ni.create(We,{originalErrorMessage:$e?.message})}let j=F.status;const ie=F.headers.get("ETag")||void 0;let Ee,De;if(200===F.status){let $e;try{$e=yield F.json()}catch(We){throw ni.create("fetch-client-parse",{originalErrorMessage:We?.message})}Ee=$e.entries,De=$e.state}if("INSTANCE_STATE_UNSPECIFIED"===De?j=500:"NO_CHANGE"===De?j=304:("NO_TEMPLATE"===De||"EMPTY_CONFIG"===De)&&(Ee={}),304!==j&&200!==j)throw ni.create("fetch-status",{httpStatus:j});return{status:j,eTag:ie,config:Ee}})()}}class JR{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,re.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var o=this;return(0,re.Z)(function*(){yield function wp(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(u),r(ni.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),u}catch(u){if(!function Mv(n){if(!(n instanceof wt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,wt.$s)(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(l),o.attemptFetch(e,l)}})()}}class EI{constructor(e,t,r,o,u){this.app=e,this._client=t,this._storageCache=r,this._storage=o,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xd(n,e){const t=n.target.error||void 0;return ni.create(e,{originalErrorMessage:t&&t?.message})}const oo="app_namespace_store";class xv{constructor(e,t,r,o=function CS(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xd(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(t){e(ni.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,re.Z)(function*(){const r=yield t.openDbPromise;return new Promise((o,u)=>{const g=r.transaction([oo],"readonly").objectStore(oo),v=t.createCompositeKey(e);try{const D=g.get(v);D.onerror=C=>{u(xd(C,"storage-get"))},D.onsuccess=C=>{const M=C.target.result;o(M?M.value:void 0)}}catch(D){u(ni.create("storage-get",{originalErrorMessage:D?.message}))}})})()}set(e,t){var r=this;return(0,re.Z)(function*(){const o=yield r.openDbPromise;return new Promise((u,l)=>{const v=o.transaction([oo],"readwrite").objectStore(oo),D=r.createCompositeKey(e);try{const C=v.put({compositeKey:D,value:t});C.onerror=M=>{l(xd(M,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){l(ni.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,re.Z)(function*(){const r=yield t.openDbPromise;return new Promise((o,u)=>{const g=r.transaction([oo],"readwrite").objectStore(oo),v=t.createCompositeKey(e);try{const D=g.delete(v);D.onerror=C=>{u(xd(C,"storage-delete"))},D.onsuccess=()=>{o()}}catch(D){u(ni.create("storage-delete",{originalErrorMessage:D?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class bS{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,re.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const g=yield o;g&&(e.activeConfig=g)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function DI(){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,re.Z)(function*(){if(!(0,wt.hl)())return!1;try{return yield(0,wt.eu)()}catch{return!1}})).apply(this,arguments)}!function TS(){(0,Ct._registerComponent)(new ro.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,wt.hl)())throw ni.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:g}=r.options;if(!u)throw ni.create("registration-project-id");if(!l)throw ni.create("registration-api-key");if(!g)throw ni.create("registration-app-id");const v=new xv(g,r.name,t=t||"firebase"),D=new bS(v),C=new Ts.Yd(_p);C.logLevel=Ts.in.ERROR;const M=new vI(o,Ct.SDK_VERSION,t,u,l,g),F=new JR(M,v),j=new IS(F,v,D,C),ie=new EI(r,j,D,v,C);return function Sv(n){const e=(0,wt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ie),ie},"PUBLIC").setMultipleInstances(!0)),(0,Ct.registerVersion)(_p,"0.4.4"),(0,Ct.registerVersion)(_p,"0.4.4","esm2017")}();const Ep=(n,e)=>e.some(t=>n instanceof t);let dc,Nd;const Rv=new WeakMap,Ip=new WeakMap,CI=new WeakMap,Ov=new WeakMap,Dp=new WeakMap;let Pv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ip.get(n);if("objectStoreNames"===e)return n.objectStoreNames||CI.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function AS(n){return"function"==typeof n?function SI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function SS(){return Nd||(Nd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qa(this),e),uo(Rv.get(this))}:function(...e){return uo(n.apply(qa(this),e))}:function(e,...t){const r=n.call(qa(this),e,...t);return CI.set(r,e.sort?e.sort():[e]),uo(r)}}(n):(n instanceof IDBTransaction&&function Rd(n){if(Ip.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Ip.set(n,e)}(n),Ep(n,function e1(){return dc||(dc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Pv):n)}function uo(n){if(n instanceof IDBRequest)return function bI(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(uo(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Rv.set(t,n)}).catch(()=>{}),Dp.set(e,n),e}(n);if(Ov.has(n))return Ov.get(n);const e=AS(n);return e!==n&&(Ov.set(n,e),Dp.set(e,n)),e}const qa=n=>Dp.get(n);function AI(n,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const l=indexedDB.open(n,e),g=uo(l);return r&&l.addEventListener("upgradeneeded",v=>{r(uo(l.result),v.oldVersion,v.newVersion,uo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",()=>o())}).catch(()=>{}),g}function MI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),uo(t).then(()=>{})}const MS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],kv=new Map;function xI(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(kv.get(e))return kv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=xS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!MS.includes(t))return;const u=function(){var l=(0,re.Z)(function*(g,...v){const D=this.transaction(g,o?"readwrite":"readonly");let C=D.store;return r&&(C=C.index(v.shift())),(yield Promise.all([C[t](...v),o&&D.done]))[0]});return function(v){return l.apply(this,arguments)}}();return kv.set(e,u),u}!function TI(n){Pv=n(Pv)}(n=>({...n,get:(e,t,r)=>xI(e,t)||n.get(e,t,r),has:(e,t)=>!!xI(e,t)||n.has(e,t)}));const NS="/firebase-messaging-sw.js",RS="/firebase-cloud-messaging-push-scope",NI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",RI="https://fcmregistrations.googleapis.com/v1",Cp="google.c.a.c_id",OS="google.c.a.c_l",bp="google.c.a.ts";var Tp=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Tp||{});function co(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FS(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),o=new Uint8Array(r.length);for(let u=0;u<r.length;++u)o[u]=r.charCodeAt(u);return o}const Fv="fcm_token_details_db",LS=5,Lv="fcm_token_object_Store";function Vv(){return Vv=(0,re.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(Fv))return null;let e=null;return(yield AI(Fv,LS,{upgrade:(r=(0,re.Z)(function*(o,u,l,g){var v;if(u<2||!o.objectStoreNames.contains(Lv))return;const D=g.objectStore(Lv),C=yield D.index("fcmSenderId").get(n);if(yield D.clear(),C)if(2===u){const M=C;if(!M.auth||!M.p256dh||!M.endpoint)return;e={token:M.fcmToken,createTime:null!==(v=M.createTime)&&void 0!==v?v:Date.now(),subscriptionOptions:{auth:M.auth,p256dh:M.p256dh,endpoint:M.endpoint,swScope:M.swScope,vapidKey:"string"==typeof M.vapidKey?M.vapidKey:co(M.vapidKey)}}}else if(3===u){const M=C;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:co(M.auth),p256dh:co(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:co(M.vapidKey)}}}else if(4===u){const M=C;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:co(M.auth),p256dh:co(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:co(M.vapidKey)}}}}),function(u,l,g,v){return r.apply(this,arguments)})})).close(),yield MI(Fv),yield MI("fcm_vapid_details_db"),yield MI("undefined"),function t1(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Vv.apply(this,arguments)}const PI="firebase-messaging-database",kI=1,hc="firebase-messaging-store";let fc=null;function Uv(){return fc||(fc=AI(PI,kI,{upgrade:(n,e)=>{0===e&&n.createObjectStore(hc)}})),fc}function FI(n){return Od.apply(this,arguments)}function Od(){return Od=(0,re.Z)(function*(n){const e=lo(n),r=yield(yield Uv()).transaction(hc).objectStore(hc).get(e);if(r)return r;{const o=yield function OI(n){return Vv.apply(this,arguments)}(n.appConfig.senderId);if(o)return yield Bv(n,o),o}}),Od.apply(this,arguments)}function Bv(n,e){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,re.Z)(function*(n,e){const t=lo(n),o=(yield Uv()).transaction(hc,"readwrite");return yield o.objectStore(hc).put(e,t),yield o.done,e})).apply(this,arguments)}function er(){return(er=(0,re.Z)(function*(n){const e=lo(n),r=(yield Uv()).transaction(hc,"readwrite");yield r.objectStore(hc).delete(e),yield r.done})).apply(this,arguments)}function lo({appConfig:n}){return n.appId}const Kt=new wt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $v(n,e){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,re.Z)(function*(n,e){const t=yield Qo(n),r=Ka(e),o={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(Yo(n.appConfig),o)).json()}catch(l){throw Kt.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Kt.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Kt.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Ko(){return(Ko=(0,re.Z)(function*(n,e){const t=yield Qo(n),r=Ka(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${Yo(n.appConfig)}/${e.token}`,o)).json()}catch(l){throw Kt.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Kt.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Kt.create("token-update-no-token");return u.token})).apply(this,arguments)}function Wa(n,e){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,re.Z)(function*(n,e){const r={method:"DELETE",headers:yield Qo(n)};try{const u=yield(yield fetch(`${Yo(n.appConfig)}/${e}`,r)).json();if(u.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(o){throw Kt.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function Yo({projectId:n}){return`${RI}/projects/${n}/registrations`}function Qo(n){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,re.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Ka({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const o={web:{endpoint:t,auth:e,p256dh:n}};return r!==NI&&(o.web.applicationPubKey=r),o}const LI=6048e5;function Ap(){return Ap=(0,re.Z)(function*(n){const e=yield function zv(n,e){return Gv.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:co(e.getKey("auth")),p256dh:co(e.getKey("p256dh"))},r=yield FI(n.firebaseDependencies);if(r){if(function n1(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+LI?function UI(n,e){return xp.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Wa(n.firebaseDependencies,r.token)}catch(o){console.warn(o)}return Hv(n.firebaseDependencies,t)}return Hv(n.firebaseDependencies,t)}),Ap.apply(this,arguments)}function Mp(){return Mp=(0,re.Z)(function*(n){const e=yield FI(n.firebaseDependencies);e&&(yield Wa(n.firebaseDependencies,e.token),yield function Pd(n){return er.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Mp.apply(this,arguments)}function xp(){return xp=(0,re.Z)(function*(n,e){try{const t=yield function pc(n,e){return Ko.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Bv(n.firebaseDependencies,r),t}catch(t){throw yield function jv(n){return Mp.apply(this,arguments)}(n),t}}),xp.apply(this,arguments)}function Hv(n,e){return Np.apply(this,arguments)}function Np(){return(Np=(0,re.Z)(function*(n,e){const r={token:yield $v(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Bv(n,r),r.token})).apply(this,arguments)}function Gv(){return(Gv=(0,re.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FS(e)})})).apply(this,arguments)}function VS(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function US(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const o=e.notification.image;o&&(n.notification.image=o);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function BS(n,e){e.data&&(n.data=e.data)}(e,n),function r1(n,e){var t,r,o,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const g=null!==(o=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(u=e.notification)||void 0===u?void 0:u.click_action;g&&(n.fcmOptions.link=g);const v=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;v&&(n.fcmOptions.analyticsLabel=v)}(e,n),e}function jS(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function qv(n){return Kt.create("missing-app-config-values",{valueName:n})}jS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jS("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zS{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function HS(n){if(!n||!n.options)throw qv("App Configuration Object");if(!n.name)throw qv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw qv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Za(){return(Za=(0,re.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(NS,{scope:RS}),n.swRegistration.update().catch(()=>{})}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function gc(){return(gc=(0,re.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function Rp(n){return Za.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Ya(){return(Ya=(0,re.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=NI)})).apply(this,arguments)}function Zv(){return Zv=(0,re.Z)(function*(n,e){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield function BI(n,e){return Ya.apply(this,arguments)}(n,e?.vapidKey),yield function Wv(n,e){return gc.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function VI(n){return Ap.apply(this,arguments)}(n)}),Zv.apply(this,arguments)}function Yv(){return(Yv=(0,re.Z)(function*(n,e,t){const r=function GS(n){switch(n){case Tp.NOTIFICATION_CLICKED:return"notification_open";case Tp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Cp],message_name:t[OS],message_time:t[bp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qv(){return Qv=(0,re.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Tp.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(VS(t)):n.onMessageHandler.next(VS(t)));const r=t.data;(function $S(n){return"object"==typeof n&&!!n&&Cp in n})(r)&&"1"===r["google.c.a.e"]&&(yield function kd(n,e,t){return Yv.apply(this,arguments)}(n,t.messageType,r))}),Qv.apply(this,arguments)}const Op="@firebase/messaging",Pp=n=>{const e=new zS(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function qS(n,e){return Qv.apply(this,arguments)}(e,t)),e},i1=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Kv(n,e){return Zv.apply(this,arguments)}(e,r)}};function $I(){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,re.Z)(function*(){try{yield(0,wt.eu)()}catch{return!1}return typeof window<"u"&&(0,wt.hl)()&&(0,wt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function WS(){(0,Ct._registerComponent)(new ro.wA("messaging",Pp,"PUBLIC")),(0,Ct._registerComponent)(new ro.wA("messaging-internal",i1,"PRIVATE")),(0,Ct.registerVersion)(Op,"0.12.4"),(0,Ct.registerVersion)(Op,"0.12.4","esm2017")}();const Lp="analytics",JS="firebase_id",jI="origin",Jv=6e4,Xv="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",e_="https://www.googletagmanager.com/gtag/js",Tn=new Ts.Yd("@firebase/analytics"),lr=new wt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function HI(n){if(!n.startsWith(e_)){const e=lr.create("invalid-gtag-resource",{gtagURL:n});return Tn.warn(e.message),""}return n}function zI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Up(){return(Up=(0,re.Z)(function*(n,e,t,r,o,u){const l=r[o];try{if(l)yield e[l];else{const v=(yield zI(t)).find(D=>D.measurementId===o);v&&(yield e[v.appId])}}catch(g){Tn.error(g)}n("config",o,u)})).apply(this,arguments)}function r_(){return(r_=(0,re.Z)(function*(n,e,t,r,o){try{let u=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const g=yield zI(t);for(const v of l){const D=g.find(M=>M.measurementId===v),C=D&&e[D.appId];if(!C){u=[];break}u.push(C)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,o||{})}catch(u){Tn.error(u)}})).apply(this,arguments)}const WI=30,ZI=new class KI{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function YI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Bp(){return(Bp=(0,re.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:YI(r)},u=Xv.replace("{app-id}",t),l=yield fetch(u,o);if(200!==l.status&&304!==l.status){let g="";try{const v=yield l.json();null!==(e=v.error)&&void 0!==e&&e.message&&(g=v.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:g})}return l.json()})).apply(this,arguments)}function o_(){return(o_=(0,re.Z)(function*(n,e=ZI,t){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw lr.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw lr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new tD;return setTimeout((0,re.Z)(function*(){g.abort()}),void 0!==t?t:Jv),XI({appId:r,apiKey:o,measurementId:u},l,g,e)})).apply(this,arguments)}function XI(n,e,t){return a_.apply(this,arguments)}function a_(){return a_=(0,re.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=ZI){var u;const{appId:l,measurementId:g}=n;try{yield function eD(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(u),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(v){if(g)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:g};throw v}try{const v=yield function QI(n){return Bp.apply(this,arguments)}(n);return o.deleteThrottleMetadata(l),v}catch(v){const D=v;if(!function u_(n){if(!(n instanceof wt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(D)){if(o.deleteThrottleMetadata(l),g)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${D?.message}]`),{appId:l,measurementId:g};throw v}const C=503===Number(null===(u=D?.customData)||void 0===u?void 0:u.httpStatus)?(0,wt.$s)(t,o.intervalMillis,WI):(0,wt.$s)(t,o.intervalMillis),M={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return o.setThrottleMetadata(l,M),Tn.debug(`Calling attemptFetch again in ${C} millis`),XI(n,M,r,o)}}),a_.apply(this,arguments)}class tD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let $p,Vd;function jp(){return(jp=(0,re.Z)(function*(n,e,t,r,o){if(o&&o.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function oD(){return(oD=(0,re.Z)(function*(){if(!(0,wt.hl)())return Tn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,wt.eu)()}catch(n){return Tn.warn(lr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function d_(){return d_=(0,re.Z)(function*(n,e,t,r,o,u,l){var g;const v=function JI(n){return o_.apply(this,arguments)}(n);v.then(j=>{t[j.measurementId]=j.appId,n.options.measurementId&&j.measurementId!==n.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>Tn.error(j)),e.push(v);const D=function a1(){return oD.apply(this,arguments)}().then(j=>{if(j)return r.getId()}),[C,M]=yield Promise.all([v,D]);(function i_(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(e_)&&t.src.includes(n))return t;return null})(u)||function eA(n,e){const t=function XS(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:HI}),r=document.createElement("script"),o=`${e_}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(u,C.measurementId),Vd&&(o("consent","default",Vd),function sD(n){Vd=n}(void 0)),o("js",new Date);const F=null!==(g=l?.config)&&void 0!==g?g:{};return F[jI]="firebase",F.update=!0,null!=M&&(F[JS]=M),o("config",C.measurementId,F),$p&&(o("set",$p),function qp(n){$p=n}(void 0)),C.measurementId}),d_.apply(this,arguments)}class aD{constructor(e){this.app=e}_delete(){return delete As[this.app.options.appId],Promise.resolve()}}let As={},Rn=[];const h_={};let f_,Ms,Wp="dataLayer",Kp=!1;function sA(n,e,t){!function mc(){const n=[];if((0,wt.ru)()&&n.push("This is a browser extension environment."),(0,wt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=lr.create("invalid-analytics-context",{errorInfo:e});Tn.warn(t.message)}}();const r=n.options.appId;if(!r)throw lr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw lr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=As[r])throw lr.create("already-exists",{id:r});if(!Kp){!function t_(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Wp);const{wrappedGtag:u,gtagCore:l}=function qI(n,e,t,r,o){let u=function(...l){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(u=window[o]),window[o]=function tA(n,e,t,r){function u(){return u=(0,re.Z)(function*(l,...g){try{if("event"===l){const[v,D]=g;yield function GI(n,e,t,r,o){return r_.apply(this,arguments)}(n,e,t,v,D)}else if("config"===l){const[v,D]=g;yield function n_(n,e,t,r,o,u){return Up.apply(this,arguments)}(n,e,t,r,v,D)}else if("consent"===l){const[v]=g;n("consent","update",v)}else if("get"===l){const[v,D,C]=g;n("get",v,D,C)}else if("set"===l){const[v]=g;n("set",v)}else n(l,...g)}catch(v){Tn.error(v)}}),u.apply(this,arguments)}return function o(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[o]}}(As,Rn,h_,Wp,"gtag");Ms=u,f_=l,Kp=!0}return As[r]=function rA(n,e,t,r,o,u,l){return d_.apply(this,arguments)}(n,Rn,h_,e,f_,Wp,t),new aD(n)}function oA(){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,re.Z)(function*(){if((0,wt.ru)()||!(0,wt.zI)()||!(0,wt.hl)())return!1;try{return yield(0,wt.eu)()}catch{return!1}})).apply(this,arguments)}const p_="@firebase/analytics";!function uA(){(0,Ct._registerComponent)(new ro.wA(Lp,(e,{options:t})=>sA(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Ct._registerComponent)(new ro.wA("analytics-internal",function n(e){try{const t=e.getProvider(Lp).getImmediate();return{logEvent:(r,o,u)=>function ns(n,e,t,r){n=(0,wt.m9)(n),function nD(n,e,t,r,o){return jp.apply(this,arguments)}(Ms,As[n.app.options.appId],e,t,r).catch(o=>Tn.error(o))}(t,r,o,u)}}catch(t){throw lr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Ct.registerVersion)(p_,"0.10.0"),(0,Ct.registerVersion)(p_,"0.10.0","esm2017")}();class cA extends Kl.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Yp={setInterval(n,e,...t){const{delegate:r}=Yp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Yp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var lA=R(9039);class Qp extends cA{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,u=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(u,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Yp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Yp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(u){r=!0,o=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lA.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const m_={now:()=>(m_.delegate||Date).now(),delegate:void 0};class yc{constructor(e,t=yc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}yc.now=m_.now;class lD extends yc{constructor(e,t=yc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const dD=new class dA extends lD{}(class Bd extends Qp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Jp=new lD(Qp);var vc=R(5137),Qa=R(3093);const _c=new p.GfV("7.6.1"),y_="__angularfire_symbol__analyticsIsSupportedValue",v_="__angularfire_symbol__analyticsIsSupported",$d="__angularfire_symbol__remoteConfigIsSupportedValue",wc="__angularfire_symbol__remoteConfigIsSupported",Xp="__angularfire_symbol__messagingIsSupportedValue",eg="__angularfire_symbol__messagingIsSupported";function ng(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[v_]||(globalThis[v_]=oA().then(n=>globalThis[y_]=n).catch(()=>globalThis[y_]=!1)),globalThis[eg]||(globalThis[eg]=$I().then(n=>globalThis[Xp]=n).catch(()=>globalThis[Xp]=!1)),globalThis[wc]||(globalThis[wc]=DI().then(n=>globalThis[$d]=n).catch(()=>globalThis[$d]=!1));const rg=(n,e)=>{const t=e?[e]:(0,Ct.getApps)(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Ec(){}class hD{constructor(e,t=dD){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const o=this.zone;return this.delegate.schedule(function(l){o.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class mA{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ec,{},Ec,Ec)),t.pipe(Nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ig=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new hD(Zone.current)),this.insideAngular=t.run(()=>new hD(Zone.current,Jp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ja(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Xa(n){return Ja().ngZone.run(()=>n())}function fD(n){return Ja(),function vA(n){return function(t){return(t=t.lift(new mA(n.ngZone))).pipe((0,vc.R)(n.outsideAngular),(0,Qa.Q)(n.insideAngular))}}(Ja())(n)}const _A=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xa(()=>n.apply(void 0,r))},Ns=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ec,{},Ec,Ec)))),r[u]=_A(r[u],t));const o=function yA(n){return Ja().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(o instanceof Xn.y){const u=Ja();return o.pipe((0,vc.R)(u.outsideAngular),(0,Qa.Q)(u.insideAngular))}return Xa(()=>o)}return o instanceof Xn.y?o.pipe(fD):o instanceof Promise?Xa(()=>new Promise((u,l)=>o.then(g=>Xa(()=>u(g)),g=>Xa(()=>l(g))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:Xa(()=>o)};class Ic{constructor(e){return e}}class __{constructor(){return(0,Ct.getApps)()}}const w_=new p.OlP("angularfire2._apps"),pD={provide:Ic,useFactory:function wA(n){return n&&1===n.length?n[0]:new Ic((0,Ct.getApp)())},deps:[[new p.FiY,w_]]},gD={provide:__,deps:[[new p.FiY,w_]]};function mD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ic(r)}}let yD=(()=>{class n{constructor(t){(0,Ct.registerVersion)("angularfire",_c.full,"core"),(0,Ct.registerVersion)("angularfire",_c.full,"app"),(0,Ct.registerVersion)("angular",p.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[pD,gD]}),n})();function vD(n,...e){return{ngModule:yD,providers:[{provide:w_,useFactory:mD(n),multi:!0,deps:[p.R0b,p.zs3,ig,...e]}]}}const _D=Ns(Ct.initializeApp,!0),E_=new Map,wD={activated:!1,tokenObservers:[]},Cc={initialized:!1,enabled:!1};function Sn(n){return E_.get(n)||Object.assign({},wD)}function D_(){return Cc}const sg="https://content-firebaseappcheck.googleapis.com/v1",bc="exchangeDebugToken",ID={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class SA{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,re.Z)(function*(){t.stop();try{t.pending=new wt.BH,yield function Tc(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const On=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dr(n){if(!Sn(n).activated)throw On.create("use-before-activation",{appName:n.name})}function Hd(n,e){return C_.apply(this,arguments)}function C_(){return(C_=(0,re.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const M=yield o.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(M){throw On.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw On.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(M){throw On.create("fetch-parse-error",{originalErrorMessage:M?.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw On.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(v[1]),C=Date.now();return{token:g.token,expireTimeMillis:C+D,issuedAtTimeMillis:C}})).apply(this,arguments)}function b_(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${sg}/projects/${t}/apps/${r}:${bc}?key=${o}`,body:{debug_token:e}}}const TD="firebase-app-check-database",MA=1,zd="firebase-app-check-store";let Xo=null;function ag(){return(ag=(0,re.Z)(function*(n,e){const r=(yield function AD(){return Xo||(Xo=new Promise((n,e)=>{try{const t=indexedDB.open(TD,MA);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(On.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zd,{keyPath:"compositeKey"})}}catch(t){e(On.create("storage-open",{originalErrorMessage:t?.message}))}}),Xo)}()).transaction(zd,"readwrite"),u=r.objectStore(zd).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var D;g(On.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Gd=new Ts.Yd("@firebase/app-check");function ug(n,e){return(0,wt.hl)()?function NA(n,e){return function T_(n,e){return ag.apply(this,arguments)}(function Sc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function A_(){return D_().enabled}function lg(){return M_.apply(this,arguments)}function M_(){return(M_=(0,re.Z)(function*(){const n=D_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const m1={error:"UNKNOWN_ERROR"};function y1(n){return wt.US.encodeString(JSON.stringify(n),!1)}function x_(n){return RD.apply(this,arguments)}function RD(){return(RD=(0,re.Z)(function*(n,e=!1){const t=n.app;Dr(t);const r=Sn(t);let u,o=r.token;if(o&&!Mc(o)&&(r.token=void 0,o=void 0),!o){const v=yield r.cachedTokenPromise;v&&(Mc(v)?o=v:yield ug(t,void 0))}if(!e&&o&&Mc(o))return{token:o.token};let g,l=!1;if(A_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Hd(b_(t,yield lg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield ug(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Sn(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Gd.warn(v.message):Gd.error(v),u=v}return o?u?g=Mc(o)?{token:o.token,internalError:u}:PD(u):(g={token:o.token},r.token=o,yield ug(t,o)):g=PD(u),l&&function OD(n,e){const t=Sn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function N_(n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,re.Z)(function*(n){const e=n.app;Dr(e);const{provider:t}=Sn(e);if(A_()){const r=yield lg(),{token:o}=yield Hd(b_(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function O_(n,e){const t=Sn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function P_(n){const{app:e}=n,t=Sn(e);let r=t.tokenRefresher;r||(r=function qd(n){const{app:e}=n;return new SA((0,re.Z)(function*(){let r;if(r=Sn(e).token?yield x_(n,!0):yield x_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Sn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},ID.RETRIAL_MIN_WAIT,ID.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Mc(n){return n.expireTimeMillis-Date.now()>0}function PD(n){return{token:y1(m1),error:n}}class PA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Sn(this.app);for(const t of e)O_(this.app,t.next);return Promise.resolve()}}const jD="app-check-internal";!function zA(){(0,Ct._registerComponent)(new ro.wA("app-check",n=>function v1(n,e){return new PA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jD).initialize()})),(0,Ct._registerComponent)(new ro.wA(jD,n=>function kA(n){return{getToken:e=>x_(n,e),getLimitedUseToken:()=>N_(n),addTokenListener:e=>function R_(n,e,t,r){const{app:o}=n,u=Sn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Mc(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),P_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>P_(n))}(n,"INTERNAL",e),removeTokenListener:e=>O_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ct.registerVersion)("@firebase/app-check","0.8.0")}();class Kd{constructor(){return rg("app-check")}}typeof window<"u"&&window;var xc=R(6878);class z_{constructor(e){return e}}class YA{constructor(){return rg("auth")}}const Zd=new p.OlP("angularfire2.auth-instances");function WD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new z_(r)}}const KD={provide:YA,deps:[[new p.FiY,Zd]]},JA={provide:z_,useFactory:function QA(n,e){const t=ng("auth",n,e);return t&&new z_(t)},deps:[[new p.FiY,Zd],Ic]};let ZD=(()=>{class n{constructor(){(0,Ct.registerVersion)("angularfire",_c.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[JA,KD]}),n})();function G_(n,...e){return{ngModule:ZD,providers:[{provide:Zd,useFactory:WD(n),multi:!0,deps:[p.R0b,p.zs3,ig,__,[new p.FiY,Kd],...e]}]}}const sM=Ns(xc.o,!0);var Le,gM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={},W_=W_||{},ut=gM||self;function yg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nc="closure_uid_"+(1e9*Math.random()>>>0),mM=0;function yM(n,e,t){return n.call.apply(n.bind,arguments)}function XD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function dr(n,e,t){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yM:XD).apply(null,arguments)}function Rc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Bn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[o].apply(r,l)}}function ea(){this.s=this.s,this.o=this.o}ea.prototype.s=!1,ea.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function JD(n){Object.prototype.hasOwnProperty.call(n,Nc)&&n[Nc]||(n[Nc]=++mM)}(this)},ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Z_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yg(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}tr.prototype.h=function(){this.defaultPrevented=!0};var Y_=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ut.addEventListener("test",()=>{},e),ut.removeEventListener("test",()=>{},e)}catch{}return n}();function Oc(n){return/^[\s\xa0]*$/.test(n)}function Pc(){var n=ut.navigator;return n&&(n=n.userAgent)?n:""}function Mi(n){return-1!=Pc().indexOf(n)}function Q_(n){return Q_[" "](n),n}Q_[" "]=function(){};var vg,n,_M=Mi("Opera"),kc=Mi("Trident")||Mi("MSIE"),J_=Mi("Edge"),Qd=J_||kc,X_=Mi("Gecko")&&!(-1!=Pc().toLowerCase().indexOf("webkit")&&!Mi("Edge"))&&!(Mi("Trident")||Mi("MSIE"))&&!Mi("Edge"),wM=-1!=Pc().toLowerCase().indexOf("webkit")&&!Mi("Edge");function e0(){var n=ut.document;return n?n.documentMode:void 0}e:{var t0="",_g=(n=Pc(),X_?/rv:([^\);]+)(\)|;)/.exec(n):J_?/Edge\/([\d\.]+)/.exec(n):kc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wM?/WebKit\/(\S+)/.exec(n):_M?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_g&&(t0=_g?_g[1]:""),kc){var wg=e0();if(null!=wg&&wg>parseFloat(t0)){vg=String(wg);break e}}vg=t0}var EM=ut.document&&kc&&(e0()||parseInt(vg,10))||void 0;function $n(n,e){if(tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(X_){e:{try{Q_(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$n.$.h.call(this)}}Bn($n,tr);var Fc={2:"touch",3:"pen",4:"mouse"};$n.prototype.h=function(){$n.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jd="closure_listenable_"+(1e6*Math.random()|0),IM=0;function eO(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++IM,this.fa=this.ia=!1}function s0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Eg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lc(n){const e={};for(const t in n)e[t]=n[t];return e}const nC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ig(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<nC.length;u++)t=nC[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Dg(n){this.src=n,this.g={},this.h=0}function Cg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=K_(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(s0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function a0(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}Dg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=a0(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new eO(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var u0="closure_lm_"+(1e6*Math.random()|0),c0={};function bg(n,e,t,r,o){if(r&&r.once)return Xd(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)bg(n,e[u],t,r,o);return null}return t=h0(t),n&&n[Jd]?n.O(e,t,Yd(r)?!!r.capture:!!r,o):l0(n,e,t,!1,r,o)}function l0(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=Yd(o)?!!o.capture:!!o,g=Sg(n);if(g||(n[u0]=g=new Dg(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function DM(){const e=CM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Y_||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(d0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Xd(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Xd(n,e[u],t,r,o);return null}return t=h0(t),n&&n[Jd]?n.P(e,t,Yd(r)?!!r.capture:!!r,o):l0(n,e,t,!0,r,o)}function Tg(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Tg(n,e[u],t,r,o);else r=Yd(r)?!!r.capture:!!r,t=h0(t),n&&n[Jd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=a0(u=n.g[e],t,r,o))&&(s0(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Sg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=a0(e,t,r,o)),(t=-1<n?e[n]:null)&&rC(t))}function rC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Jd])Cg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(d0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sg(e))?(Cg(t,n),0==t.h&&(t.src=null,e[u0]=null)):s0(n)}}}function d0(n){return n in c0?c0[n]:c0[n]="on"+n}function CM(n,e){if(n.fa)n=!0;else{e=new $n(e,this);var t=n.listener,r=n.la||n.src;n.ia&&rC(n),n=t.call(r,e)}return n}function Sg(n){return(n=n[u0])instanceof Dg?n:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function h0(n){return"function"==typeof n?n:(n[ta]||(n[ta]=function(e){return n.handleEvent(e)}),n[ta])}function jn(){ea.call(this),this.i=new Dg(this),this.S=this,this.J=null}function Hn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new tr(e,n);else if(e instanceof tr)e.target=e.target||n;else{var o=e;Ig(e=new tr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=f0(l,r,!0,e)&&o}if(o=f0(l=e.g=n,r,!0,e)&&o,o=f0(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=f0(l=e.g=t[u],r,!1,e)&&o}function f0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,v=l.la||l.src;l.ia&&Cg(n.i,l),o=!1!==g.call(v,r)&&o}}return o&&!r.defaultPrevented}Bn(jn,ea),jn.prototype[Jd]=!0,jn.prototype.removeEventListener=function(n,e,t,r){Tg(this,n,e,t,r)},jn.prototype.N=function(){if(jn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)s0(t[r]);delete n.g[e],n.h--}}this.J=null},jn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var p0=ut.JSON.stringify;function bM(){var n=g0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iC=new class tO{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sC,n=>n.reset());class sC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function SM(n){ut.setTimeout(()=>{throw n},0)}let Vc,Uc=!1,g0=new class TM{constructor(){this.h=this.g=null}add(e,t){const r=iC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},aC=()=>{const n=ut.Promise.resolve(void 0);Vc=()=>{n.then(uC)}};var uC=()=>{for(var n;n=bM();){try{n.h.call(n.g)}catch(t){SM(t)}var e=iC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uc=!1};function Ag(n,e){jn.call(this),this.h=n||1,this.g=e||ut,this.j=dr(this.qb,this),this.l=Date.now()}function Mg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function xg(n,e,t){if("function"==typeof n)t&&(n=dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ut.setTimeout(n,e||0)}function m0(n){n.g=xg(()=>{n.g=null,n.i&&(n.i=!1,m0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Bn(Ag,jn),(Le=Ag.prototype).ga=!1,Le.T=null,Le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hn(this,"tick"),this.ga&&(Mg(this),this.start()))}},Le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.N=function(){Ag.$.N.call(this),Mg(this),delete this.g};class cC extends ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m0(this)}N(){super.N(),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(n){ea.call(this),this.h=n,this.g={}}Bn(eh,ea);var lC=[];function AM(n,e,t,r){Array.isArray(t)||(t&&(lC[0]=t.toString()),t=lC);for(var o=0;o<t.length;o++){var u=bg(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function y0(n){Eg(n.g,function(e,t){this.g.hasOwnProperty(t)&&rC(e)},n),n.g={}}function v0(){this.g=!0}function th(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sO(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return p0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}eh.prototype.N=function(){eh.$.N.call(this),y0(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},v0.prototype.Ea=function(){this.g=!1},v0.prototype.info=function(){};var Bc={},MM=null;function _0(){return MM=MM||new jn}function w0(n){tr.call(this,Bc.Ta,n)}function nu(n){const e=_0();Hn(e,new w0(e))}function E0(n,e){tr.call(this,Bc.STAT_EVENT,n),this.stat=e}function Lr(n){const e=_0();Hn(e,new E0(e,n))}function nh(n,e){tr.call(this,Bc.Ua,n),this.size=e}function rh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){n()},e)}Bc.Ta="serverreachability",Bn(w0,tr),Bc.STAT_EVENT="statevent",Bn(E0,tr),Bc.Ua="timingevent",Bn(nh,tr);var I0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function D0(){}function dC(){}D0.prototype.h=null;var T0,ih={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function b0(){tr.call(this,"d")}function hC(){tr.call(this,"c")}function sh(){}function $c(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new eh(this),this.P=rs,this.V=new Ag(n=Qd?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NM}function NM(){this.i=null,this.g="",this.h=!1}Bn(b0,tr),Bn(hC,tr),Bn(sh,D0),sh.prototype.g=function(){return new XMLHttpRequest},sh.prototype.i=function(){return{}},T0=new sh;var rs=45e3,Ng={},Rg={};function fC(n,e,t){n.L=1,n.v=Lg(is(e)),n.s=t,n.S=!0,Cr(n,null)}function Cr(n,e){n.G=Date.now(),oh(n),n.A=is(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Ug(t.i,"t",r),n.C=0,t=n.l.J,n.h=new NM,n.g=PC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cC(dr(n.Pa,n,n.g),n.O)),AM(n.U,n.g,"readystatechange",n.nb),e=n.I?Lc(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),nu(),function nO(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),v=0;v<g.length;v++){var D=g[v].split("=");if(1<D.length){var C=D[0];D=D[1];var M=C.split("_");l=2<=M.length&&"type"==M[1]?l+(C+"=")+D+"&":l+(C+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pC(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Og(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=RM(n,t),o==Rg){4==e&&(n.o=4,Lr(14),r=!1),th(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ng){n.o=4,Lr(15),th(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}th(n.j,n.m,o,null),kg(n,o)}pC(n)&&o!=Rg&&o!=Ng&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Lr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),qg(e),e.M=!0,Lr(11))):(th(n.j,n.m,t,"[Invalid Chunked Response]"),ru(n),jc(n))}function RM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rg:(t=Number(e.substring(t,r)),isNaN(t)?Ng:(r+=1)+t>e.length?Rg:(e=e.slice(r,r+t),n.C=r+t,e))}function oh(n){n.Y=Date.now()+n.P,Pg(n,n.P)}function Pg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rh(dr(n.lb,n),e)}function ah(n){n.B&&(ut.clearTimeout(n.B),n.B=null)}function jc(n){0==n.l.H||n.J||k0(n.l,n)}function ru(n){ah(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Mg(n.V),y0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Bg(t.i,n)))if(!n.K&&Bg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wg(t),O0(t)}Gg(t),Lr(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=rh(dr(t.ib,t),6e3));if(1>=ch(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Gc(t,11)}else if((n.K||t.g==n)&&Wg(t),!Oc(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const C=D[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const M=D[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const F=D[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const ie=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var u=r.i;u.g||-1==ie.indexOf("spdy")&&-1==ie.indexOf("quic")&&-1==ie.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&($g(u,u.h),u.h=null))}if(r.F){const Ee=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.Da=Ee,Yt(r.I,r.F,Ee))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Zg(r,r.J?r.pa:null,r.Y),l.K){DC(r.i,l);var g=l,v=r.L;v&&g.setTimeout(v),g.B&&(ah(g),oh(g)),r.g=l}else P0(r);0<t.j.length&&mh(t)}else"stop"!=D[0]&&"close"!=D[0]||Gc(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Gc(t,7):xC(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}nu()}catch{}}function S0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function mC(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function gC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Le=$c.prototype).setTimeout=function(n){this.P=n},Le.nb=function(n){n=n.target;const e=this.M;e&&3==os(n)?e.l():this.Pa(n)},Le.Pa=function(n){try{if(n==this.g)e:{const C=os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||Qd||this.g&&(this.h.h||this.g.ja()||zg(this.g)))){this.J||4!=C||7==e||nu(),ah(this);var t=this.g.da();this.ca=t;t:if(pC(this)){var r=zg(this.g);n="";var o=r.length,u=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ru(this),jc(this);var l="";break t}this.h.i=new ut.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function rO(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Lr(12),ru(this),jc(this);break e}th(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kg(this,t)}this.S?(Og(this,C,l),Qd&&this.i&&3==C&&(AM(this.U,this.V,"tick",this.mb),this.V.start())):(th(this.j,this.m,l,null),kg(this,l)),4==C&&ru(this),this.i&&!this.J&&(4==C?k0(this.l,this):(this.i=!1,oh(this)))}else(function R0(n){const e={};n=(n.g&&2<=os(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Oc(n[r]))continue;var t=oC(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function o0(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),ru(this),jc(this)}}}catch{}},Le.mb=function(){if(this.g){var n=os(this.g),e=this.g.ja();this.C<e.length&&(ah(this),Og(this,n,e),this.i&&4!=n&&oh(this))}},Le.cancel=function(){this.J=!0,ru(this)},Le.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(nu(),Lr(17)),ru(this),this.o=2,jc(this)):Pg(this,this.Y-n)};var yC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof iu){this.h=n.h,ss(this,n.j),this.s=n.s,this.g=n.g,uh(this,n.m),this.l=n.l;var e=n.i,t=new zc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fg(this,t),this.o=n.o}else n&&(e=String(n).match(yC))?(this.h=!1,ss(this,e[1]||"",!0),this.s=Vg(e[2]||""),this.g=Vg(e[3]||"",!0),uh(this,e[4]),this.l=Vg(e[5]||"",!0),Fg(this,e[6]||"",!0),this.o=Vg(e[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}function is(n){return new iu(n)}function ss(n,e,t){n.j=t?Vg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Fg(n,e,t){e instanceof zc?(n.i=e,function EC(n,e){e&&!n.j&&(na(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(A0(this,r),Ug(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Hc(e,wC)),n.i=new zc(e,n.h))}function Yt(n,e,t){n.i.set(e,t)}function Lg(n){return Yt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}iu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hc(e,_C,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hc(e,_C,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hc(t,"/"==t.charAt(0)?kM:PM,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hc(t,oO)),n.join("")};var _C=/[#\/\?@]/g,PM=/[#\?:]/g,kM=/[#\?]/g,wC=/[#\?@]/g,oO=/#/g;function zc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function na(n){n.g||(n.g=new Map,n.h=0,n.i&&function vC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function A0(n,e){na(n),e=su(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function FM(n,e){return na(n),e=su(n,e),n.g.has(e)}function Ug(n,e,t){A0(n,e),0<t.length&&(n.i=null,n.g.set(su(n,e),Z_(t)),n.h+=t.length)}function su(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function M0(n){this.l=n||IC,n=ut.PerformanceNavigationTiming?0<(n=ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ut.g&&ut.g.Ka&&ut.g.Ka()&&ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Le=zc.prototype).add=function(n,e){na(this),this.i=null,n=su(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Le.forEach=function(n,e){na(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Le.ta=function(){na(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Le.Z=function(n){na(this);let e=[];if("string"==typeof n)FM(this,n)&&(e=e.concat(this.g.get(su(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Le.set=function(n,e){return na(this),this.i=null,FM(this,n=su(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Le.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var IC=10;function ou(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ch(n){return n.h?1:n.g?n.g.size:0}function Bg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $g(n,e){n.g?n.g.add(e):n.h=e}function DC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Z_(n.i)}M0.prototype.cancel=function(){if(this.i=CC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var aO=class{stringify(n){return ut.JSON.stringify(n,void 0)}parse(n){return ut.JSON.parse(n,void 0)}};function bC(){this.g=new aO}function VM(n,e,t){const r=t||"";try{S0(n,function(o,u){let l=o;Yd(o)&&(l=p0(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function x0(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function jg(n){this.l=n.fc||null,this.j=n.ob||!1}function N0(n,e){jn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Hg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bn(jg,D0),jg.prototype.g=function(){return new N0(this.l,this.j)},jg.prototype.i=function(n){return function(){return n}}({}),Bn(N0,jn);var Hg=0;function TC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dh(n)}function dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Le=N0.prototype).open=function(n,e){if(this.readyState!=Hg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dh(this)},Le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lh(this)),this.readyState=Hg},Le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lh(this):dh(this),3==this.readyState&&TC(this)}},Le.Za=function(n){this.g&&(this.response=this.responseText=n,lh(this))},Le.Ya=function(n){this.g&&(this.response=n,lh(this))},Le.ka=function(){this.g&&lh(this)},Le.setRequestHeader=function(n,e){this.v.append(n,e)},Le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(N0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uO=ut.JSON.parse;function An(n){jn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BM,this.L=this.M=!1}Bn(An,jn);var BM="",cO=/^https?$/i,lO=["POST","PUT"];function hh(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,SC(n),fh(n)}function SC(n){n.F||(n.F=!0,Hn(n,"complete"),Hn(n,"error"))}function AC(n){if(n.h&&typeof W_<"u"&&(!n.C[1]||4!=os(n)||2!=n.da()))if(n.v&&4==os(n))xg(n.La,0,n);else if(Hn(n,"readystatechange"),4==os(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(yC)[1]||null;!o&&ut.self&&ut.self.location&&(o=ut.self.location.protocol.slice(0,-1)),r=!cO.test(o?o.toLowerCase():"")}t=r}if(t)Hn(n,"complete"),Hn(n,"success");else{n.m=6;try{var u=2<os(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",SC(n)}}finally{fh(n)}}}function fh(n,e){if(n.g){ra(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hn(n,"ready");try{t.onreadystatechange=r}catch{}}}function ra(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ut.clearTimeout(n.A),n.A=null)}function os(n){return n.g?n.g.readyState:0}function zg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case BM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function MC(n){let e="";return Eg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ph(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=MC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yt(n,e,t))}function au(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gh(n){this.Ga=0,this.j=[],this.l=new v0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=au("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=au("baseRetryDelayMs",5e3,n),this.hb=au("retryDelaySeedMs",1e4,n),this.eb=au("forwardChannelMaxRetries",2,n),this.xa=au("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new M0(n&&n.concurrentRequestLimit),this.Ja=new bC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xC(n){if(jM(n),3==n.H){var e=n.W++,t=is(n.I);if(Yt(t,"SID",n.K),Yt(t,"RID",e),Yt(t,"TYPE","terminate"),yh(n,t),(e=new $c(n,n.l,e)).L=2,e.v=Lg(is(t)),t=!1,ut.navigator&&ut.navigator.sendBeacon)try{t=ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=PC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oh(e)}F0(n)}function O0(n){n.g&&(qg(n),n.g.cancel(),n.g=null)}function jM(n){O0(n),n.u&&(ut.clearTimeout(n.u),n.u=null),Wg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ut.clearTimeout(n.m),n.m=null)}function mh(n){if(!ou(n.i)&&!n.m){n.m=!0;var e=n.Na;Vc||aC(),Uc||(Vc(),Uc=!0),g0.add(e,n),n.C=0}}function NC(n,e){var t;t=e?e.m:n.W++;const r=is(n.I);Yt(r,"SID",n.K),Yt(r,"RID",t),Yt(r,"AID",n.V),yh(n,r),n.o&&n.s&&ph(r,n.o,n.s),t=new $c(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=RC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),$g(n.i,t),fC(t,r,e)}function yh(n,e){n.na&&Eg(n.na,function(t,r){Yt(e,r,t)}),n.h&&S0({},function(t,r){Yt(e,r,t)})}function RC(n,e,t){t=Math.min(n.j.length,t);var r=n.h?dr(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let D=o[v].g;const C=o[v].map;if(D-=u,0>D)u=Math.max(0,o[v].g-100),g=!1;else try{VM(C,l,"req"+D+"_")}catch{r&&r(C)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function P0(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vc||aC(),Uc||(Vc(),Uc=!0),g0.add(e,n),n.A=0}}function Gg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rh(dr(n.Ma,n),Kg(n,n.A)),n.A++,0))}function qg(n){null!=n.B&&(ut.clearTimeout(n.B),n.B=null)}function OC(n){n.g=new $c(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=is(n.wa);Yt(e,"RID","rpc"),Yt(e,"SID",n.K),Yt(e,"AID",n.V),Yt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Yt(e,"TO",n.qa),Yt(e,"TYPE","xmlhttp"),yh(n,e),n.o&&n.s&&ph(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Lg(is(e)),t.s=null,t.S=!0,Cr(t,n)}function Wg(n){null!=n.v&&(ut.clearTimeout(n.v),n.v=null)}function k0(n,e){var t=null;if(n.g==e){Wg(n),qg(n),n.g=null;var r=2}else{if(!Bg(n.i,e))return;t=e.F,DC(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Hn(r=_0(),new nh(r,t)),mh(n)}else P0(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function HM(n,e){return!(ch(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rh(dr(n.Na,n,e),Kg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Gg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Gc(n,5);break;case 4:Gc(n,10);break;case 3:Gc(n,6);break;default:Gc(n,2)}}function Kg(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Gc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=dr(n.pb,n);t||(t=new iu("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||ss(t,"https"),Lg(t)),function UM(n,e){const t=new v0;if(ut.Image){const r=new Image;r.onload=Rc(x0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Rc(x0,t,r,"TestLoadImage: error",!1,e),r.onabort=Rc(x0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rc(x0,t,r,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Lr(2);n.H=0,n.h&&n.h.za(e),F0(n),jM(n)}function F0(n){if(n.H=0,n.ma=[],n.h){const e=CC(n.i);(0!=e.length||0!=n.j.length)&&(tC(n.ma,e),tC(n.ma,n.j),n.i.i.length=0,Z_(n.j),n.j.length=0),n.h.ya()}}function Zg(n,e,t){var r=t instanceof iu?is(t):new iu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),uh(r,r.m);else{var o=ut.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new iu(null);r&&ss(u,r),e&&(u.g=e),o&&uh(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Yt(r,t,e),Yt(r,"VER",n.ra),yh(n,r),r}function PC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new An(t&&n.Ha&&!n.va?new jg({ob:!0}):n.va)).Oa(n.J),e}function kC(){}function L0(){if(kc&&!(10<=Number(EM)))throw Error("Environmental error: no available transport.")}function xi(n,e){jn.call(this),this.g=new gh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Oc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qc(this)}function FC(n){b0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LC(){hC.call(this),this.status=1}function qc(n){this.g=n}function Ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yg(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Zt(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(Le=An.prototype).Oa=function(n){this.M=n},Le.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():T0.g(),this.C=function C0(n){return n.h||(n.h=n.i())}(this.u?this.u:T0),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void hh(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=ut.FormData&&n instanceof ut.FormData,!(0<=K_(lO,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ra(this),0<this.B&&((this.L=function $M(n){return kc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=xg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){hh(this,u)}},Le.ua=function(){typeof W_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},Le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hn(this,"complete"),Hn(this,"abort"),fh(this))},Le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fh(this,!0)),An.$.N.call(this)},Le.La=function(){this.s||(this.G||this.v||this.l?AC(this):this.kb())},Le.kb=function(){AC(this)},Le.isActive=function(){return!!this.g},Le.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},Le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Le.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uO(e)}},Le.Ia=function(){return this.m},Le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=gh.prototype).ra=8,Le.H=1,Le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new $c(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Lc(u),Ig(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RC(this,o,e),Yt(t=is(this.I),"RID",n),Yt(t,"CVER",22),this.F&&Yt(t,"X-HTTP-Session-Id",this.F),yh(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(MC(u)))+"&"+e:this.o&&ph(t,this.o,u)),$g(this.i,o),this.bb&&Yt(t,"TYPE","init"),this.P?(Yt(t,"$req",e),Yt(t,"SID","null"),o.aa=!0,fC(o,t,null)):fC(o,t,e),this.H=2}}else 3==this.H&&(n?NC(this,n):0==this.j.length||ou(this.i)||NC(this))},Le.Ma=function(){if(this.u=null,OC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rh(dr(this.jb,this),n)}},Le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lr(10),O0(this),OC(this))},Le.ib=function(){null!=this.v&&(this.v=null,O0(this),Gg(this),Lr(19))},Le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Lr(2)):(this.l.info("Failed to ping google.com"),Lr(1))},Le.isActive=function(){return!!this.h&&this.h.isActive(this)},(Le=kC.prototype).Ba=function(){},Le.Aa=function(){},Le.za=function(){},Le.ya=function(){},Le.isActive=function(){return!0},Le.Va=function(){},L0.prototype.g=function(n,e){return new xi(n,e)},Bn(xi,jn),xi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Lr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Zg(n,null,n.Y),mh(n)},xi.prototype.close=function(){xC(this.g)},xi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=p0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&mh(e)},xi.prototype.N=function(){this.g.h=null,delete this.j,xC(this.g),delete this.g,xi.$.N.call(this)},Bn(FC,b0),Bn(LC,hC),Bn(qc,kC),qc.prototype.Ba=function(){Hn(this.g,"a")},qc.prototype.Aa=function(n){Hn(this.g,new FC(n))},qc.prototype.za=function(n){Hn(this.g,new LC)},qc.prototype.ya=function(){Hn(this.g,"b")},Bn(Ni,function zM(){this.blockSize=-1}),Ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ni.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)Yg(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){Yg(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){Yg(this,r),o=0;break}}this.h=o,this.i+=e},Ni.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var GM={};function vh(n){return-128<=n&&128>n?function vM(n,e){var t=GM;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Zt([0|e],0>e?-1:0)}):new Zt([0|n],0>n?-1:0)}function as(n){if(isNaN(n)||!isFinite(n))return ia;if(0>n)return br(as(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=U0;return new Zt(e,0)}var U0=4294967296,ia=vh(0),B0=vh(1),VC=vh(16777216);function Rs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function gi(n){return-1==n.h}function br(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Zt(t,~n.h).add(B0)}function Qg(n,e){return n.add(br(e))}function uu(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Jg(n,e){this.g=n,this.h=e}function Xg(n,e){if(Rs(e))throw Error("division by zero");if(Rs(n))return new Jg(ia,ia);if(gi(n))return e=Xg(br(n),e),new Jg(br(e.g),br(e.h));if(gi(e))return e=Xg(n,br(e)),new Jg(br(e.g),e.h);if(30<n.g.length){if(gi(n)||gi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=B0,r=e;0>=r.X(n);)t=qM(t),r=qM(r);var o=_h(t,1),u=_h(r,1);for(r=_h(r,2),t=_h(t,2);!Rs(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=_h(r,1),t=_h(t,1)}return e=Qg(n,o.R(e)),new Jg(o,e)}for(o=ia;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=as(t)).R(e);gi(l)||0<l.X(n);)l=(u=as(t-=r)).R(e);Rs(u)&&(u=B0),o=o.add(u),n=Qg(n,l)}return new Jg(o,n)}function qM(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Zt(t,n.h)}function _h(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Zt(o,n.h)}(Le=Zt.prototype).ea=function(){if(gi(this))return-br(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:U0+r)*e,e*=U0}return n},Le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Rs(this))return"0";if(gi(this))return"-"+br(this).toString(n);for(var e=as(Math.pow(n,6)),t=this,r="";;){var o=Xg(t,e).g,u=((0<(t=Qg(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Rs(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Le.X=function(n){return gi(n=Qg(this,n))?-1:Rs(n)?0:1},Le.abs=function(){return gi(this)?br(this):this},Le.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new Zt(t,-2147483648&t[t.length-1]?-1:0)},Le.R=function(n){if(Rs(this)||Rs(n))return ia;if(gi(this))return gi(n)?br(this).R(br(n)):br(br(this).R(n));if(gi(n))return br(this.R(br(n)));if(0>this.X(VC)&&0>n.X(VC))return as(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(o)>>>16,v=65535&n.D(o);t[2*r+2*o]+=l*v,uu(t,2*r+2*o),t[2*r+2*o+1]+=u*v,uu(t,2*r+2*o+1),t[2*r+2*o+1]+=l*g,uu(t,2*r+2*o+1),t[2*r+2*o+2]+=u*g,uu(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Zt(t,0)},Le.gb=function(n){return Xg(this,n).h},Le.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Zt(t,this.h&n.h)},Le.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Zt(t,this.h|n.h)},Le.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Zt(t,this.h^n.h)},L0.prototype.createWebChannel=L0.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,I0.NO_ERROR=0,I0.TIMEOUT=8,I0.HTTP_ERROR=6,xM.COMPLETE="complete",dC.EventType=ih,ih.OPEN="a",ih.CLOSE="b",ih.ERROR="c",ih.MESSAGE="d",jn.prototype.listen=jn.prototype.O,An.prototype.listenOnce=An.prototype.P,An.prototype.getLastError=An.prototype.Sa,An.prototype.getLastErrorCode=An.prototype.Ia,An.prototype.getStatus=An.prototype.da,An.prototype.getResponseJson=An.prototype.Wa,An.prototype.getResponseText=An.prototype.ja,An.prototype.send=An.prototype.ha,An.prototype.setWithCredentials=An.prototype.Oa,Ni.prototype.digest=Ni.prototype.l,Ni.prototype.reset=Ni.prototype.reset,Ni.prototype.update=Ni.prototype.j,Zt.prototype.add=Zt.prototype.add,Zt.prototype.multiply=Zt.prototype.R,Zt.prototype.modulo=Zt.prototype.gb,Zt.prototype.compare=Zt.prototype.X,Zt.prototype.toNumber=Zt.prototype.ea,Zt.prototype.toString=Zt.prototype.toString,Zt.prototype.getBits=Zt.prototype.D,Zt.fromNumber=as,Zt.fromString=function V0(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return br(V0(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=as(Math.pow(e,8)),r=ia,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=as(Math.pow(e,u)),r=r.R(u).add(as(l))):r=(r=r.R(t)).add(as(l))}return r};var WM=pi.createWebChannelTransport=function(){return new L0},dO=pi.getStatEventTarget=function(){return _0()},UC=pi.ErrorCode=I0,hO=pi.EventType=xM,fO=pi.Event=Bc,KM=pi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZM=pi.FetchXmlHttpFactory=jg,$0=pi.WebChannel=dC,pO=pi.XhrIo=An,gO=pi.Md5=Ni,wh=pi.Integer=Zt;const YM="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let Eh="9.23.0";const i=new Ts.Yd("@firebase/firestore");function s(){return i.logLevel}function c(n,...e){if(i.logLevel<=Ts.in.DEBUG){const t=e.map(y);i.debug(`Firestore (${Eh}): ${n}`,...t)}}function d(n,...e){if(i.logLevel<=Ts.in.ERROR){const t=e.map(y);i.error(`Firestore (${Eh}): ${n}`,...t)}}function h(n,...e){if(i.logLevel<=Ts.in.WARN){const t=e.map(y);i.warn(`Firestore (${Eh}): ${n}`,...t)}}function y(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _(n="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw d(e),new Error(e)}function I(n,e){n||_()}function S(n,e){return n}const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends wt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class se{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class Pe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ge{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let l=new B;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new B,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const D=l;e.enqueueRetryable((0,re.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},v=D=>{c("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(c("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new B)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(c("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(I("string"==typeof r.accessToken),new se(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return I(null===e||"string"==typeof e),new nr(e)}}class de{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ct{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new de(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nt{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&c("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,c("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{c("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):c("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(I("string"==typeof t.token),this.T=t.token,new bt(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function em(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BC{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=em(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function tm(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class In{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new N(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new N(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new N(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new In(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qe(e)}static min(){return new qe(new In(0,0))}static max(){return new qe(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class j0{constructor(e,t,r){void 0===t?t=0:t>e.length&&_(),void 0===r?r=e.length-t:r>e.length-t&&_(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===j0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof j0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vt extends j0{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const ZL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends j0{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return ZL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new N(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new N(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new N(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===g?(l=!l,o++):"."!==g||l?(r+=g,o++):(u(),o++)}if(u(),l)throw new N(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Vt.fromString(e))}static fromName(e){return new ke(Vt.fromString(e).popFirst(5))}static empty(){return new ke(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Vt(e.slice()))}}function vO(n){return new us(n.readTime,n.key,-1)}class us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new us(qe.min(),ke.empty(),-1)}static max(){return new us(qe.max(),ke.empty(),-1)}}function JM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ke.comparator(n.documentKey,e.documentKey),0!==t?t:lt(n.largestBatchId,e.largestBatchId))}const _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wc(n){return XM.apply(this,arguments)}function XM(){return XM=(0,re.Z)(function*(n){if(n.code!==A.FAILED_PRECONDITION||n.message!==_O)throw n;c("LocalStore","Unexpectedly lost primary lease")}),XM.apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let o=0,u=0,l=!1;e.forEach(g=>{++o,g.next(()=>{++u,l&&u===o&&t()},v=>r(v))}),l=!0,u===o&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(o=>o?q.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new q((r,o)=>{const u=e.length,l=new Array(u);let g=0;for(let v=0;v<u;v++){const D=v;t(e[D]).next(C=>{l[D]=C,++g,g===u&&r(l)},C=>o(C))}})}static doWhile(e,t){return new q((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}function Kc(n){return"IndexedDbTransactionError"===n.name}let cs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function G0(n){return null==n}function q0(n){return 0===n&&1/n==-1/0}function AO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cn{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GC(this.root,e,this.comparator,!1)}getReverseIterator(){return new GC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GC(this.root,e,this.comparator,!0)}}class GC{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Ur.RED,this.left=o??Ur.EMPTY,this.right=u??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ur(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ur.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _();const e=this.left.check();if(e!==this.right.check())throw _();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw _()}get value(){throw _()}get color(){throw _()}get left(){throw _()}get right(){throw _()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xO(this.data.getIterator())}getIteratorFrom(e){return new xO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class xO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new gn(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class NO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NO("Invalid base64 string: "+o):o}}(e);return new hr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(n){if(I(!!n),"string"==typeof n){let e=0;const t=EV.exec(n);if(I(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cu(n){return"string"==typeof n?hr.fromBase64String(n):hr.fromUint8Array(n)}function qC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function WC(n){const e=n.mapValue.fields.__previous_value__;return qC(e)?WC(e):e}function W0(n){const e=Yc(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}class IV{constructor(e,t,r,o,u,l,g,v,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=D}}class Ch{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ch("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qC(n)?4:kO(n)?9007199254740991:10:_()}function oa(n,e){if(n===e)return!0;const t=Jc(n);if(t!==Jc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return W0(n).isEqual(W0(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Yc(r.timestampValue),l=Yc(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,cu(n.bytesValue).isEqual(cu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Pn(r.geoPointValue.latitude)===Pn(o.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Pn(r.integerValue)===Pn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Pn(r.doubleValue),l=Pn(o.doubleValue);return u===l?q0(u)===q0(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return tm(n.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(AO(u)!==AO(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!oa(u[g],l[g])))return!1;return!0}(n,e);default:return _()}var o}function K0(n,e){return void 0!==(n.values||[]).find(t=>oa(t,e))}function Xc(n,e){if(n===e)return 0;const t=Jc(n),r=Jc(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Pn(o.integerValue||o.doubleValue),g=Pn(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return RO(n.timestampValue,e.timestampValue);case 4:return RO(W0(n),W0(e));case 5:return lt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=cu(o),g=cu(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),g=u.split("/");for(let v=0;v<l.length&&v<g.length;v++){const D=lt(l[v],g[v]);if(0!==D)return D}return lt(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=lt(Pn(o.latitude),Pn(u.latitude));return 0!==l?l:lt(Pn(o.longitude),Pn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],g=u.values||[];for(let v=0;v<l.length&&v<g.length;++v){const D=Xc(l[v],g[v]);if(D)return D}return lt(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Qc.mapValue&&u===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(u===Qc.mapValue)return-1;const l=o.fields||{},g=Object.keys(l),v=u.fields||{},D=Object.keys(v);g.sort(),D.sort();for(let C=0;C<g.length&&C<D.length;++C){const M=lt(g[C],D[C]);if(0!==M)return M;const F=Xc(l[g[C]],v[D[C]]);if(0!==F)return F}return lt(g.length,D.length)}(n.mapValue,e.mapValue);default:throw _()}}function RO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return lt(n,e);const t=Yc(n),r=Yc(e),o=lt(t.seconds,r.seconds);return 0!==o?o:lt(t.nanos,r.nanos)}function rm(n){return nx(n)}function nx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Yc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cu(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=nx(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of o)l?l=!1:u+=",",u+=`${g}:${nx(r.fields[g])}`;return u+"}"}(n.mapValue):_();var e}function bh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rx(n){return!!n&&"integerValue"in n}function Z0(n){return!!n&&"arrayValue"in n}function OO(n){return!!n&&"nullValue"in n}function PO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function YC(n){return!!n&&"mapValue"in n}function Y0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Y0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Y0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!YC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Y0(t)}setAll(e){let t=zn.emptyPath(),r={},o=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=g.popLast()}l?r[g.lastSegment()]=Y0(l):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());YC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];YC(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Zc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Br(Y0(this.value))}}function VO(n){const e=[];return Zc(n.fields,(t,r)=>{const o=new zn([t]);if(YC(r)){const u=VO(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Ri(e)}class mn{constructor(e,t,r,o,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,qe.min(),qe.min(),qe.min(),Br.empty(),0)}static newFoundDocument(e,t,r,o){return new mn(e,1,t,qe.min(),r,o,0)}static newNoDocument(e,t){return new mn(e,2,t,qe.min(),qe.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,qe.min(),qe.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class el{constructor(e,t){this.position=e,this.inclusive=t}}function UO(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?ke.comparator(ke.fromName(l.referenceValue),t.key):Xc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function BO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oa(n.position[t],e.position[t]))return!1;return!0}class im{constructor(e,t="asc"){this.field=e,this.dir=t}}function bV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $O{}class kt extends $O{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new TV(e,t,r):"array-contains"===t?new MV(e,r):"in"===t?new WO(e,r):"not-in"===t?new xV(e,r):"array-contains-any"===t?new NV(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new SV(e,r):new AV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xc(t,this.value)):null!==t&&Jc(this.value)===Jc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qt extends $O{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Qt(e,t)}matches(e){return sm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sm(n){return"and"===n.op}function sx(n){return function jO(n){for(const e of n.filters)if(e instanceof Qt)return!1;return!0}(n)&&sm(n)}function ox(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+rm(n.value);if(sx(n))return n.filters.map(e=>ox(e)).join(",");{const e=n.filters.map(t=>ox(t)).join(",");return`${n.op}(${e})`}}function HO(n,e){return n instanceof kt?(t=n,(r=e)instanceof kt&&t.op===r.op&&t.field.isEqual(r.field)&&oa(t.value,r.value)):n instanceof Qt?function(t,r){return r instanceof Qt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&HO(u,r.filters[l]),!0)}(n,e):void _();var t,r}function GO(n){return n instanceof kt?`${(e=n).field.canonicalString()} ${e.op} ${rm(e.value)}`:n instanceof Qt?function(e){return e.op.toString()+" {"+e.getFilters().map(GO).join(" ,")+"}"}(n):"Filter";var e}class TV extends kt{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class SV extends kt{constructor(e,t){super(e,"in",t),this.keys=qO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AV extends kt{constructor(e,t){super(e,"not-in",t),this.keys=qO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ke.fromName(r.referenceValue))}class MV extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z0(t)&&K0(t.arrayValue,this.value)}}class WO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&K0(this.value.arrayValue,t)}}class xV extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(K0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!K0(this.value.arrayValue,t)}}class NV extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>K0(this.value.arrayValue,r))}}class RV{constructor(e,t=null,r=[],o=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function ax(n,e=null,t=[],r=[],o=null,u=null,l=null){return new RV(n,e,t,r,o,u,l)}function Th(n){const e=S(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ox(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),G0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rm(r)).join(",")),e.dt=t}return e.dt}function Q0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BO(n.startAt,e.startAt)&&BO(n.endAt,e.endAt)}function QC(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class lu{constructor(e,t=null,r=[],o=[],u=null,l="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=v,this.wt=null,this._t=null}}function om(n){return new lu(n)}function QO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ux(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function XC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function cx(n){return null!==n.collectionGroup}function Sh(n){const e=S(n);if(null===e.wt){e.wt=[];const t=XC(e),r=ux(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new im(t)),e.wt.push(new im(zn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new im(zn.keyField(),u))}}}return e.wt}function mi(n){const e=S(n);if(!e._t)if("F"===e.limitType)e._t=ax(e.path,e.collectionGroup,Sh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Sh(e))t.push(new im(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new el(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new el(e.startAt.position,e.startAt.inclusive):null;e._t=ax(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function lx(n,e){e.getFirstInequalityField(),XC(n);const t=n.filters.concat([e]);return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eb(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J0(n,e){return Q0(mi(n),mi(e))&&n.limitType===e.limitType}function JO(n){return`${Th(mi(n))}|lt:${n.limitType}`}function dx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>GO(r)).join(", ")}]`),G0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rm(r)).join(",")),`Target(${t})`}(mi(n))}; limitType=${n.limitType})`}function X0(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Sh(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const g=UO(o,u,l);return o.inclusive?g<=0:g<0}(t.startAt,Sh(t),r)||t.endAt&&!function(o,u,l){const g=UO(o,u,l);return o.inclusive?g>=0:g>0}(t.endAt,Sh(t),r)));var t,r}function eP(n){return(e,t)=>{let r=!1;for(const o of Sh(n)){const u=OV(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function OV(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):function(o,u,l){const g=u.data.field(o),v=l.data.field(o);return null!==g&&null!==v?Xc(g,v):_()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _()}}class du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return MO(this.inner)}size(){return this.innerSize}}const PV=new cn(ke.comparator);function Oi(){return PV}const tP=new cn(ke.comparator);function ew(...n){let e=tP;for(const t of n)e=e.insert(t.key,t);return e}function nP(n){let e=tP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function aa(){return tw()}function rP(){return tw()}function tw(){return new du(n=>n.toString(),(n,e)=>n.isEqual(e))}const kV=new cn(ke.comparator),FV=new gn(ke.comparator);function Et(...n){let e=FV;for(const t of n)e=e.add(t);return e}const LV=new gn(lt);function iP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q0(e)?"-0":e}}function sP(n){return{integerValue:""+n}}function oP(n,e){return function EO(n){return"number"==typeof n&&Number.isInteger(n)&&!q0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?sP(e):iP(n,e)}class tb{constructor(){this._=void 0}}function VV(n,e,t){return n instanceof am?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&qC(o)&&(o=WC(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Ah?uP(n,e):n instanceof Mh?cP(n,e):function(r,o){const u=aP(r,o),l=lP(u)+lP(r.gt);return rx(u)&&rx(r.gt)?sP(l):iP(r.serializer,l)}(n,e)}function UV(n,e,t){return n instanceof Ah?uP(n,e):n instanceof Mh?cP(n,e):t}function aP(n,e){return n instanceof um?rx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class am extends tb{}class Ah extends tb{constructor(e){super(),this.elements=e}}function uP(n,e){const t=dP(e);for(const r of n.elements)t.some(o=>oa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Mh extends tb{constructor(e){super(),this.elements=e}}function cP(n,e){let t=dP(e);for(const r of n.elements)t=t.filter(o=>!oa(o,r));return{arrayValue:{values:t}}}class um extends tb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lP(n){return Pn(n.integerValue||n.doubleValue)}function dP(n){return Z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $V{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rb{}function hP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lm(n.key,Dn.none()):new cm(n.key,n.data,Dn.none());{const t=n.data,r=Br.empty();let o=new gn(zn.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new hu(n.key,r,new Ri(o.toArray()),Dn.none())}}function jV(n,e,t){n instanceof cm?function(r,o,u){const l=r.value.clone(),g=gP(r.fieldTransforms,o,u.transformResults);l.setAll(g),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof hu?function(r,o,u){if(!nb(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=gP(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(pP(r)),g.setAll(l),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rw(n,e,t,r){return n instanceof cm?function(o,u,l,g){if(!nb(o.precondition,u))return l;const v=o.value.clone(),D=mP(o.fieldTransforms,g,u);return v.setAll(D),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof hu?function(o,u,l,g){if(!nb(o.precondition,u))return l;const v=mP(o.fieldTransforms,g,u),D=u.data;return D.setAll(pP(o)),D.setAll(v),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,nb(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function HV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=aP(r.transform,o||null);null!=u&&(null===t&&(t=Br.empty()),t.set(r.field,u))}return t||null}function fP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tm(t,r,(o,u)=>function BV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ah&&r instanceof Ah||t instanceof Mh&&r instanceof Mh?tm(t.elements,r.elements,oa):t instanceof um&&r instanceof um?oa(t.gt,r.gt):t instanceof am&&r instanceof am);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class cm extends rb{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hu extends rb{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gP(n,e,t){const r=new Map;I(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,g=e.data.field(u.field);r.set(u.field,UV(l,g,t[o]))}return r}function mP(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,VV(u,l,e))}return r}class lm extends rb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends rb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class px{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&jV(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rP();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(o.key)?null:g;const v=hP(l,g);null!==v&&r.set(o.key,v),l.isValidDocument()||l.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&tm(this.mutations,e.mutations,(t,r)=>fP(t,r))&&tm(this.baseMutations,e.baseMutations,(t,r)=>fP(t,r))}}class gx{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){I(e.mutations.length===r.length);let o=kV;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new gx(e,t,r,o)}}class mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class GV{constructor(e,t){this.count=e,this.unchangedNames=t}}var rr,Ut;function vP(n){if(void 0===n)return d("GRPC error has no .code"),A.UNKNOWN;switch(n){case rr.OK:return A.OK;case rr.CANCELLED:return A.CANCELLED;case rr.UNKNOWN:return A.UNKNOWN;case rr.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case rr.INTERNAL:return A.INTERNAL;case rr.UNAVAILABLE:return A.UNAVAILABLE;case rr.UNAUTHENTICATED:return A.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case rr.NOT_FOUND:return A.NOT_FOUND;case rr.ALREADY_EXISTS:return A.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return A.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case rr.ABORTED:return A.ABORTED;case rr.OUT_OF_RANGE:return A.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return A.UNIMPLEMENTED;case rr.DATA_LOSS:return A.DATA_LOSS;default:return _()}}(Ut=rr||(rr={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class yx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ib}static getOrCreateInstance(){return null===ib&&(ib=new yx),ib}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ib=null;const qV=new wh([4294967295,4294967295],0);function wP(n){const e=function _P(){return new TextEncoder}().encode(n),t=new gO;return t.update(e),new Uint8Array(t.digest())}function EP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wh([t,r],0),new wh([o,u],0)]}class vx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new iw(`Invalid padding: ${t}`);if(r<0)throw new iw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new iw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new iw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wh.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(wh.fromNumber(r)));return 1===o.compare(qV)&&(o=new wh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wP(e),[r,o]=EP(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new vx(u,o,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=wP(e),[r,o]=EP(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class iw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sw{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,ow.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sw(qe.min(),o,new cn(lt),Oi(),Et())}}class ow{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ow(r,t,Et(),Et(),Et())}}class sb{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class IP{constructor(e,t){this.targetId=e,this.Vt=t}}class DP{constructor(e,t,r=hr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class CP{constructor(){this.St=0,this.Dt=TP(),this.Ct=hr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Et(),t=Et(),r=Et();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:_()}}),new ow(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=TP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class WV{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oi(),this.zt=bP(),this.Wt=new cn(lt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:_()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(QC(l))if(0===o){const g=new ke(l.path);this.Yt(r,g,mn.newNoDocument(g,qe.min()))}else I(1===o);else{const g=this.ie(r);if(g!==o){const v=this.re(e,g);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=yx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,C,M){var F,j,ie,Ee,De,$e;const We={localCacheCount:C,existenceFilterCount:M.count},Xe=M.unchangedNames;return Xe&&(We.bloomFilter={applied:0===D,hashCount:null!==(F=Xe?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(Ee=null===(ie=null===(j=Xe?.bits)||void 0===j?void 0:j.bitmap)||void 0===ie?void 0:ie.length)&&void 0!==Ee?Ee:0,padding:null!==($e=null===(De=Xe?.bits)||void 0===De?void 0:De.padding)&&void 0!==$e?$e:0}),We}(v,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let v,D;try{v=cu(u).toUint8Array()}catch(C){if(C instanceof NO)return h("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{D=new vx(v,l,g)}catch(C){return h(C instanceof iw?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===D.It?1:o!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&QC(g.target)){const v=new ke(g.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,mn.newNoDocument(v,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Et();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(v=>{const D=this.se(v);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new sw(e,t,this.Wt,this.jt,r);return this.jt=Oi(),this.zt=bP(),this.Wt=new cn(lt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new CP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new gn(lt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||c("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new CP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function bP(){return new cn(ke.comparator)}function TP(){return new cn(ke.comparator)}const KV={asc:"ASCENDING",desc:"DESCENDING"},ZV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class QV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _x(n,e){return n.useProto3Json||G0(e)?e:{value:e}}function dm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JV(n,e){return dm(n,e.toTimestamp())}function Gn(n){return I(!!n),qe.fromTimestamp(function(e){const t=Yc(e);return new In(t.seconds,t.nanos)}(n))}function wx(n,e){return(t=n,new Vt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AP(n){const e=Vt.fromString(n);return I(LP(e)),e}function aw(n,e){return wx(n.databaseId,e.path)}function ua(n,e){const t=AP(e);if(t.get(1)!==n.databaseId.projectId)throw new N(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new N(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(xP(t))}function Ex(n,e){return wx(n.databaseId,e)}function uw(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xP(n){return I(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NP(n,e,t){return{name:aw(n,e),fields:t.value.mapValue.fields}}function OP(n,e){return{documents:[Ex(n,e.path)]}}function Dx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ex(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ex(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0!==v.length)return FP(Qt.create(v,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(D=>{return{field:tl((C=D).field),direction:r2(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=_x(n,e.limit);var g,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function PP(n){let e=function MP(n){const e=AP(n);return 4===e.length?Vt.emptyPath():xP(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){I(1===r);const C=t.from[0];C.allDescendants?o=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const M=kP(C);return M instanceof Qt&&sx(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new im(hm((M=C).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let g=null;t.limit&&(g=function(C){let M;return M="object"==typeof C?C.value:C,G0(M)?null:M}(t.limit));let v=null;var C;t.startAt&&(v=new el((C=t.startAt).values||[],!!C.before));let D=null;return t.endAt&&(D=function(C){return new el(C.values||[],!C.before)}(t.endAt)),function YO(n,e,t,r,o,u,l,g){return new lu(n,e,t,r,o,u,l,g)}(e,o,l,u,g,"F",v,D)}function kP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hm(e.unaryFilter.field);return kt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=hm(e.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hm(e.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=hm(e.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return _()}}(n):void 0!==n.fieldFilter?kt.create(hm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Qt.create(e.compositeFilter.filters.map(t=>kP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _()}}(e.compositeFilter.op))}(n):_();var e}function r2(n){return KV[n]}function i2(n){return ZV[n]}function s2(n){return YV[n]}function tl(n){return{fieldPath:n.canonicalString()}}function hm(n){return zn.fromServerFormat(n.fieldPath)}function FP(n){return n instanceof kt?function(e){if("=="===e.op){if(PO(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NAN"}};if(OO(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PO(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NAN"}};if(OO(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(e.field),op:i2(e.op),value:e.value}}}(n):n instanceof Qt?function(e){const t=e.getFilters().map(r=>FP(r));return 1===t.length?t[0]:{compositeFilter:{op:s2(e.op),filters:t}}}(n):_()}function o2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fu{constructor(e,t,r,o,u=qe.min(),l=qe.min(),g=hr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VP{constructor(e){this.fe=e}}function Cx(n){const e=PP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eb(e,e.limit,"L"):e}class Oh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pn(e.integerValue));else if("doubleValue"in e){const r=Pn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),q0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(cu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?kO(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):_()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Oh.Ve=new Oh;class g2{constructor(){this.rn=new xx}addToCollectionParentIndex(e,t){return this.rn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(us.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class xx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new gn(Vt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new gn(Vt.comparator)).toArray()}}new Uint8Array(0);class ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class kh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kh(0)}static Mn(){return new kh(-1)}}class E2{constructor(){this.changes=new du(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&rw(r.mutation,o,Ri.empty(),In.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Et()){const o=aa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=ew();return u.forEach((g,v)=>{l=l.insert(g,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Et()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,o){let u=Oi();const l=tw(),g=tw();return t.forEach((v,D)=>{const C=r.get(D.key);o.has(D.key)&&(void 0===C||C.mutation instanceof hu)?u=u.insert(D.key,D):void 0!==C?(l.set(D.key,C.mutation.getFieldMask()),rw(C.mutation,D,C.mutation.getFieldMask(),In.now())):l.set(D.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((D,C)=>l.set(D,C)),t.forEach((D,C)=>{var M;return g.set(D,new C2(C,null!==(M=l.get(D))&&void 0!==M?M:null))}),g))}recalculateAndSaveOverlays(e,t){const r=tw();let o=new cn((l,g)=>l-g),u=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(v=>{const D=t.get(v);if(null===D)return;let C=r.get(v)||Ri.empty();C=g.applyToLocalView(D,C),r.set(v,C);const M=(o.get(g.batchId)||Et()).add(v);o=o.insert(g.batchId,M)})}).next(()=>{const l=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),D=v.key,C=v.value,M=rP();C.forEach(F=>{if(!u.has(F)){const j=hP(t.get(F),r.get(F));null!==j&&M.set(F,j),u=u.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,D,M))}return q.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):q.resolve(aa());let g=-1,v=u;return l.next(D=>q.forEach(D,(C,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),u.get(C)?q.resolve():this.remoteDocumentCache.getEntry(e,C).next(F=>{v=v.insert(C,F)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,v,D,Et())).next(C=>({batchId:g,changes:nP(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(r=>{let o=ew();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=ew();return this.indexManager.getCollectionParents(e,o).next(l=>q.forEach(l,g=>{const v=(D=t,C=g.child(o),new lu(C,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,C;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(D=>{D.forEach((C,M)=>{u=u.insert(C,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((g,v)=>{const D=v.getKey();null===u.get(D)&&(u=u.insert(D,mn.newInvalidDocument(D)))});let l=ew();return u.forEach((g,v)=>{const D=o.get(g);void 0!==D&&rw(D.mutation,v,Ri.empty(),In.now()),X0(t,v)&&(l=l.insert(g,v))}),l})}}class b2{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return q.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Gn(r.createTime)}),q.resolve()}getNamedQuery(e,t){return q.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Cx(r.bundledQuery),readTime:Gn(r.readTime)}),q.resolve();var r}}class T2{constructor(){this.overlays=new cn(ke.comparator),this.ls=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=aa();return q.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const o=aa(),u=t.length+1,l=new ke(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const v=g.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new cn((D,C)=>D-C);const l=this.overlays.getIterator();for(;l.hasNext();){const D=l.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let C=u.get(D.largestBatchId);null===C&&(C=aa(),u=u.insert(D.largestBatchId,C)),C.set(D.getKey(),D)}}const g=aa(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,C)=>g.set(D,C)),!(g.size()>=o)););return q.resolve(g)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mx(t,r));let u=this.ls.get(t);void 0===u&&(u=Et(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class Nx{constructor(){this.fs=new gn(Sr.ds),this.ws=new gn(Sr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Sr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Sr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ke(new Vt([])),r=new Sr(t,e),o=new Sr(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ke(new Vt([])),r=new Sr(t,e),o=new Sr(t,e+1);let u=Et();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Sr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Sr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ke.comparator(e.key,t.key)||lt(e.As,t.As)}static _s(e,t){return lt(e.As,t.As)||ke.comparator(e.key,t.key)}}class S2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new gn(Sr.ds)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new px(u,t,r,o);this.mutationQueue.push(l);for(const g of o)this.Rs=this.Rs.add(new Sr(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return q.resolve(l)}lookupMutationBatch(e,t){return q.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sr(t,0),o=new Sr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const g=this.Ps(l.As);u.push(g)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(lt);return t.forEach(o=>{const u=new Sr(o,0),l=new Sr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ke.isDocumentKey(u)||(u=u.child(""));const l=new Sr(new ke(u),0);let g=new gn(lt);return this.Rs.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(g=g.add(v.As)),!0)},l),q.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){I(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return q.forEach(t.mutations,o=>{const u=new Sr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Sr(t,0),o=this.Rs.firstAfterOrEqual(r);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return q.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class A2{constructor(e){this.Ds=e,this.docs=new cn(ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Oi();const l=t.path,g=new ke(l.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:D,value:{document:C}}=v.getNext();if(!l.isPrefixOf(D.path))break;D.path.length>l.length+1||JM(vO(C),r)<=0||(o.has(C.key)||X0(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,t,r,o){_()}Cs(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M2(this)}getSize(e){return q.resolve(this.size)}}class M2 extends E2{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class x2{constructor(e){this.persistence=e,this.xs=new du(t=>Th(t),Q0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Nx,this.targetCount=0,this.Ms=kh.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),q.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new kh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Fn(t),q.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),q.waitFor(u).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.ks.containsKey(t))}}class Rx{constructor(e,t){this.$s={},this.overlays={},this.Os=new cs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x2(this),this.indexManager=new g2,this.remoteDocumentCache=new A2(r=>this.referenceDelegate.Ls(r)),this.serializer=new VP(t),this.qs=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new S2(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){c("MemoryPersistence","Starting transaction:",e);const o=new N2(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class N2 extends JL{constructor(e){super(),this.currentSequenceNumber=e}}class pb{constructor(e){this.persistence=e,this.Qs=new Nx,this.js=null}static zs(e){return new pb(e)}get Ws(){if(this.js)return this.js;throw _()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),q.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const o=ke.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,qe.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return q.or([()=>q.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Fx{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Et(),o=Et();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fx(e,t.fromCache,r,o)}}class hk{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(QO(t))return q.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=eb(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Et(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const D=this.ji(t,g);return this.zi(t,D,l,v.readTime)?this.Ki(e,eb(t,null,"F")):this.Wi(e,D,t,v)}))})))}Gi(e,t,r,o){return QO(t)||o.isEqual(qe.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(s()<=Ts.in.DEBUG&&c("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),dx(t)),this.Wi(e,l,t,function yO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=qe.fromTimestamp(1e9===r?new In(t+1,0):new In(t,r));return new us(o,ke.empty(),e)}(o,-1)))})}ji(e,t){let r=new gn(eP(e));return t.forEach((o,u)=>{X0(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return s()<=Ts.in.DEBUG&&c("QueryEngine","Using full collection scan to execute query:",dx(t)),this.Ui.getDocumentsMatchingQuery(e,t,us.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class O2{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new cn(lt),this.Yi=new du(u=>Th(u),Q0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function pk(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,re.Z)(function*(n,e){const t=S(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let v=Et();for(const D of o){l.push(D.batchId);for(const C of D.mutations)v=v.add(C.key)}for(const D of u){g.push(D.batchId);for(const C of D.mutations)v=v.add(C.key)}return t.localDocuments.getDocuments(r,v).next(D=>({er:D,removedBatchIds:l,addedBatchIds:g}))})})}),Lx.apply(this,arguments)}function gk(n){const e=S(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function F2(n,e){const t=S(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mm(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,re.Z)(function*(n,e,t){const r=S(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Kc(l))throw l;c("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),Vx.apply(this,arguments)}function yb(n,e,t){const r=S(n);let o=qe.min(),u=Et();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,v,D){const C=S(g),M=C.Yi.get(D);return void 0!==M?q.resolve(C.Ji.get(M)):C.Bs.getTargetData(v,D)}(r,l,mi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(v=>{u=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:qe.min(),t?u:Et())).next(g=>(function _k(n,e,t){let r=n.Xi.get(e)||qe.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function XO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class Hx{constructor(){this.activeTargetIds=function hx(){return LV}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ik{constructor(){this.Hr=new Hx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Hx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U2{Yr(e){}shutdown(){}}class Dk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wb=null;function Gx(){return null===wb?wb=268435456+Math.round(2147483648*Math.random()):wb++,"0x"+wb.toString(16)}const B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const si="WebChannelConnection";class j2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=Gx(),g=this.To(e,t);c("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const v={};return this.Eo(v,o,u),this.Ao(e,g,v,r).then(D=>(c("RestConnection",`Received RPC '${e}' ${l}: `,D),D),D=>{throw h("RestConnection",`RPC '${e}' ${l} failed with error: `,D,"url: ",g,"request:",r),D})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${B2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=Gx();return new Promise((l,g)=>{const v=new pO;v.setWithCredentials(!0),v.listenOnce(hO.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case UC.NO_ERROR:const C=v.getResponseJson();c(si,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),l(C);break;case UC.TIMEOUT:c(si,`RPC '${e}' ${u} timed out`),g(new N(A.DEADLINE_EXCEEDED,"Request time out"));break;case UC.HTTP_ERROR:const M=v.getStatus();if(c(si,`RPC '${e}' ${u} failed with status:`,M,"response text:",v.getResponseText()),M>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const j=F?.error;if(j&&j.status&&j.message){const ie=function(Ee){const De=Ee.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(De)>=0?De:A.UNKNOWN}(j.status);g(new N(ie,j.message))}else g(new N(A.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new N(A.UNAVAILABLE,"Connection failed."));break;default:_()}}finally{c(si,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(o);c(si,`RPC '${e}' ${u} sending request:`,o),v.send(t,"POST",D,r,15)})}Ro(e,t,r){const o=Gx(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WM(),g=dO(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(v.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(v.xmlHttpFactory=new ZM({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const C=u.join("");c(si,`Creating RPC '${e}' stream ${o}: ${C}`,v);const M=l.createWebChannel(C,v);let F=!1,j=!1;const ie=new $2({ro:De=>{j?c(si,`Not sending because RPC '${e}' stream ${o} is closed:`,De):(F||(c(si,`Opening RPC '${e}' stream ${o} transport.`),M.open(),F=!0),c(si,`RPC '${e}' stream ${o} sending:`,De),M.send(De))},oo:()=>M.close()}),Ee=(De,$e,We)=>{De.listen($e,Xe=>{try{We(Xe)}catch(pt){setTimeout(()=>{throw pt},0)}})};return Ee(M,$0.EventType.OPEN,()=>{j||c(si,`RPC '${e}' stream ${o} transport opened.`)}),Ee(M,$0.EventType.CLOSE,()=>{j||(j=!0,c(si,`RPC '${e}' stream ${o} transport closed`),ie.wo())}),Ee(M,$0.EventType.ERROR,De=>{j||(j=!0,h(si,`RPC '${e}' stream ${o} transport errored:`,De),ie.wo(new N(A.UNAVAILABLE,"The operation could not be completed")))}),Ee(M,$0.EventType.MESSAGE,De=>{var $e;if(!j){const We=De.data[0];I(!!We);const pt=We.error||(null===($e=We[0])||void 0===$e?void 0:$e.error);if(pt){c(si,`RPC '${e}' stream ${o} received error:`,pt);const Rt=pt.status;let jt=function(Hh){const $L=rr[Hh];if(void 0!==$L)return vP($L)}(Rt),Pi=pt.message;void 0===jt&&(jt=A.INTERNAL,Pi="Unknown error status: "+Rt+" with message "+pt.message),j=!0,ie.wo(new N(jt,Pi)),M.close()}else c(si,`RPC '${e}' stream ${o} received:`,We),ie._o(We)}}),Ee(g,fO.STAT_EVENT,De=>{De.stat===KM.PROXY?c(si,`RPC '${e}' stream ${o} detected buffering proxy`):De.stat===KM.NOPROXY&&c(si,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ie.fo()},0),ie}}function Eb(){return typeof document<"u"?document:null}function vw(n){return new QV(n,!0)}class qx{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&c("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bk{constructor(e,t,r,o,u,l,g,v){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,re.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===A.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new N(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,re.Z)(function*(){e.state=0,e.start()}))}tu(e){return c("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H2 extends bk{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function e2(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:_(),o=e.targetChange.targetIds||[],u=function(v,D){return v.useProto3Json?(I(void 0===D||"string"==typeof D),hr.fromBase64String(D||"")):(I(void 0===D||D instanceof Uint8Array),hr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(v){const D=void 0===v.code?A.UNKNOWN:vP(v.code);return new N(D,v.message||"")}(l);t=new DP(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=ua(n,r.document.name),u=Gn(r.document.updateTime),l=r.document.createTime?Gn(r.document.createTime):qe.min(),g=new Br({mapValue:{fields:r.document.fields}}),v=mn.newFoundDocument(o,u,l,g);t=new sb(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,o=ua(n,r.document),u=r.readTime?Gn(r.readTime):qe.min(),l=mn.newNoDocument(o,u);t=new sb([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=ua(n,r.document);t=new sb([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return _();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new GV(o,u);t=new IP(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Gn(u.readTime):qe.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=uw(this.serializer),t.addTarget=function(o,u){let l;const g=u.target;if(l=QC(g)?{documents:OP(o,g)}:{query:Dx(o,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=SP(o,u.resumeToken);const v=_x(o,u.expectedCount);null!==v&&(l.expectedCount=v)}else if(u.snapshotVersion.compareTo(qe.min())>0){l.readTime=dm(o,u.snapshotVersion.toTimestamp());const v=_x(o,u.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function n2(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=uw(this.serializer),t.removeTarget=e,this.Wo(t)}}class z2 extends bk{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(I(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function t2(n,e){return n&&n.length>0?(I(void 0!==e),n.map(t=>function(r,o){let u=Gn(r.updateTime?r.updateTime:o);return u.isEqual(qe.min())&&(u=Gn(o)),new $V(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.cu(r,t)}return I(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=uw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function cw(n,e){let t;if(e instanceof cm)t={update:NP(n,e.key,e.value)};else if(e instanceof lm)t={delete:aw(n,e.key)};else if(e instanceof hu)t={update:NP(n,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof fx))return _();t={verify:aw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof am)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ah)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Mh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof um)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw _()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:JV(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:_()),t;var o}(this.serializer,r))};this.Wo(t)}}class G2 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new N(A.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(A.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new N(A.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class W2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(d(t),this.mu=!1):c("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class K2{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,re.Z)(function*(){var v;sl(l)&&(c("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,re.Z)(function*(D){const C=S(D);C.vu.add(4),yield ym(C),C.bu.set("Unknown"),C.vu.delete(4),yield _w(C)}),function(D){return v.apply(this,arguments)})(l))}))}),this.bu=new W2(r,o)}}function _w(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,re.Z)(function*(n){if(sl(n))for(const e of n.Ru)yield e(!0)}),Kx.apply(this,arguments)}function ym(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,re.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Zx.apply(this,arguments)}function Ib(n,e){const t=S(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Jx(t)?Qx(t):_m(t).Ko()&&Yx(t,e))}function ww(n,e){const t=S(n),r=_m(t);t.Au.delete(e),r.Ko()&&Tk(t,e),0===t.Au.size&&(r.Ko()?r.jo():sl(t)&&t.bu.set("Unknown"))}function Yx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_m(n).su(e)}function Tk(n,e){n.Vu.qt(e),_m(n).iu(e)}function Qx(n){n.Vu=new WV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),_m(n).start(),n.bu.gu()}function Jx(n){return sl(n)&&!_m(n).Uo()&&n.Au.size>0}function sl(n){return 0===S(n).vu.size}function Sk(n){n.Vu=void 0}function Z2(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,re.Z)(function*(n){n.Au.forEach((e,t)=>{Yx(n,e)})}),Xx.apply(this,arguments)}function Y2(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,re.Z)(function*(n,e){Sk(n),Jx(n)?(n.bu.Iu(e),Qx(n)):n.bu.set("Unknown")}),eN.apply(this,arguments)}function Q2(n,e,t){return tN.apply(this,arguments)}function tN(){return tN=(0,re.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof DP&&2===e.state&&e.cause)try{yield(r=(0,re.Z)(function*(o,u){const l=u.cause;for(const g of u.targetIds)o.Au.has(g)&&(yield o.remoteSyncer.rejectListen(g,l),o.Au.delete(g),o.Vu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){c("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Db(n,r)}else if(e instanceof sb?n.Vu.Ht(e):e instanceof IP?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(qe.min()))try{const r=yield gk(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const D=o.Au.get(v);D&&o.Au.set(v,D.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,v)=>{const D=o.Au.get(g);if(!D)return;o.Au.set(g,D.withResumeToken(hr.EMPTY_BYTE_STRING,D.snapshotVersion)),Tk(o,g);const C=new fu(D.target,g,v,D.sequenceNumber);Yx(o,C)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){c("RemoteStore","Failed to raise snapshot:",r),yield Db(n,r)}var r}),tN.apply(this,arguments)}function Db(n,e,t){return nN.apply(this,arguments)}function nN(){return nN=(0,re.Z)(function*(n,e,t){if(!Kc(e))throw e;n.vu.add(1),yield ym(n),n.bu.set("Offline"),t||(t=()=>gk(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){c("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield _w(n)}))}),nN.apply(this,arguments)}function Ak(n,e){return e().catch(t=>Db(n,t,e))}function vm(n){return rN.apply(this,arguments)}function rN(){return rN=(0,re.Z)(function*(n){const e=S(n),t=ol(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;J2(e);)try{const o=yield F2(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,X2(e,o)}catch(o){yield Db(e,o)}Mk(e)&&xk(e)}),rN.apply(this,arguments)}function J2(n){return sl(n)&&n.Eu.length<10}function X2(n,e){n.Eu.push(e);const t=ol(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Mk(n){return sl(n)&&!ol(n).Uo()&&n.Eu.length>0}function xk(n){ol(n).start()}function eU(n){return iN.apply(this,arguments)}function iN(){return iN=(0,re.Z)(function*(n){ol(n).hu()}),iN.apply(this,arguments)}function tU(n){return sN.apply(this,arguments)}function sN(){return sN=(0,re.Z)(function*(n){const e=ol(n);for(const t of n.Eu)e.uu(t.mutations)}),sN.apply(this,arguments)}function nU(n,e,t){return oN.apply(this,arguments)}function oN(){return oN=(0,re.Z)(function*(n,e,t){const r=n.Eu.shift(),o=gx.from(r,e,t);yield Ak(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield vm(n)}),oN.apply(this,arguments)}function rU(n,e){return aN.apply(this,arguments)}function aN(){return aN=(0,re.Z)(function*(n,e){var t;e&&ol(n).ou&&(yield(t=(0,re.Z)(function*(r,o){if(function yP(n){switch(n){default:return _();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}(u=o.code)&&u!==A.ABORTED){const l=r.Eu.shift();ol(r).Qo(),yield Ak(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield vm(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Mk(n)&&xk(n)}),aN.apply(this,arguments)}function Nk(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,re.Z)(function*(n,e){const t=S(n);t.asyncQueue.verifyOperationInProgress(),c("RemoteStore","RemoteStore received new credentials");const r=sl(t);t.vu.add(3),yield ym(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield _w(t)}),uN.apply(this,arguments)}function lN(){return lN=(0,re.Z)(function*(n,e){const t=S(n);e?(t.vu.delete(2),yield _w(t)):e||(t.vu.add(2),yield ym(t),t.bu.set("Unknown"))}),lN.apply(this,arguments)}function _m(n){return n.Su||(n.Su=function(e,t,r){const o=S(e);return o.fu(),new H2(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:Z2.bind(null,n),ao:Y2.bind(null,n),nu:Q2.bind(null,n)}),n.Ru.push(function(){var e=(0,re.Z)(function*(t){t?(n.Su.Qo(),Jx(n)?Qx(n):n.bu.set("Unknown")):(yield n.Su.stop(),Sk(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ol(n){return n.Du||(n.Du=function(e,t,r){const o=S(e);return o.fu(),new z2(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:eU.bind(null,n),ao:rU.bind(null,n),au:tU.bind(null,n),cu:nU.bind(null,n)}),n.Ru.push(function(){var e=(0,re.Z)(function*(t){t?(n.Du.Qo(),yield vm(n)):(yield n.Du.stop(),n.Eu.length>0&&(c("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class dN{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,g=new dN(e,t,l,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(n,e){if(d("AsyncQueue",`${e}: ${n}`),Kc(n))return new N(A.UNAVAILABLE,`${e}: ${n}`);throw n}class Em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=ew(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new Em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Rk{constructor(){this.Cu=new cn(ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):_():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Im{constructor(e,t,r,o,u,l,g,v,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new Im(e,t,Em.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class iU{constructor(){this.Nu=void 0,this.listeners=[]}}class sU{constructor(){this.queries=new du(e=>JO(e),J0),this.onlineState="Unknown",this.ku=new Set}}function fN(){return fN=(0,re.Z)(function*(n,e){const t=S(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new iU),o)try{u.Nu=yield t.onListen(r)}catch(l){const g=wm(l,`Initialization of query '${dx(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&mN(t)}),fN.apply(this,arguments)}function gN(){return gN=(0,re.Z)(function*(n,e){const t=S(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),gN.apply(this,arguments)}function oU(n,e){const t=S(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const g of l.listeners)g.$u(o)&&(r=!0);l.Nu=o}}r&&mN(t)}function aU(n,e,t){const r=S(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function mN(n){n.ku.forEach(e=>{e.next()})}class yN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Im(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Im.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kk{constructor(e){this.key=e}}class Fk{constructor(e){this.key=e}}class Lk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Et(),this.mutatedKeys=Et(),this.tc=eP(e),this.ec=new Em(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Rk,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,g=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((C,M)=>{const F=o.get(C),j=X0(this.query,M)?M:null,ie=!!F&&this.mutatedKeys.has(F.key),Ee=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let De=!1;F&&j?F.data.isEqual(j.data)?ie!==Ee&&(r.track({type:3,doc:j}),De=!0):this.rc(F,j)||(r.track({type:2,doc:j}),De=!0,(v&&this.tc(j,v)>0||D&&this.tc(j,D)<0)&&(g=!0)):!F&&j?(r.track({type:0,doc:j}),De=!0):F&&!j&&(r.track({type:1,doc:F}),De=!0,(v||D)&&(g=!0)),De&&(j?(l=l.add(j),u=Ee?u.add(C):u.delete(C)):(l=l.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((D,C)=>function(M,F){const j=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _()}};return j(M)-j(F)}(D.type,C.type)||this.tc(D.doc,C.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,v=g!==this.Xu;return this.Xu=g,0!==u.length||v?{snapshot:new Im(this.query,e.ec,o,u,e.mutatedKeys,0===g,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Rk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Et(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Fk(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new kk(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Et();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Im.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class lU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dU{constructor(e){this.key=e,this.fc=!1}}class hU{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new du(g=>JO(g),J0),this._c=new Map,this.mc=new Set,this.gc=new cn(ke.comparator),this.yc=new Map,this.Ic=new Nx,this.Tc={},this.Ec=new Map,this.Ac=kh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fU(n,e){return vN.apply(this,arguments)}function vN(){return vN=(0,re.Z)(function*(n,e){const t=function $N(n){const e=S(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mU.bind(null,e),e.dc.nu=oU.bind(null,e.eventManager),e.dc.Pc=aU.bind(null,e.eventManager),e}(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield function gm(n,e){const t=S(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,q.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new fu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,mi(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield function _N(n,e,t,r,o){return wN.apply(this,arguments)}(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&Ib(t.remoteStore,l)}return o}),vN.apply(this,arguments)}function wN(){return wN=(0,re.Z)(function*(n,e,t,r,o){n.Rc=(M,F,j)=>{return(ie=(0,re.Z)(function*(Ee,De,$e,We){let Xe=De.view.sc($e);Xe.zi&&(Xe=yield yb(Ee.localStore,De.query,!1).then(({documents:jt})=>De.view.sc(jt,Xe)));const pt=We&&We.targetChanges.get(De.targetId),Rt=De.view.applyChanges(Xe,Ee.isPrimaryClient,pt);return xN(Ee,De.targetId,Rt.cc),Rt.snapshot}),function(Ee,De,$e,We){return ie.apply(this,arguments)})(n,M,F,j);var ie};const u=yield yb(n.localStore,e,!0),l=new Lk(e,u.ir),g=l.sc(u.documents),v=ow.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),D=l.applyChanges(g,n.isPrimaryClient,v);xN(n,t,D.cc);const C=new lU(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),wN.apply(this,arguments)}function pU(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,re.Z)(function*(n,e){const t=S(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!J0(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ww(t.remoteStore,r.targetId),Dm(t,r.targetId)}).catch(Wc))):(Dm(t,r.targetId),yield mm(t.localStore,r.targetId,!0))}),EN.apply(this,arguments)}function IN(){return IN=(0,re.Z)(function*(n,e,t){const r=function jN(n){const e=S(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vU.bind(null,e),e}(n);try{const o=yield function(u,l){const g=S(u),v=In.now(),D=l.reduce((F,j)=>F.add(j.key),Et());let C,M;return g.persistence.runTransaction("Locally write mutations","readwrite",F=>{let j=Oi(),ie=Et();return g.Zi.getEntries(F,D).next(Ee=>{j=Ee,j.forEach((De,$e)=>{$e.isValidDocument()||(ie=ie.add(De))})}).next(()=>g.localDocuments.getOverlayedDocuments(F,j)).next(Ee=>{C=Ee;const De=[];for(const $e of l){const We=HV($e,C.get($e.key).overlayedDocument);null!=We&&De.push(new hu($e.key,We,VO(We.value.mapValue),Dn.exists(!0)))}return g.mutationQueue.addMutationBatch(F,v,De,l)}).next(Ee=>{M=Ee;const De=Ee.applyToLocalDocumentSet(C,ie);return g.documentOverlayCache.saveOverlays(F,Ee.batchId,De)})}).then(()=>({batchId:M.batchId,changes:nP(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,g){let v=u.Tc[u.currentUser.toKey()];v||(v=new cn(lt)),v=v.insert(l,g),u.Tc[u.currentUser.toKey()]=v}(r,o.batchId,t),yield pu(r,o.changes),yield vm(r.remoteStore)}catch(o){const u=wm(o,"Failed to persist write");t.reject(u)}}),IN.apply(this,arguments)}function Vk(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,re.Z)(function*(n,e){const t=S(n);try{const r=yield function k2(n,e){const t=S(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const g=[];e.targetChanges.forEach((C,M)=>{const F=o.get(M);if(!F)return;g.push(t.Bs.removeMatchingKeys(u,C.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(u,C.addedDocuments,M)));let j=F.withSequenceNumber(u.currentSequenceNumber);var ie,Ee,De;null!==e.targetMismatches.get(M)?j=j.withResumeToken(hr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):C.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(C.resumeToken,r)),o=o.insert(M,j),Ee=j,De=C,(0===(ie=F).resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,j))});let v=Oi(),D=Et();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(function mk(n,e,t){let r=Et(),o=Et();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Oi();return t.forEach((g,v)=>{const D=u.get(g);v.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(qe.min())?(e.removeEntry(g,v.readTime),l=l.insert(g,v)):!D.isValidDocument()||v.version.compareTo(D.version)>0||0===v.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(v),l=l.insert(g,v)):c("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",v.version)}),{nr:l,sr:o}})}(u,l,e.documentUpdates).next(C=>{v=C.nr,D=C.sr})),!r.isEqual(qe.min())){const C=t.Bs.getLastRemoteSnapshotVersion(u).next(M=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(C)}return q.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,D)).next(()=>v)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(I(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?I(l.fc):o.removedDocuments.size>0&&(I(l.fc),l.fc=!1))}),yield pu(t,r,e)}catch(r){yield Wc(r)}}),DN.apply(this,arguments)}function Uk(n,e,t){const r=S(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&o.push(g.snapshot)}),function(u,l){const g=S(u);g.onlineState=l;let v=!1;g.queries.forEach((D,C)=>{for(const M of C.listeners)M.Mu(l)&&(v=!0)}),v&&mN(g)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mU(n,e,t){return CN.apply(this,arguments)}function CN(){return CN=(0,re.Z)(function*(n,e,t){const r=S(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new cn(ke.comparator);l=l.insert(u,mn.newNoDocument(u,qe.min()));const g=Et().add(u),v=new sw(qe.min(),new Map,new cn(lt),l,g);yield Vk(r,v),r.gc=r.gc.remove(u),r.yc.delete(e),NN(r)}else yield mm(r.localStore,e,!1).then(()=>Dm(r,e,t)).catch(Wc)}),CN.apply(this,arguments)}function yU(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,re.Z)(function*(n,e){const t=S(n),r=e.batch.batchId;try{const o=yield function P2(n,e){const t=S(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,v,D){const C=v.batch,M=C.keys();let F=q.resolve();return M.forEach(j=>{F=F.next(()=>D.getEntry(g,j)).next(ie=>{const Ee=v.docVersions.get(j);I(null!==Ee),ie.version.compareTo(Ee)<0&&(C.applyToRemoteDocument(ie,v),ie.isValidDocument()&&(ie.setReadTime(v.commitVersion),D.addEntry(ie)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(g,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=Et();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(g=g.add(l.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);MN(t,r,null),AN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pu(t,o)}catch(o){yield Wc(o)}}),bN.apply(this,arguments)}function vU(n,e,t){return TN.apply(this,arguments)}function TN(){return TN=(0,re.Z)(function*(n,e,t){const r=S(n);try{const o=yield function(u,l){const g=S(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return g.mutationQueue.lookupMutationBatch(v,l).next(C=>(I(null!==C),D=C.keys(),g.mutationQueue.removeMutationBatch(v,C))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,D,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,D)).next(()=>g.localDocuments.getDocuments(v,D))})}(r.localStore,e);MN(r,e,t),AN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pu(r,o)}catch(o){yield Wc(o)}}),TN.apply(this,arguments)}function AN(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function MN(n,e,t){const r=S(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Dm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Bk(n,r)})}function Bk(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ww(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),NN(n))}function xN(n,e,t){for(const r of t)r instanceof kk?(n.Ic.addReference(r.key,e),wU(n,r)):r instanceof Fk?(c("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Bk(n,r.key)):_()}function wU(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(c("SyncEngine","New document in limbo: "+t),n.mc.add(r),NN(n))}function NN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ke(Vt.fromString(e)),r=n.Ac.next();n.yc.set(r,new dU(t)),n.gc=n.gc.insert(t,r),Ib(n.remoteStore,new fu(mi(om(t.path)),r,"TargetPurposeLimboResolution",cs.ct))}}function pu(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,re.Z)(function*(n,e,t){const r=S(n),o=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,v)=>{l.push(r.Rc(v,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const C=Fx.Li(v.targetId,D);u.push(C)}}))}),yield Promise.all(l),r.dc.nu(o),yield(g=(0,re.Z)(function*(v,D){const C=S(v);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>q.forEach(D,F=>q.forEach(F.Fi,j=>C.persistence.referenceDelegate.addReference(M,F.targetId,j)).next(()=>q.forEach(F.Bi,j=>C.persistence.referenceDelegate.removeReference(M,F.targetId,j)))))}catch(M){if(!Kc(M))throw M;c("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const F=M.targetId;if(!M.fromCache){const j=C.Ji.get(F),Ee=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);C.Ji=C.Ji.insert(F,Ee)}}}),function(v,D){return g.apply(this,arguments)})(r.localStore,u))}),RN.apply(this,arguments)}function EU(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,re.Z)(function*(n,e){const t=S(n);if(!t.currentUser.isEqual(e)){c("SyncEngine","User change. New user:",e.toKey());const r=yield pk(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new N(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pu(t,r.er)}var o}),ON.apply(this,arguments)}function IU(n,e){const t=S(n),r=t.yc.get(e);if(r&&r.fc)return Et().add(r.key);{let o=Et();const u=t._c.get(e);if(!u)return o;for(const l of u){const g=t.wc.get(l);o=o.unionWith(g.view.nc)}return o}}class Cb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,re.Z)(function*(){t.serializer=vw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function fk(n,e,t,r){return new O2(n,e,t,r)}(this.persistence,new hk,e.initialUser,this.serializer)}createPersistence(e){return new Rx(pb.zs,this.serializer)}createSharedClientState(e){return new Ik}terminate(){var e=this;return(0,re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cm{initialize(e,t){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Uk(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=EU.bind(null,r.syncEngine),yield function cN(n,e){return lN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sU}createDatastore(e){const t=vw(e.databaseInfo.databaseId),r=new j2(e.databaseInfo);return new G2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>Uk(this.syncEngine,g,0),l=Dk.D()?new Dk:new U2,new K2(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,g,v,D){const C=new hU(r,o,u,l,g,v);return D&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,re.Z)(function*(t){const r=S(t);c("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ym(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):d("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kU{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=nr.UNAUTHENTICATED,this.clientId=BC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,re.Z)(function*(g){c("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(c("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=wm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Tb(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),c("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,re.Z)(function*(u){r.isEqual(u)||(yield pk(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),HN.apply(this,arguments)}function zN(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function qN(n){return WN.apply(this,arguments)}(n);c("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Nk(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Nk(e.remoteStore,u)),n._onlineComponents=e}),GN.apply(this,arguments)}function WN(){return WN=(0,re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){c("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function qk(n){return"FirebaseError"===n.name?n.code===A.FAILED_PRECONDITION||n.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;h("Error using user provided cache. Falling back to memory cache: "+t),yield Tb(n,new Cb)}}else c("FirestoreClient","Using default OfflineComponentProvider"),yield Tb(n,new Cb);return n._offlineComponents}),WN.apply(this,arguments)}function Sb(n){return KN.apply(this,arguments)}function KN(){return KN=(0,re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(c("FirestoreClient","Using user provided OnlineComponentProvider"),yield zN(n,n._uninitializedComponentsProvider._online)):(c("FirestoreClient","Using default OnlineComponentProvider"),yield zN(n,new Cm))),n._onlineComponents}),KN.apply(this,arguments)}function bm(n){return YN.apply(this,arguments)}function YN(){return YN=(0,re.Z)(function*(n){const e=yield Sb(n),t=e.eventManager;return t.onListen=fU.bind(null,e.syncEngine),t.onUnlisten=pU.bind(null,e.syncEngine),t}),YN.apply(this,arguments)}function Jk(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Xk=new Map;function QN(n,e,t){if(!t)throw new N(A.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eF(n){if(!ke.isDocumentKey(n))throw new N(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tF(n){if(ke.isDocumentKey(n))throw new N(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_()}function Lt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new N(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mb(n);throw new N(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rF{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new N(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zU(n,e,t,r){if(!0===e&&!0===r)throw new N(A.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jk(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new N(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new N(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new N(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ew{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _e;switch(t.type){case"firstParty":return new ct(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new N(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xk.get(e);t&&(c("ComponentProvider","Removing Datastore"),Xk.delete(e),t.terminate())}(this),Promise.resolve()}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class $r{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class ca extends $r{constructor(e,t,r){super(e,t,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new ke(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function qU(n,e,...t){if(n=(0,wt.m9)(n),QN("collection","path",e),n instanceof Ew){const r=Vt.fromString(e,...t);return tF(r),new ca(n,null,r)}{if(!(n instanceof qn||n instanceof ca))throw new N(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return tF(r),new ca(n.firestore,null,r)}}function iF(n,e,...t){if(n=(0,wt.m9)(n),1===arguments.length&&(e=BC.A()),QN("doc","path",e),n instanceof Ew){const r=Vt.fromString(e,...t);return eF(r),new qn(n,null,new ke(r))}{if(!(n instanceof qn||n instanceof ca))throw new N(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return eF(r),new qn(n.firestore,n instanceof ca?n.converter:null,new ke(r))}}class WU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qx(this,"async_queue_retry"),this.Xc=()=>{const t=Eb();t&&c("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Eb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Eb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new B;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Kc(t))throw t;c("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,d("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=dN.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&_()}verifyOperationInProgress(){}sa(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function JN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class yn extends Ew{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new WU,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oF(this),this._firestoreClient.terminate()}}function ZU(n,e){const t="object"==typeof n?n:(0,Ct.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Ct._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,wt.P0)("firestore");u&&function GU(n,e,t,r={}){var o;const u=(n=Lt(n,Ew))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let g,v;if("string"==typeof r.mockUserToken)g=r.mockUserToken,v=nr.MOCK_USER;else{g=(0,wt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new N(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nr(D)}n._authCredentials=new Pe(new se(g,v))}}(o,...u)}return o}function ir(n){return n._firestoreClient||oF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oF(n){var e,t,r;const o=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new IV(n._databaseId,g,n._persistenceKey,(D=o).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,Jk(D.experimentalLongPollingOptions),D.useFetchStreams));var g,D;n._firestoreClient=new kU(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lh(hr.fromBase64String(e))}catch(t){throw new N(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lh(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new N(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cF{constructor(e){this._methodName=e}}class XN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new N(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new N(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}const QU=/^__.*__$/;class JU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new hu(e,this.data,this.fieldMask,t,this.fieldTransforms):new cm(e,this.data,t,this.fieldTransforms)}}function dF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _()}}class xb{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dF(this.ca)&&QU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vw(e)}ya(e,t,r,o=!1){return new xb({ca:e,methodName:t,ga:r,path:zn.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(n){const e=n._freezeSettings(),t=vw(n._databaseId);return new XU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eR(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);nR("Data must be an object, but it was:",l,r);const g=mF(r,l);let v,D;if(u.merge)v=new Ri(l.fieldMask),D=l.fieldTransforms;else if(u.mergeFields){const C=[];for(const M of u.mergeFields){const F=Cw(e,M,t);if(!l.contains(F))throw new N(A.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);vF(C,F)||C.push(F)}v=new Ri(C),D=l.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,D=l.fieldTransforms;return new JU(new Br(g),v,D)}function Vh(n,e){if(yF(n=(0,wt.m9)(n)))return nR("Unsupported field value:",e,n),mF(n,e);if(n instanceof cF)return function(t,r){if(!dF(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let g=Vh(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=In.fromDate(t);return{timestampValue:dm(r.serializer,o)}}if(t instanceof In){const o=new In(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dm(r.serializer,o)}}if(t instanceof XN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lh)return{bytesValue:SP(r.serializer,t._byteString)};if(t instanceof qn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Mb(t)}`)}(n,e)}function mF(n,e){const t={};return MO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zc(n,(r,o)=>{const u=Vh(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function yF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof In||n instanceof XN||n instanceof Lh||n instanceof qn||n instanceof cF)}function nR(n,e,t){if(!yF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Mb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Cw(n,e,t){if((e=(0,wt.m9)(e))instanceof Tm)return e._internalPath;if("string"==typeof e)return Nb(n,e);throw Rb("Field path arguments must be of type string or ",n,!1,void 0,t)}const rB=new RegExp("[~\\*/\\[\\]]");function Nb(n,e,t){if(e.search(rB)>=0)throw Rb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tm(...e.split("."))._internalPath}catch{throw Rb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rb(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${o}`),v+=")"),new N(A.INVALID_ARGUMENT,g+n+v)}function vF(n,e){return n.some(t=>t.isEqual(e))}class rR{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ob("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iB extends rR{data(){return super.data()}}function Ob(n,e){return"string"==typeof e?Nb(n,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}class iR{}class wF extends iR{}function sB(n,e,...t){let r=[];e instanceof iR&&r.push(e),r=r.concat(t),function(o){const u=o.filter(g=>g instanceof Am).length,l=o.filter(g=>g instanceof bw).length;if(u>1||u>0&&l>0)throw new N(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class bw extends wF{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bw(e,t,r)}_apply(e){const t=this._parse(e);return CF(e._query,t),new $r(e.firestore,e.converter,lx(e._query,t))}_parse(e){const t=Sm(e.firestore);return function(o,u,l,g,v,D,C){let M;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new N(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){DF(C,D);const F=[];for(const j of C)F.push(IF(g,o,j));M={arrayValue:{values:F}}}else M=IF(g,o,C)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||DF(C,D),M=function gF(n,e,t,r=!1){return Vh(t,n.ya(r?4:3,e))}(l,"where",C,"in"===D||"not-in"===D);return kt.create(v,D,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Am extends iR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Am(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Qt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const g of l)CF(u,g),u=lx(u,g)}(e._query,t),new $r(e.firestore,e.converter,lx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sR extends wF{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sR(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new N(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new N(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new im(o,u);return function(g,v){if(null===ux(g)){const D=XC(g);null!==D&&bF(0,D,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new lu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function oB(n,e="asc"){const t=e,r=Ob("orderBy",n);return sR._create(r,t)}function IF(n,e,t){if("string"==typeof(t=(0,wt.m9)(t))){if(""===t)throw new N(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(e)&&-1!==t.indexOf("/"))throw new N(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vt.fromString(t));if(!ke.isDocumentKey(r))throw new N(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bh(n,new ke(r))}if(t instanceof qn)return bh(n,t._key);throw new N(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mb(t)}.`)}function DF(n,e){if(!Array.isArray(n)||0===n.length)throw new N(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CF(n,e){if(e.isInequality()){const r=XC(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new N(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=ux(n);null!==u&&bF(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new N(A.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bF(n,e,t){if(!t.isEqual(e))throw new N(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class aB{convertValue(e,t="none"){switch(Jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zc(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new XN(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=WC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const t=Yc(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);I(LP(r));const o=new Ch(r.get(1),r.get(3)),u=new ke(r.popFirst(5));return o.isEqual(t)||d(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function oR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Uh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mm extends rR{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ob("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lb extends Mm{data(e={}){return super.data(e)}}class xm{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Uh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lb(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new N(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Lb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Uh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const g=new Lb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Uh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),D=u.indexOf(l.doc.key)),{type:cB(l.type),doc:g,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _()}}class al extends aB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function dB(n){return Tw(Lt(n.firestore,yn),[new lm(n._key,Dn.none())])}function hB(n,e){const t=Lt(n.firestore,yn),r=iF(n),o=oR(n.converter,e);return Tw(t,[eR(Sm(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}function Tw(n,e){return function(t,r){const o=new B;return t.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function gU(n,e,t){return IN.apply(this,arguments)}(yield function ZN(n){return Sb(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}(ir(n),e)}!function(n,e=!0){Eh=Ct.SDK_VERSION,(0,Ct._registerComponent)(new ro.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new yn(new Ge(t.getProvider("auth-internal")),new Nt(t.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new N(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(g.options.projectId,v)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Ct.registerVersion)(YM,"3.13.0",n),(0,Ct.registerVersion)(YM,"3.13.0","esm2017")}();var bB={includeMetadataChanges:!1};function uR(n,e){return void 0===e&&(e=bB),new Xn.y(function(t){var r=function fB(n,...e){var t,r,o;n=(0,wt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||JN(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(JN(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[l+2]=null===(o=M.complete)||void 0===o?void 0:o.bind(M)}let v,D,C;if(n instanceof qn)D=Lt(n.firestore,yn),C=om(n._key.path),v={next:M=>{e[l]&&e[l](function aR(n,e,t){const r=t.docs.get(e._key),o=new al(n);return new Mm(n,o,e._key,r,new Uh(t.hasPendingWrites,t.fromCache),e.converter)}(D,n,M))},error:e[l+1],complete:e[l+2]};else{const M=Lt(n,$r);D=Lt(M.firestore,yn),C=M._query;const F=new al(D);v={next:j=>{e[l]&&e[l](new xm(D,F,M,j))},error:e[l+1],complete:e[l+2]},function _F(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new N(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(M,F,j,ie){const Ee=new bb(ie),De=new yN(F,Ee,j);return M.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function hN(n,e){return fN.apply(this,arguments)}(yield bm(M),De)})),()=>{Ee.Dc(),M.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function pN(n,e){return gN.apply(this,arguments)}(yield bm(M),De)}))}}(ir(D),C,g,v)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function RB(n,e){return void 0===e&&(e={}),function NB(n){return uR(n,{includeMetadataChanges:!0}).pipe((0,xt.U)(function(e){return e.docs}))}(n).pipe((0,xt.U)(function(t){return t.map(function(r){return function AF(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Nm{constructor(e){return e}}const RF="firestore",dR=new p.OlP("angularfire2.firestore-instances");function kB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Nm(r)}}const FB={provide:class OB{constructor(){return rg(RF)}},deps:[[new p.FiY,dR]]},LB={provide:Nm,useFactory:function PB(n,e){const t=ng(RF,n,e);return t&&new Nm(t)},deps:[[new p.FiY,dR],Ic]};let VB=(()=>{class n{constructor(){(0,Ct.registerVersion)("angularfire",_c.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[LB,FB]}),n})();function UB(n,...e){return{ngModule:VB,providers:[{provide:dR,useFactory:kB(n),multi:!0,deps:[p.R0b,p.zs3,ig,__,[new p.FiY,YA],[new p.FiY,Kd],...e]}]}}const BB=Ns(RB,!0),$B=Ns(hB,!0),OF=Ns(qU,!0),jB=Ns(dB,!0),PF=Ns(iF,!0),HB=Ns(ZU,!0),zB=Ns(oB,!0),GB=Ns(sB,!0);var qB=R(3019);class WB extends Es.x{constructor(e=1/0,t=1/0,r=m_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)g=v;g&&r.splice(0,g+1)}}}var KB=R(3020);function kF(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,KB.B)({connector:()=>new WB(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function FF(n,e){return(0,qi.m)(e)?(0,Vn.w)(()=>n,e):(0,Vn.w)(()=>n)}var Bh=R(6304),ZB=R(7142);const QB=new p.OlP("angularfire2.auth.use-emulator"),JB=new p.OlP("angularfire2.auth.settings"),XB=new p.OlP("angularfire2.auth.tenant-id"),e$=new p.OlP("angularfire2.auth.langugage-code"),t$=new p.OlP("angularfire2.auth.use-device-language"),n$=new p.OlP("angularfire.auth.persistence");let hR=(()=>{class n{constructor(t,r,o,u,l,g,v,D,C,M,F,j){const ie=new Es.x,Ee=(0,Ye.of)(void 0).pipe((0,Qa.Q)(l.outsideAngular),(0,Vn.w)(()=>u.runOutsideAngular(()=>R.e(365).then(R.bind(R,6365)))),(0,xt.U)(()=>(0,Bh.on)(t,u,r)),(0,xt.U)(De=>((n,e,t,r,o,u,l,g)=>(0,Bh.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),l)for(const[D,C]of Object.entries(l))v.settings[D]=C;return g&&v.setPersistence(g),v},[t,r,o,u,l,g]))(De,u,g,D,C,M,v,F)),kF({bufferSize:1,refCount:!1}));if(ms(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ye.of)(null);else{Ee.pipe(Yi()).subscribe();const $e=Ee.pipe((0,Vn.w)(pt=>pt.getRedirectResult().then(Rt=>Rt,()=>null)),fD,kF({bufferSize:1,refCount:!1})),We=Ee.pipe((0,Vn.w)(pt=>new Xn.y(Rt=>({unsubscribe:u.runOutsideAngular(()=>pt.onAuthStateChanged(jt=>Rt.next(jt),jt=>Rt.error(jt),()=>Rt.complete()))})))),Xe=Ee.pipe((0,Vn.w)(pt=>new Xn.y(Rt=>({unsubscribe:u.runOutsideAngular(()=>pt.onIdTokenChanged(jt=>Rt.next(jt),jt=>Rt.error(jt),()=>Rt.complete()))}))));this.authState=$e.pipe(FF(We),(0,vc.R)(l.outsideAngular),(0,Qa.Q)(l.insideAngular)),this.user=$e.pipe(FF(Xe),(0,vc.R)(l.outsideAngular),(0,Qa.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Vn.w)(pt=>pt?(0,wn.D)(pt.getIdToken()):(0,Ye.of)(null))),this.idTokenResult=this.user.pipe((0,Vn.w)(pt=>pt?(0,wn.D)(pt.getIdTokenResult()):(0,Ye.of)(null))),this.credential=(0,qB.T)($e,ie,this.authState.pipe(Zi(pt=>!pt))).pipe((0,xt.U)(pt=>pt?.user?pt:null),(0,vc.R)(l.outsideAngular),(0,Qa.Q)(l.insideAngular))}return(0,Bh.pX)(this,Ee,u,{spy:{apply:(De,$e,We)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&We.then(Xe=>ie.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Bh.Dh),p.LFG(Bh.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ig),p.LFG(QB,8),p.LFG(JB,8),p.LFG(XB,8),p.LFG(e$,8),p.LFG(t$,8),p.LFG(n$,8),p.LFG(Kd,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LF=(()=>{class n{constructor(){ZB.Z.registerVersion("angularfire",_c.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[hR]}),n})(),Sw=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.Router=r,this.firestore=o,this.loadUser()}signUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(o=>{this.setUserData(o.user)})}setUserData(t){(function lB(n,e,t){n=Lt(n,qn);const r=Lt(n.firestore,yn),o=oR(n.converter,e,t);return Tw(r,[eR(Sm(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Dn.none())])})(PF(this.firestore,`users/${t.uid}`),{email:t.email}).then(()=>{console.log("UserID added to database!")}).catch(u=>{console.error("Error adding UserID to database!",u)})}login(t,r){this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{console.log("Login Success"),this.Router.navigate(["/sum"]),this.loadUser()}).catch(o=>{console.log(o),console.log("Wrong Info")})}loadUser(){this.afAuth.authState.subscribe(t=>{this.user=t,localStorage.setItem("email",t?.email??""),localStorage.setItem("uid",t?.uid??""),console.log("User Info Fetched!"),this.user||this.Router.navigate(["/login"])})}logout(){this.afAuth.signOut().then(()=>{localStorage.clear(),alert("Logged Out!")})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(hR),p.LFG(Ir),p.LFG(Nm))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),$h=(()=>{class n extends VF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const la=new p.OlP("NgValueAccessor"),o$={provide:la,useExisting:(0,p.Gpc)(()=>Rm),multi:!0},u$=new p.OlP("CompositionEventMode");let Rm=(()=>{class n extends VF{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a$(){const n=ee()?ee().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(u$,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[p._Bn([o$]),p.qOj]}),n})();const oi=new p.OlP("NgValidators"),cl=new p.OlP("NgAsyncValidators");function HF(n){return function ul(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Ub(n){return null}function ZF(n){return null!=n}function YF(n){return(0,p.QGY)(n)?(0,wn.D)(n):n}function QF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function JF(n,e){return e.map(t=>t(n))}function XF(n){return n.map(e=>function l$(n){return!n.validate}(e)?e:t=>e.validate(t))}function fR(n){return null!=n?function eL(n){if(!n)return null;const e=n.filter(ZF);return 0==e.length?null:function(t){return QF(JF(t,e))}}(XF(n)):null}function pR(n){return null!=n?function tL(n){if(!n)return null;const e=n.filter(ZF);return 0==e.length?null:function(t){return function i$(...n){const e=(0,ws.jO)(n),{args:t,keys:r}=Gl(n),o=new Xn.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let v=l,D=l;for(let C=0;C<l;C++){let M=!1;(0,Mo.Xf)(t[C]).subscribe((0,Jr.x)(u,F=>{M||(M=!0,D--),g[C]=F},()=>v--,void 0,()=>{(!v||!M)&&(D||u.next(r?Ao(r,g):g),u.complete())}))}});return e?o.pipe(my(e)):o}(JF(t,e).map(YF)).pipe((0,xt.U)(QF))}}(XF(n)):null}function nL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gR(n){return n?Array.isArray(n)?n:[n]:[]}function Bb(n,e){return Array.isArray(n)?n.includes(e):n===e}function sL(n,e){const t=gR(e);return gR(n).forEach(o=>{Bb(t,o)||t.push(o)}),t}function oL(n,e){return gR(e).filter(t=>!Bb(n,t))}class aL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yi extends aL{get formDirective(){return null}get path(){return null}}class ll extends aL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $b=(()=>{class n extends uL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ll,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[p.qOj]}),n})(),jb=(()=>{class n extends uL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(yi,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[p.qOj]}),n})();const Aw="VALID",zb="INVALID",Om="PENDING",Mw="DISABLED";function vR(n){return(Gb(n)?n.validators:n)||null}function _R(n,e){return(Gb(e)?e.asyncValidators:n)||null}function Gb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Aw}get invalid(){return this.status===zb}get pending(){return this.status==Om}get disabled(){return this.status===Mw}get enabled(){return this.status!==Mw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oL(e,this._rawAsyncValidators))}hasValidator(e){return Bb(this._rawValidators,e)}hasAsyncValidator(e){return Bb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Om,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Aw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Aw||this.status===Om)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mw:Aw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Om,this._hasOwnPendingAsyncValidator=!0;const t=YF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Mw:this.errors?zb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Om)?Om:this._anyControlsHaveStatus(zb)?zb:Aw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function p$(n){return Array.isArray(n)?fR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function g$(n){return Array.isArray(n)?pR(n):n||null}(this._rawAsyncValidators)}}class wR extends hL{constructor(e,t,r){super(vR(t),_R(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function dL(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new p.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function lL(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[t])throw new p.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Pm=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qb}),qb="always";function xw(n,e,t=qb){ER(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function v$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fL(n,e)})}(n,e),function w$(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function y$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ER(n,e){const t=function rL(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(nL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function iL(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(nL(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Zb(e._rawValidators,o),Zb(e._rawAsyncValidators,o)}function fL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const b$={provide:yi,useExisting:(0,p.Gpc)(()=>km)},Nw=(()=>Promise.resolve())();let km=(()=>{class n extends yi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new wR({},fR(t),pR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),xw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nw.then(()=>{const r=this._findContainer(t.path),o=new wR({});(function pL(n,e){ER(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function gL(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(oi,10),p.Y36(cl,10),p.Y36(Pm,8))},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([b$]),p.qOj]}),n})();function mL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function yL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vL=class extends hL{constructor(e=null,t,r){super(vR(t),_R(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},A$={provide:ll,useExisting:(0,p.Gpc)(()=>Rw)},EL=(()=>Promise.resolve())();let Rw=(()=>{class n extends ll{constructor(t,r,o,u,l,g){super(),this._changeDetectorRef=l,this.callSetDisabledState=g,this.control=new vL,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function CR(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Rm?t=u:function D$(n){return Object.getPrototypeOf(n.constructor)===$h}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,p.VuI)(r);EL.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Wb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(yi,9),p.Y36(oi,10),p.Y36(cl,10),p.Y36(la,10),p.Y36(p.sBO,8),p.Y36(Pm,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([A$]),p.qOj,p.TTD]}),n})(),Qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const M$={provide:la,useExisting:(0,p.Gpc)(()=>bR),multi:!0};let bR=(()=>{class n extends $h{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[p._Bn([M$]),p.qOj]}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})(),jh=(()=>{class n{constructor(){this._validator=Ub}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ub,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,features:[p.TTD]}),n})();const q$={provide:oi,useExisting:(0,p.Gpc)(()=>Fm),multi:!0};let Fm=(()=>{class n extends jh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=t=>HF}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&p.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([q$]),p.qOj]}),n})(),J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[IL]}),n})(),ej=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pm,useValue:t.callSetDisabledState??qb}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[J$]}),n})(),tj=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}onSubmit(t){this.authService.login(t.email,t.password)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Sw))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:0,consts:[[1,"container"],[3,"ngSubmit"],["f","ngForm"],["type","email","name","email","ngModel","","required",""],["Email","ngModel"],["type","password","name","password","ngModel","","required",""],["Password","ngModel"],["type","submit"],["routerLink","/signup"]],template:function(t,r){if(1&t){const o=p.EpF();p.TgZ(0,"div",0)(1,"form",1,2),p.NdJ("ngSubmit",function(){p.CHM(o);const l=p.MAs(2);return p.KtG(r.onSubmit(l.form.value))}),p.TgZ(3,"h2"),p._uU(4,"Email"),p.qZA(),p._UZ(5,"input",3,4),p.TgZ(7,"h2"),p._uU(8,"L\xf6senord"),p.qZA(),p._UZ(9,"input",5,6),p.TgZ(11,"button",7),p._uU(12,"Login"),p.qZA(),p.TgZ(13,"h1")(14,"a",8),p._uU(15,"Skapa Konto"),p.qZA()()()()}},dependencies:[Qf,Qb,Rm,$b,jb,Fm,Rw,km],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;position:absolute;width:100%}form[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(3,1fr)}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:5vh;width:75vw;background-color:var(--d2);border-radius:1rem;border:none;box-shadow:10px 10px #000;font-size:1.3rem;padding:1rem;color:var(--w2)}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--w2);margin-top:2vh;padding-left:1rem;margin-bottom:.2rem;font-size:2rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50vw;position:relative;left:50%;transform:translate(-50%);margin-top:4vh;background-color:var(--c1);border:none;border-radius:1rem;font-size:1.7rem;font-weight:700;padding:.2rem;color:var(--w2);box-shadow:10px 10px #000}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:40px;text-decoration:none;color:var(--w1);font-size:1.5rem}"]}),n})();function nj(n,e){1&n&&p._UZ(0,"i",16,17)}function rj(n,e){1&n&&p._UZ(0,"i",18,19)}function ij(n,e){1&n&&p._UZ(0,"i",20,21)}function sj(n,e){1&n&&p._UZ(0,"i",22,23)}function oj(n,e){1&n&&p._UZ(0,"i",24,25)}function aj(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"div",8)(1,"h1",9),p._uU(2),p.qZA(),p.YNc(3,nj,2,0,"i",10),p.YNc(4,rj,2,0,"i",11),p.YNc(5,ij,2,0,"i",12),p.YNc(6,sj,2,0,"i",13),p.YNc(7,oj,2,0,"i",14),p.TgZ(8,"i",15),p.NdJ("click",function(){const u=p.CHM(t).$implicit,l=p.oxw();return p.KtG(l.removeData(u.id))}),p.qZA()()}if(2&n){const t=e.$implicit;p.xp6(2),p.hij("",t.cost,"kr"),p.xp6(1),p.Q6J("ngIf","dollar"==t.class),p.xp6(1),p.Q6J("ngIf","food"==t.class),p.xp6(1),p.Q6J("ngIf","shopping"==t.class),p.xp6(1),p.Q6J("ngIf","fun"==t.class),p.xp6(1),p.Q6J("ngIf","school"==t.class)}}const uj=[{path:"login",component:tj},{path:"sum",component:(()=>{class n{constructor(t,r){this.authService=t,this.firestore=r}ngOnInit(){this.getData()}getData(){const r=`users/${localStorage.getItem("uid")}/cost`,o=OF(this.firestore,r),u=GB(o,zB("timestamp","desc")),l=BB(u,{idField:"id"});l.subscribe(g=>{this.getSum(g)}),this.costArray=l}getSum(t){console.log("Received data:",t);const r=t.reduce((o,u)=>o+u.cost,0);console.log("Total cost:",r),this.sumNumber=r}removeData(t){console.log(t);const o=`users/${localStorage.getItem("uid")}/cost`,u=PF(this.firestore,o,t);jB(u).then(()=>{console.log(`Item ${t} was removed from database!`)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Sw),p.Y36(Nm))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-sum"]],decls:11,vars:4,consts:[[1,"container"],[1,"sum-container"],[1,"sum","fade","slide"],[1,"sum-num"],[1,"latest"],[1,"fade","slide"],[1,"latest-adds"],["class","one-add drop fade",4,"ngFor","ngForOf"],[1,"one-add","drop","fade"],[1,"item-cost"],["class","fi fi-br-dollar selected",4,"ngIf"],["class","fi fi-br-restaurant",4,"ngIf"],["class","fi fi-br-shopping-cart",4,"ngIf"],["class","fi fi-br-glass-cheers",4,"ngIf"],["class","fi fi-br-graduation-cap",4,"ngIf"],[1,"fi","fi-br-cross",3,"click"],[1,"fi","fi-br-dollar","selected"],["refEl1",""],[1,"fi","fi-br-restaurant"],["refEl2",""],[1,"fi","fi-br-shopping-cart"],["refEl3",""],[1,"fi","fi-br-glass-cheers"],["refEl4",""],[1,"fi","fi-br-graduation-cap"],["refEl5",""]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),p._uU(4),p.qZA()()(),p.TgZ(5,"div",4)(6,"h1",5),p._uU(7,"Senaste"),p.qZA(),p.TgZ(8,"div",6),p.YNc(9,aj,9,6,"div",7),p.ALo(10,"async"),p.qZA()()()),2&t&&(p.xp6(4),p.hij("",r.sumNumber," kr"),p.xp6(5),p.Q6J("ngForOf",p.lcZ(10,2,r.costArray)))},dependencies:[qr,Gh,Mn],styles:[".container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:35% 65%}.sum-container[_ngcontent-%COMP%]{background-color:var(--d2);border-radius:0 0 2rem 2rem;display:flex;align-items:center;justify-content:space-around}.sum[_ngcontent-%COMP%]{background-color:var(--d2)}.sum-container[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%]{background-color:var(--c1);padding:1rem;border-radius:2rem;box-shadow:10px 10px #000}.sum-container[_ngcontent-%COMP%]   .sum[_ngcontent-%COMP%]   .sum-num[_ngcontent-%COMP%]{font-size:6rem;color:#fff;text-align:center}.latest[_ngcontent-%COMP%]{grid-row:2/3;padding-left:8%;padding-right:8%}.latest[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:1rem}.latest[_ngcontent-%COMP%]   .latest-adds[_ngcontent-%COMP%]{height:45vh;overflow-y:scroll}.latest[_ngcontent-%COMP%]   .latest-adds[_ngcontent-%COMP%]   .one-add[_ngcontent-%COMP%]{background-color:var(--d2);width:100%;height:-moz-fit-content;height:fit-content;padding:1rem;margin-bottom:20px;border-radius:2rem;display:flex;justify-content:space-between;align-items:center}.latest[_ngcontent-%COMP%]   .latest-adds[_ngcontent-%COMP%]   .one-add[_ngcontent-%COMP%]   .item-cost[_ngcontent-%COMP%]{min-width:40%}.latest[_ngcontent-%COMP%]   .latest-adds[_ngcontent-%COMP%]   .one-add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .latest[_ngcontent-%COMP%]   .latest-adds[_ngcontent-%COMP%]   .one-add[_ngcontent-%COMP%]   .fi-br-cross[_ngcontent-%COMP%]{font-size:2rem;height:32px}"]}),n})()},{path:"add",component:(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r,this.selectedClass="dollar",console.log(this.selectedClass)}onAdd(t){const r=this.authService.user?.uid,o=OF(this.firestore,`users/${r}/cost`),u={cost:t.cost,timestamp:In.now(),class:this.selectedClass};$B(o,u).then(()=>{console.log("Value Added!")})}selectClass(t,r){document.querySelectorAll(".class").forEach(u=>{u.classList.remove("selected")}),r.classList.add("selected"),this.selectedClass=t,console.log(this.selectedClass)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Nm),p.Y36(Sw))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-add"]],decls:19,vars:0,consts:[[1,"container"],[3,"ngSubmit"],["f","ngForm"],["type","number","placeholder","Belopp","name","cost","ngModel","","required",""],["Cost",""],[1,"line","grow-x"],[1,"class-container"],[1,"class","grow","fi","fi-br-dollar","selected",3,"click"],["refEl1",""],[1,"class","grow","fi","fi-br-restaurant",3,"click"],["refEl2",""],[1,"class","grow","fi","fi-br-shopping-cart",3,"click"],["refEl3",""],[1,"class","grow","fi","fi-br-glass-cheers",3,"click"],["refEl4",""],[1,"class","grow","fi","fi-br-graduation-cap",3,"click"],["refEl5",""],["type","submit",1,"fade"]],template:function(t,r){if(1&t){const o=p.EpF();p.TgZ(0,"div",0)(1,"form",1,2),p.NdJ("ngSubmit",function(){p.CHM(o);const l=p.MAs(2);return p.KtG(r.onAdd(l.form.value))}),p._UZ(3,"input",3,4)(5,"div",5),p.TgZ(6,"div",6)(7,"i",7,8),p.NdJ("click",function(){p.CHM(o);const l=p.MAs(8);return p.KtG(r.selectClass("dollar",l))}),p.qZA(),p.TgZ(9,"i",9,10),p.NdJ("click",function(){p.CHM(o);const l=p.MAs(10);return p.KtG(r.selectClass("food",l))}),p.qZA(),p.TgZ(11,"i",11,12),p.NdJ("click",function(){p.CHM(o);const l=p.MAs(12);return p.KtG(r.selectClass("shopping",l))}),p.qZA(),p.TgZ(13,"i",13,14),p.NdJ("click",function(){p.CHM(o);const l=p.MAs(14);return p.KtG(r.selectClass("fun",l))}),p.qZA(),p.TgZ(15,"i",15,16),p.NdJ("click",function(){p.CHM(o);const l=p.MAs(16);return p.KtG(r.selectClass("school",l))}),p.qZA()(),p.TgZ(17,"button",17),p._uU(18,"L\xe4gg till!"),p.qZA()()()}},dependencies:[Qb,Rm,bR,$b,jb,Fm,Rw,km],styles:[".container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-top:90%;display:flex;align-items:center;justify-content:center}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{grid-row:1/2;background-color:transparent;border:none;font-size:3rem;width:200px;text-align:center;color:var(--w2);position:relative;justify-self:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none}form[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{grid-row:2/3;width:60%;height:10px;background-color:#fff;box-shadow:10px 10px #000;border-radius:2rem;justify-self:center}form[_ngcontent-%COMP%]   .class-container[_ngcontent-%COMP%]{margin-top:100px;display:flex;column-gap:10px}form[_ngcontent-%COMP%]   .class-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;height:64px;padding:1rem;border-radius:50%;transition:.2s ease-in-out}.selected[_ngcontent-%COMP%]{background-color:var(--d3);color:var(--c2);scale:1.4}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{grid-row:4/5;width:60%;background-color:var(--c1);border:none;border-radius:1rem;padding:.2rem;margin-top:100px;box-shadow:10px 10px #000;justify-self:center;font-size:1.7rem;font-weight:700;color:var(--w2)}"]}),n})()},{path:"set",component:(()=>{class n{constructor(t,r){this.authService=t,this.Router=r}ngOnInit(){const t=localStorage.getItem("email");this.userEmail$=(0,Ye.of)(t),console.log(t)}logoutButton(){this.authService.logout()}loginButton(){this.Router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Sw),p.Y36(Ir))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-set"]],decls:12,vars:3,consts:[[1,"container"],[1,"profile"],[1,"info"],[3,"click"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h1"),p._uU(3,"Profile"),p.qZA(),p.TgZ(4,"h2"),p._uU(5),p.ALo(6,"async"),p.qZA()(),p.TgZ(7,"div",2)(8,"button",3),p.NdJ("click",function(){return r.logoutButton()}),p._uU(9,"Logout"),p.qZA(),p.TgZ(10,"button",3),p.NdJ("click",function(){return r.loginButton()}),p._uU(11,"Login"),p.qZA()()()),2&t&&(p.xp6(5),p.Oqu(p.lcZ(6,1,r.userEmail$)))},dependencies:[Mn],styles:[".container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:30% 100%}.profile[_ngcontent-%COMP%]{background-color:var(--d2);border-radius:0 0 2rem 2rem;padding:8%}.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:4rem;padding-bottom:20px}.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}button[_ngcontent-%COMP%]{height:100px}"]}),n})()},{path:"signup",component:(()=>{class n{constructor(t,r){this.authService=t,this.Router=r}onSubmit(t){t.password1==t.password2?this.authService.signUp(t.email,t.password1):console.log("Passwords not matching!")}goBack(){this.Router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Sw),p.Y36(Ir))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-signup"]],decls:20,vars:0,consts:[[1,"container"],[3,"ngSubmit"],["f","ngForm"],["type","email","name","email","ngModel","","required",""],["Email","ngModel"],["type","password","name","password1","ngModel","","required",""],["Password","ngModel"],["type","password","name","password2","ngModel","","required",""],["type","submit"],[3,"click"],[1,"fi","fi-br-arrow-left"]],template:function(t,r){if(1&t){const o=p.EpF();p.TgZ(0,"div",0)(1,"form",1,2),p.NdJ("ngSubmit",function(){p.CHM(o);const l=p.MAs(2);return p.KtG(r.onSubmit(l.form.value))}),p.TgZ(3,"h2"),p._uU(4,"Email"),p.qZA(),p._UZ(5,"input",3,4),p.TgZ(7,"h2"),p._uU(8,"L\xf6senord"),p.qZA(),p._UZ(9,"input",5,6),p.TgZ(11,"h2"),p._uU(12,"Upprepa l\xf6senord"),p.qZA(),p._UZ(13,"input",7,6),p.TgZ(15,"button",8),p._uU(16,"Sign up"),p.qZA(),p.TgZ(17,"h2",9),p.NdJ("click",function(){return r.goBack()}),p._UZ(18,"i",10),p._uU(19," Tillbaka"),p.qZA()()()}},dependencies:[Qb,Rm,$b,jb,Fm,Rw,km],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}form[_ngcontent-%COMP%]{display:grid}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:5vh;width:75vw;background-color:var(--d2);border-radius:1rem;border:none;box-shadow:10px 10px #000;font-size:1.3rem;padding:1rem;color:var(--w2)}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--w2);margin-top:2vh;padding-left:1rem;margin-bottom:.2rem;font-size:1.5rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50vw;position:relative;left:50%;transform:translate(-50%);margin-top:4vh;background-color:var(--c1);border:none;border-radius:1rem;font-size:1.7rem;font-weight:700;padding:.2rem;color:var(--w2);box-shadow:10px 10px #000}"]}),n})()}];let cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[LE.forRoot(uj),LE]}),n})();const NR=function(n){return{selected:n}};let lj=(()=>{class n{constructor(t){this.Router=t,this.title="BudgetBuddy"}isSumPage(){return"/sum"===this.Router.url}isAddPage(){return"/add"===this.Router.url}isSetPage(){return"/set"===this.Router.url}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ir))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:9,consts:[[1,"component"],["href","/sum",1,"sum",3,"ngClass"],[1,"fi","fi-br-stats"],["href","/add",1,"add",3,"ngClass"],[1,"fi","fi-br-plus"],["href","/set",1,"set",3,"ngClass"],[1,"fi","fi-br-user"]],template:function(t,r){1&t&&(p.TgZ(0,"main")(1,"div",0),p._UZ(2,"router-outlet"),p.qZA(),p.TgZ(3,"footer")(4,"a",1),p._UZ(5,"i",2),p.qZA(),p.TgZ(6,"a",3),p._UZ(7,"i",4),p.qZA(),p.TgZ(8,"a",5),p._UZ(9,"i",6),p.qZA()()()),2&t&&(p.xp6(4),p.Q6J("ngClass",p.VKq(3,NR,r.isSumPage())),p.xp6(2),p.Q6J("ngClass",p.VKq(5,NR,r.isAddPage())),p.xp6(2),p.Q6J("ngClass",p.VKq(7,NR,r.isSetPage())))},dependencies:[fl,jf]}),n})();const BL={firebase:{projectId:"budgetbuddy-b9a22",appId:"1:112132657788:web:7b2677795711d80831aff9",storageBucket:"budgetbuddy-b9a22.appspot.com",apiKey:"AIzaSyDFLFM9oNA58Ebu8wFfA2OdXZsauF8cnmQ",authDomain:"budgetbuddy-b9a22.firebaseapp.com",messagingSenderId:"112132657788",measurementId:"G-86JLPHH4K6"}};let dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[lj]}),n.\u0275inj=p.cJS({providers:[{provide:Bh.Dh,useValue:BL.firebase}],imports:[Vl,cj,LF,LF,ej,vD(()=>_D(BL.firebase)),G_(()=>sM()),UB(()=>HB())]}),n})();$w().bootstrapModule(dj).catch(n=>console.error(n))},5619:(Ke,me,R)=>{R.d(me,{X:()=>P});var p=R(8645);class P extends p.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const le=super._subscribe(te);return!le.closed&&te.next(this._value),le}getValue(){const{hasError:te,thrownError:le,_value:ye}=this;if(te)throw le;return this._throwIfClosed(),ye}next(te){super.next(this._value=te)}}},5592:(Ke,me,R)=>{R.d(me,{y:()=>Fe});var p=R(1887),P=R(7394),ee=R(4850),te=R(8407),le=R(2653),ye=R(4674),Ae=R(1441);let Fe=(()=>{class X{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const je=new X;return je.source=this,je.operator=ae,je}subscribe(ae,je,Re){const Ie=function V(X){return X&&X instanceof p.Lv||function L(X){return X&&(0,ye.m)(X.next)&&(0,ye.m)(X.error)&&(0,ye.m)(X.complete)}(X)&&(0,P.Nn)(X)}(ae)?ae:new p.Hp(ae,je,Re);return(0,Ae.x)(()=>{const{operator:Te,source:He}=this;Ie.add(Te?Te.call(Ie,He):He?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(ae){try{return this._subscribe(ae)}catch(je){ae.error(je)}}forEach(ae,je){return new(je=be(je))((Re,Ie)=>{const Te=new p.Hp({next:He=>{try{ae(He)}catch(we){Ie(we),Te.unsubscribe()}},error:Ie,complete:Re});this.subscribe(Te)})}_subscribe(ae){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(ae)}[ee.L](){return this}pipe(...ae){return(0,te.U)(ae)(this)}toPromise(ae){return new(ae=be(ae))((je,Re)=>{let Ie;this.subscribe(Te=>Ie=Te,Te=>Re(Te),()=>je(Ie))})}}return X.create=xe=>new X(xe),X})();function be(X){var xe;return null!==(xe=X??le.config.Promise)&&void 0!==xe?xe:Promise}},8645:(Ke,me,R)=>{R.d(me,{x:()=>Ae});var p=R(5592),P=R(7394);const te=(0,R(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=R(9039),ye=R(1441);let Ae=(()=>{class be extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const X=new Fe(this,this);return X.operator=V,X}_throwIfClosed(){if(this.closed)throw new te}next(V){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(V)}})}error(V){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:X}=this;for(;X.length;)X.shift().error(V)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:X,isStopped:xe,observers:ae}=this;return X||xe?P.Lc:(this.currentObservers=null,ae.push(V),new P.w0(()=>{this.currentObservers=null,(0,le.P)(ae,V)}))}_checkFinalizedStatuses(V){const{hasError:X,thrownError:xe,isStopped:ae}=this;X?V.error(xe):ae&&V.complete()}asObservable(){const V=new p.y;return V.source=this,V}}return be.create=(L,V)=>new Fe(L,V),be})();class Fe extends Ae{constructor(L,V){super(),this.destination=L,this.source=V}next(L){var V,X;null===(X=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===X||X.call(V,L)}error(L){var V,X;null===(X=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===X||X.call(V,L)}complete(){var L,V;null===(V=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===V||V.call(L)}_subscribe(L){var V,X;return null!==(X=null===(V=this.source)||void 0===V?void 0:V.subscribe(L))&&void 0!==X?X:P.Lc}}},1887:(Ke,me,R)=>{R.d(me,{Hp:()=>Re,Lv:()=>X});var p=R(4674),P=R(7394),ee=R(2653),te=R(3894);function le(){}const ye=be("C",void 0,void 0);function be(fe,ue,pe){return{kind:fe,value:ue,error:pe}}var L=R(7599),V=R(1441);class X extends P.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,P.Nn)(ue)&&ue.add(this)):this.destination=we}static create(ue,pe,Me){return new Re(ue,pe,Me)}next(ue){this.isStopped?He(function Fe(fe){return be("N",fe,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?He(function Ae(fe){return be("E",void 0,fe)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?He(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function ae(fe,ue){return xe.call(fe,ue)}class je{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:pe}=this;if(pe.next)try{pe.next(ue)}catch(Me){Ie(Me)}}error(ue){const{partialObserver:pe}=this;if(pe.error)try{pe.error(ue)}catch(Me){Ie(Me)}else Ie(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(pe){Ie(pe)}}}class Re extends X{constructor(ue,pe,Me){let W;if(super(),(0,p.m)(ue)||!ue)W={next:ue??void 0,error:pe??void 0,complete:Me??void 0};else{let H;this&&ee.config.useDeprecatedNextContext?(H=Object.create(ue),H.unsubscribe=()=>this.unsubscribe(),W={next:ue.next&&ae(ue.next,H),error:ue.error&&ae(ue.error,H),complete:ue.complete&&ae(ue.complete,H)}):W=ue}this.destination=new je(W)}}function Ie(fe){ee.config.useDeprecatedSynchronousErrorHandling?(0,V.O)(fe):(0,te.h)(fe)}function He(fe,ue){const{onStoppedNotification:pe}=ee.config;pe&&L.z.setTimeout(()=>pe(fe,ue))}const we={closed:!0,next:le,error:function Te(fe){throw fe},complete:le}},7394:(Ke,me,R)=>{R.d(me,{Lc:()=>ye,w0:()=>le,Nn:()=>Ae});var p=R(4674);const ee=(0,R(2306).d)(be=>function(V){be(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((X,xe)=>`${xe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var te=R(9039);class le{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const ae of V)ae.remove(this);else V.remove(this);const{initialTeardown:X}=this;if((0,p.m)(X))try{X()}catch(ae){L=ae instanceof ee?ae.errors:[ae]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const ae of xe)try{Fe(ae)}catch(je){L=L??[],je instanceof ee?L=[...L,...je.errors]:L.push(je)}}if(L)throw new ee(L)}}add(L){var V;if(L&&L!==this)if(this.closed)Fe(L);else{if(L instanceof le){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(L)}}_hasParent(L){const{_parentage:V}=this;return V===L||Array.isArray(V)&&V.includes(L)}_addParent(L){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(L),V):V?[V,L]:L}_removeParent(L){const{_parentage:V}=this;V===L?this._parentage=null:Array.isArray(V)&&(0,te.P)(V,L)}remove(L){const{_finalizers:V}=this;V&&(0,te.P)(V,L),L instanceof le&&L._removeParent(this)}}le.EMPTY=(()=>{const be=new le;return be.closed=!0,be})();const ye=le.EMPTY;function Ae(be){return be instanceof le||be&&"closed"in be&&(0,p.m)(be.remove)&&(0,p.m)(be.add)&&(0,p.m)(be.unsubscribe)}function Fe(be){(0,p.m)(be)?be():be.unsubscribe()}},2653:(Ke,me,R)=>{R.d(me,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Ke,me,R)=>{R.d(me,{E:()=>P});const P=new(R(5592).y)(le=>le.complete())},2459:(Ke,me,R)=>{R.d(me,{D:()=>ue});var p=R(4829),P=R(3093),ee=R(5137),ye=R(5592),Fe=R(4971),be=R(4674),L=R(7103);function X(pe,Me){if(!pe)throw new Error("Iterable cannot be null");return new ye.y(W=>{(0,L.f)(W,Me,()=>{const H=pe[Symbol.asyncIterator]();(0,L.f)(W,Me,()=>{H.next().then(ge=>{ge.done?W.complete():W.next(ge.value)})},0,!0)})})}var xe=R(8382),ae=R(4026),je=R(4266),Re=R(3664),Ie=R(5726),Te=R(9853),He=R(541);function ue(pe,Me){return Me?function fe(pe,Me){if(null!=pe){if((0,xe.c)(pe))return function te(pe,Me){return(0,p.Xf)(pe).pipe((0,ee.R)(Me),(0,P.Q)(Me))}(pe,Me);if((0,je.z)(pe))return function Ae(pe,Me){return new ye.y(W=>{let H=0;return Me.schedule(function(){H===pe.length?W.complete():(W.next(pe[H++]),W.closed||this.schedule())})})}(pe,Me);if((0,ae.t)(pe))return function le(pe,Me){return(0,p.Xf)(pe).pipe((0,ee.R)(Me),(0,P.Q)(Me))}(pe,Me);if((0,Ie.D)(pe))return X(pe,Me);if((0,Re.T)(pe))return function V(pe,Me){return new ye.y(W=>{let H;return(0,L.f)(W,Me,()=>{H=pe[Fe.h](),(0,L.f)(W,Me,()=>{let ge,Ne;try{({value:ge,done:Ne}=H.next())}catch(tn){return void W.error(tn)}Ne?W.complete():W.next(ge)},0,!0)}),()=>(0,be.m)(H?.return)&&H.return()})}(pe,Me);if((0,He.L)(pe))return function we(pe,Me){return X((0,He.Q)(pe),Me)}(pe,Me)}throw(0,Te.z)(pe)}(pe,Me):(0,p.Xf)(pe)}},4829:(Ke,me,R)=>{R.d(me,{Xf:()=>xe});var p=R(7582),P=R(4266),ee=R(4026),te=R(5592),le=R(8382),ye=R(5726),Ae=R(9853),Fe=R(3664),be=R(541),L=R(4674),V=R(3894),X=R(4850);function xe(fe){if(fe instanceof te.y)return fe;if(null!=fe){if((0,le.c)(fe))return function ae(fe){return new te.y(ue=>{const pe=fe[X.L]();if((0,L.m)(pe.subscribe))return pe.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,P.z)(fe))return function je(fe){return new te.y(ue=>{for(let pe=0;pe<fe.length&&!ue.closed;pe++)ue.next(fe[pe]);ue.complete()})}(fe);if((0,ee.t)(fe))return function Re(fe){return new te.y(ue=>{fe.then(pe=>{ue.closed||(ue.next(pe),ue.complete())},pe=>ue.error(pe)).then(null,V.h)})}(fe);if((0,ye.D)(fe))return Te(fe);if((0,Fe.T)(fe))return function Ie(fe){return new te.y(ue=>{for(const pe of fe)if(ue.next(pe),ue.closed)return;ue.complete()})}(fe);if((0,be.L)(fe))return function He(fe){return Te((0,be.Q)(fe))}(fe)}throw(0,Ae.z)(fe)}function Te(fe){return new te.y(ue=>{(function we(fe,ue){var pe,Me,W,H;return(0,p.mG)(this,void 0,void 0,function*(){try{for(pe=(0,p.KL)(fe);!(Me=yield pe.next()).done;)if(ue.next(Me.value),ue.closed)return}catch(ge){W={error:ge}}finally{try{Me&&!Me.done&&(H=pe.return)&&(yield H.call(pe))}finally{if(W)throw W.error}}ue.complete()})})(fe,ue).catch(pe=>ue.error(pe))})}},3019:(Ke,me,R)=>{R.d(me,{T:()=>ye});var p=R(7537),P=R(4829),ee=R(6232),te=R(4564),le=R(2459);function ye(...Ae){const Fe=(0,te.yG)(Ae),be=(0,te._6)(Ae,1/0),L=Ae;return L.length?1===L.length?(0,P.Xf)(L[0]):(0,p.J)(be)((0,le.D)(L,Fe)):ee.E}},2096:(Ke,me,R)=>{R.d(me,{of:()=>ee});var p=R(4564),P=R(2459);function ee(...te){const le=(0,p.yG)(te);return(0,P.D)(te,le)}},8251:(Ke,me,R)=>{R.d(me,{x:()=>P});var p=R(1887);function P(te,le,ye,Ae,Fe){return new ee(te,le,ye,Ae,Fe)}class ee extends p.Lv{constructor(le,ye,Ae,Fe,be,L){super(le),this.onFinalize=be,this.shouldUnsubscribe=L,this._next=ye?function(V){try{ye(V)}catch(X){le.error(X)}}:super._next,this._error=Fe?function(V){try{Fe(V)}catch(X){le.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(V){le.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},7398:(Ke,me,R)=>{R.d(me,{U:()=>ee});var p=R(9360),P=R(8251);function ee(te,le){return(0,p.e)((ye,Ae)=>{let Fe=0;ye.subscribe((0,P.x)(Ae,be=>{Ae.next(te.call(le,be,Fe++))}))})}},7537:(Ke,me,R)=>{R.d(me,{J:()=>ee});var p=R(1631),P=R(2737);function ee(te=1/0){return(0,p.z)(P.y,te)}},1631:(Ke,me,R)=>{R.d(me,{z:()=>Fe});var p=R(7398),P=R(4829),ee=R(9360),te=R(7103),le=R(8251),Ae=R(4674);function Fe(be,L,V=1/0){return(0,Ae.m)(L)?Fe((X,xe)=>(0,p.U)((ae,je)=>L(X,ae,xe,je))((0,P.Xf)(be(X,xe))),V):("number"==typeof L&&(V=L),(0,ee.e)((X,xe)=>function ye(be,L,V,X,xe,ae,je,Re){const Ie=[];let Te=0,He=0,we=!1;const fe=()=>{we&&!Ie.length&&!Te&&L.complete()},ue=Me=>Te<X?pe(Me):Ie.push(Me),pe=Me=>{ae&&L.next(Me),Te++;let W=!1;(0,P.Xf)(V(Me,He++)).subscribe((0,le.x)(L,H=>{xe?.(H),ae?ue(H):L.next(H)},()=>{W=!0},void 0,()=>{if(W)try{for(Te--;Ie.length&&Te<X;){const H=Ie.shift();je?(0,te.f)(L,je,()=>pe(H)):pe(H)}fe()}catch(H){L.error(H)}}))};return be.subscribe((0,le.x)(L,ue,()=>{we=!0,fe()})),()=>{Re?.()}}(X,xe,be,V)))}},3093:(Ke,me,R)=>{R.d(me,{Q:()=>te});var p=R(7103),P=R(9360),ee=R(8251);function te(le,ye=0){return(0,P.e)((Ae,Fe)=>{Ae.subscribe((0,ee.x)(Fe,be=>(0,p.f)(Fe,le,()=>Fe.next(be),ye),()=>(0,p.f)(Fe,le,()=>Fe.complete(),ye),be=>(0,p.f)(Fe,le,()=>Fe.error(be),ye)))})}},3020:(Ke,me,R)=>{R.d(me,{B:()=>le});var p=R(4829),P=R(8645),ee=R(1887),te=R(9360);function le(Ae={}){const{connector:Fe=(()=>new P.x),resetOnError:be=!0,resetOnComplete:L=!0,resetOnRefCountZero:V=!0}=Ae;return X=>{let xe,ae,je,Re=0,Ie=!1,Te=!1;const He=()=>{ae?.unsubscribe(),ae=void 0},we=()=>{He(),xe=je=void 0,Ie=Te=!1},fe=()=>{const ue=xe;we(),ue?.unsubscribe()};return(0,te.e)((ue,pe)=>{Re++,!Te&&!Ie&&He();const Me=je=je??Fe();pe.add(()=>{Re--,0===Re&&!Te&&!Ie&&(ae=ye(fe,V))}),Me.subscribe(pe),!xe&&Re>0&&(xe=new ee.Hp({next:W=>Me.next(W),error:W=>{Te=!0,He(),ae=ye(we,be,W),Me.error(W)},complete:()=>{Ie=!0,He(),ae=ye(we,L),Me.complete()}}),(0,p.Xf)(ue).subscribe(xe))})(X)}}function ye(Ae,Fe,...be){if(!0===Fe)return void Ae();if(!1===Fe)return;const L=new ee.Hp({next:()=>{L.unsubscribe(),Ae()}});return(0,p.Xf)(Fe(...be)).subscribe(L)}},5137:(Ke,me,R)=>{R.d(me,{R:()=>P});var p=R(9360);function P(ee,te=0){return(0,p.e)((le,ye)=>{ye.add(ee.schedule(()=>le.subscribe(ye),te))})}},4664:(Ke,me,R)=>{R.d(me,{w:()=>te});var p=R(4829),P=R(9360),ee=R(8251);function te(le,ye){return(0,P.e)((Ae,Fe)=>{let be=null,L=0,V=!1;const X=()=>V&&!be&&Fe.complete();Ae.subscribe((0,ee.x)(Fe,xe=>{be?.unsubscribe();let ae=0;const je=L++;(0,p.Xf)(le(xe,je)).subscribe(be=(0,ee.x)(Fe,Re=>Fe.next(ye?ye(xe,Re,je,ae++):Re),()=>{be=null,X()}))},()=>{V=!0,X()}))})}},7599:(Ke,me,R)=>{R.d(me,{z:()=>p});const p={setTimeout(P,ee,...te){const{delegate:le}=p;return le?.setTimeout?le.setTimeout(P,ee,...te):setTimeout(P,ee,...te)},clearTimeout(P){const{delegate:ee}=p;return(ee?.clearTimeout||clearTimeout)(P)},delegate:void 0}},4971:(Ke,me,R)=>{R.d(me,{h:()=>P});const P=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ke,me,R)=>{R.d(me,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Ke,me,R)=>{R.d(me,{_6:()=>ye,jO:()=>te,yG:()=>le});var p=R(4674);function ee(Ae){return Ae[Ae.length-1]}function te(Ae){return(0,p.m)(ee(Ae))?Ae.pop():void 0}function le(Ae){return function P(Ae){return Ae&&(0,p.m)(Ae.schedule)}(ee(Ae))?Ae.pop():void 0}function ye(Ae,Fe){return"number"==typeof ee(Ae)?Ae.pop():Fe}},9039:(Ke,me,R)=>{function p(P,ee){if(P){const te=P.indexOf(ee);0<=te&&P.splice(te,1)}}R.d(me,{P:()=>p})},2306:(Ke,me,R)=>{function p(P){const te=P(le=>{Error.call(le),le.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}R.d(me,{d:()=>p})},1441:(Ke,me,R)=>{R.d(me,{O:()=>te,x:()=>ee});var p=R(2653);let P=null;function ee(le){if(p.config.useDeprecatedSynchronousErrorHandling){const ye=!P;if(ye&&(P={errorThrown:!1,error:null}),le(),ye){const{errorThrown:Ae,error:Fe}=P;if(P=null,Ae)throw Fe}}else le()}function te(le){p.config.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=le)}},7103:(Ke,me,R)=>{function p(P,ee,te,le=0,ye=!1){const Ae=ee.schedule(function(){te(),ye?P.add(this.schedule(null,le)):this.unsubscribe()},le);if(P.add(Ae),!ye)return Ae}R.d(me,{f:()=>p})},2737:(Ke,me,R)=>{function p(P){return P}R.d(me,{y:()=>p})},4266:(Ke,me,R)=>{R.d(me,{z:()=>p});const p=P=>P&&"number"==typeof P.length&&"function"!=typeof P},5726:(Ke,me,R)=>{R.d(me,{D:()=>P});var p=R(4674);function P(ee){return Symbol.asyncIterator&&(0,p.m)(ee?.[Symbol.asyncIterator])}},4674:(Ke,me,R)=>{function p(P){return"function"==typeof P}R.d(me,{m:()=>p})},8382:(Ke,me,R)=>{R.d(me,{c:()=>ee});var p=R(4850),P=R(4674);function ee(te){return(0,P.m)(te[p.L])}},3664:(Ke,me,R)=>{R.d(me,{T:()=>ee});var p=R(4971),P=R(4674);function ee(te){return(0,P.m)(te?.[p.h])}},4026:(Ke,me,R)=>{R.d(me,{t:()=>P});var p=R(4674);function P(ee){return(0,p.m)(ee?.then)}},541:(Ke,me,R)=>{R.d(me,{L:()=>te,Q:()=>ee});var p=R(7582),P=R(4674);function ee(le){return(0,p.FC)(this,arguments,function*(){const Ae=le.getReader();try{for(;;){const{value:Fe,done:be}=yield(0,p.qq)(Ae.read());if(be)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Fe)}}finally{Ae.releaseLock()}})}function te(le){return(0,P.m)(le?.getReader)}},9360:(Ke,me,R)=>{R.d(me,{A:()=>P,e:()=>ee});var p=R(4674);function P(te){return(0,p.m)(te?.lift)}function ee(te){return le=>{if(P(le))return le.lift(function(ye){try{return te(ye,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(Ke,me,R)=>{R.d(me,{U:()=>ee,z:()=>P});var p=R(2737);function P(...te){return ee(te)}function ee(te){return 0===te.length?p.y:1===te.length?te[0]:function(ye){return te.reduce((Ae,Fe)=>Fe(Ae),ye)}}},3894:(Ke,me,R)=>{R.d(me,{h:()=>ee});var p=R(2653),P=R(7599);function ee(te){P.z.setTimeout(()=>{const{onUnhandledError:le}=p.config;if(!le)throw te;le(te)})}},9853:(Ke,me,R)=>{function p(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(me,{z:()=>p})},8926:(Ke,me,R)=>{R.d(me,{tb:()=>Yt,AFp:()=>Ct,ip1:()=>w0,hGG:()=>LC,z2F:()=>ou,Ojb:()=>Ts,sBO:()=>TC,Sil:()=>ih,EJc:()=>rh,Xts:()=>Jf,SBq:()=>Ha,lqb:()=>Ua,qLn:()=>za,vpe:()=>go,XFs:()=>st,OlP:()=>$t,zs3:()=>qo,ZZ4:()=>Kg,aQg:()=>Zg,soG:()=>nh,YKP:()=>H_,h0i:()=>xc,PXZ:()=>_C,R0b:()=>Cr,FiY:()=>Fo,Lbi:()=>re,g9A:()=>BE,Qsj:()=>nS,FYo:()=>WE,JOm:()=>Vf,tp0:()=>td,Rgc:()=>mg,dDg:()=>yC,eoX:()=>vC,q4F:()=>YE,GfV:()=>ZE,s_b:()=>Nc,ifc:()=>vn,VuI:()=>WM,MMx:()=>KD,Lck:()=>z_,eFA:()=>zc,Gpc:()=>He,f3M:()=>Q,X6Q:()=>UM,$WT:()=>ps,_c5:()=>FC,qFp:()=>nr,rg0:()=>Fw,c2e:()=>E0,zSh:()=>tv,HDt:()=>C0,wAp:()=>bc,vHH:()=>W,lri:()=>mC,rWj:()=>S0,cg1:()=>I_,kL8:()=>sg,dqk:()=>Xt,Z0I:()=>vi,eJc:()=>o0,QGY:()=>i_,F4k:()=>WI,RDi:()=>vT,AaK:()=>Re,qOj:()=>Cp,Xq5:()=>kI,TTD:()=>hf,_Bn:()=>ZA,jDz:()=>ZD,xp6:()=>vv,uIk:()=>$v,ekj:()=>Ud,Suo:()=>e0,Xpm:()=>_u,lG2:()=>Eu,Yz7:()=>dt,cJS:()=>pr,oAB:()=>Zh,Yjl:()=>ha,Y36:()=>ac,_UZ:()=>lr,qZA:()=>Vp,TgZ:()=>Tn,EpF:()=>qI,n5z:()=>Yi,LFG:()=>O,$8M:()=>zu,$Z:()=>lI,NdJ:()=>s_,CRH:()=>vg,oxw:()=>JI,ALo:()=>hM,lcZ:()=>fM,Q6J:()=>Jv,VKq:()=>oM,iGM:()=>X_,MAs:()=>jI,KtG:()=>fa,CHM:()=>Df,P3R:()=>Yy,YNc:()=>YS,_uU:()=>Qa,Oqu:()=>$d,hij:()=>wc});var p=R(8645),P=R(7394),ee=R(5619),te=R(5592),le=R(3019),ye=R(2096),Ae=R(3020),Fe=R(4664),be=R(2737),L=R(9360),V=R(8251);function xe(i,s){return i===s}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function je(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ie(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=ae({__forward_ref__:ae});function He(i){return i.__forward_ref__=He,i.toString=function(){return Re(this())},i}function we(i){return fe(i)?i():i}function fe(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===He}function ue(i){return i&&!!i.\u0275providers}const Me="https://g.co/ng/security#xss";class W extends Error{constructor(s,a){super(function H(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function ai(i,s){throw new W(-201,!1)}function ht(i,s){null==i&&function Qe(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function dt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Li(i){return vo(i,nn)||vo(i,ft)}function vi(i){return null!==Li(i)}function vo(i,s){return i.hasOwnProperty(s)?i[s]:null}function ds(i){return i&&(i.hasOwnProperty(vt)||i.hasOwnProperty(kn))?i[vt]:null}const nn=ae({\u0275prov:ae}),vt=ae({\u0275inj:ae}),ft=ae({ngInjectableDef:ae}),kn=ae({ngInjectorDef:ae});var st=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(st||{});let gr;function Ot(i){const s=gr;return gr=i,s}function Vi(i,s,a){const c=Li(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&st.Optional?null:void 0!==s?s:void ai(Re(i))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ui={},ui="__NG_DI_FLAG__",zr="ngTempTokenPath",or=/\n/gm,Fn="__source";let hs;function Wn(i){const s=hs;return hs=i,s}function k(i,s=st.Default){if(void 0===hs)throw new W(-203,!1);return null===hs?Vi(i,void 0,s):hs.get(i,s&st.Optional?null:void 0,s)}function O(i,s=st.Default){return(function Hr(){return gr}()||k)(we(i),s)}function Q(i,s=st.Default){return O(i,G(s))}function G(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ue(i){const s=[];for(let a=0;a<i.length;a++){const c=we(i[a]);if(Array.isArray(c)){if(0===c.length)throw new W(900,!1);let d,h=st.Default;for(let y=0;y<c.length;y++){const _=c[y],I=Ft(_);"number"==typeof I?-1===I?d=_.token:h|=I:d=_}s.push(O(d,h))}else s.push(O(c))}return s}function Ze(i,s){return i[ui]=s,i.prototype[ui]=s,i}function Ft(i){return i[ui]}function rn(i){return{toString:i}.toString()}var It=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(It||{}),vn=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(vn||{});const _n={},Dt=[],Os=ae({\u0275cmp:ae}),ne=ae({\u0275dir:ae}),z=ae({\u0275pipe:ae}),ve=ae({\u0275mod:ae}),Be=ae({\u0275fac:ae}),et=ae({__NG_ELEMENT_ID__:ae}),gt=ae({__NG_ENV_ID__:ae});function Pt(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===c||i.charCodeAt(d+h)<=32)return d}a=d+1}}function Cn(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const h=a[c++],y=a[c++],_=a[c++];i.setAttribute(s,y,_,h)}else{const h=d,y=a[++c];Bi(h)?i.setProperty(s,h,y):i.setAttribute(s,h,y),c++}}return c}function sn(i){return 3===i||4===i||6===i}function Bi(i){return 64===i.charCodeAt(0)}function $i(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||gu(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function gu(i,s,a,c,d){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[h+1]=d));if(c===i[h+1])return void(i[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==c&&i.splice(h++,0,c),null!==d&&i.splice(h++,0,d)}const hl="ng-template";function fl(i,s,a){let c=0,d=!0;for(;c<i.length;){let h=i[c++];if("string"==typeof h&&d){const y=i[c++];if(a&&"class"===h&&-1!==Pt(y.toLowerCase(),s,0))return!0}else{if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function ji(i){return 4===i.type&&i.value!==hl}function mu(i,s,a){return s===(4!==i.type||a?i.value:hl)}function Lm(i,s,a){let c=4;const d=i.attrs||[],h=function Vm(i){for(let s=0;s<i.length;s++)if(sn(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const I=s[_];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!mu(i,I,a)||""===I&&1===s.length){if(qr(c))return!1;y=!0}}else{const b=8&c?I:s[++_];if(8&c&&null!==i.attrs){if(!fl(i.attrs,b,a)){if(qr(c))return!1;y=!0}continue}const A=dn(8&c?"class":I,d,ji(i),a);if(-1===A){if(qr(c))return!1;y=!0;continue}if(""!==b){let N;N=A>h?"":d[A+1].toLowerCase();const B=8&c?N:null;if(B&&-1!==Pt(B,b,0)||2&c&&b!==N){if(qr(c))return!1;y=!0}}}}else{if(!y&&!qr(c)&&!qr(I))return!1;if(y&&qr(I))continue;y=!1,c=I|1&c}}return qr(c)||y}function qr(i){return 0==(1&i)}function dn(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let h=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)h=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=h?1:2}return-1}return function pl(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function zh(i,s,a=!1){for(let c=0;c<s.length;c++)if(Lm(i,s[c],a))return!0;return!1}function vu(i,s){return i?":not("+s.trim()+")":s}function qh(i){let s=i[0],a=1,c=2,d="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!qr(y)&&(s+=vu(h,d),d=""),c=y,h=h||!qr(c);a++}return""!==d&&(s+=vu(h,d)),s}function _u(i){return rn(()=>{const s=Iu(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||vn.Emulated,styles:i.styles||Dt,_:null,schemas:i.schemas||null,tView:null,id:""};Du(a);const c=i.dependencies;return a.directiveDefs=Cu(c,!1),a.pipeDefs=Cu(c,!0),a.id=function $m(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Bm(i){return Mt(i)||Mn(i)}function Kh(i){return null!==i}function Zh(i){return rn(()=>({type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function wu(i,s){if(null==i)return _n;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=c,s&&(s[d]=h)}return a}function Eu(i){return rn(()=>{const s=Iu(i);return Du(s),s})}function ha(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Mt(i){return i[Os]||null}function Mn(i){return i[ne]||null}function Zn(i){return i[z]||null}function ps(i){const s=Mt(i)||Mn(i)||Zn(i);return null!==s&&s.standalone}function ar(i,s){const a=i[ve]||null;if(!a&&!0===s)throw new Error(`Type ${Re(i)} does not have '\u0275mod' property.`);return a}function Iu(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||_n,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wu(i.inputs,s),outputs:wu(i.outputs)}}function Du(i){i.features?.forEach(s=>s(i))}function Cu(i,s){if(!i)return null;const a=s?Zn:Bm;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Kh)}const hn=0,Ve=1,ot=2,qt=3,bn=4,Ps=5,Ln=6,ur=7,fn=8,gs=9,Hi=10,nt=11,bu=12,ml=13,wo=14,on=15,ks=16,Wr=17,_i=18,Tu=19,ms=20,Eo=21,wi=22,ci=23,zi=24,mt=25,yl=1,Hm=2,Ei=7,vs=9,Yn=11;function cr(i){return Array.isArray(i)&&"object"==typeof i[yl]}function Ht(i){return Array.isArray(i)&&!0===i[yl]}function Su(i){return 0!=(4&i.flags)}function Io(i){return i.componentOffset>-1}function Do(i){return 1==(1&i.flags)}function mr(i){return!!i.template}function _l(i){return 0!=(512&i[ot])}function _s(i,s){return i.hasOwnProperty(Be)?i[Be]:null}let bl=Xt.WeakRef??class rf{constructor(s){this.ref=s}deref(){return this.ref}},Co=0,li=null,Tl=!1;function pn(i){const s=li;return li=i,s}class Sl{constructor(){this.id=Co++,this.ref=function Jm(i){return new bl(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const c=a.producerNode.deref();if(null!=c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Tl;Tl=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();null!=d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{Tl=s}}producerAccessed(){if(Tl)throw new Error("");if(null===li)return;let s=li.producers.get(this.id);void 0===s?(s={consumerNode:li.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:li.trackingVersion},li.producers.set(this.id,s),this.consumers.set(li.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=li.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==li?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ml=null;function Fw(i){const s=pn(null);try{return i()}finally{pn(s)}}const Nu=()=>{};class ey extends Sl{constructor(s,a,c){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Nu,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Nu,this.watch(this.registerOnCleanup)}finally{pn(s)}}cleanup(){this.cleanupFn()}}class df{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function hf(){return Nl}function Nl(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vw),Lw}function Lw(){const i=Rl(this),s=i?.current;if(s){const a=i.previous;if(a===_n)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Vw(i,s,a,c){const d=this.declaredInputs[a],h=Rl(i)||function Uw(i,s){return i[ff]=s}(i,{previous:_n,current:null}),y=h.current||(h.current={}),_=h.previous,I=_[d];y[d]=new df(I&&I.currentValue,s,_===_n),i[c]=s}hf.ngInherit=!0;const ff="__ngSimpleChanges__";function Rl(i){return i[ff]||null}const Nr=function(i,s,a){};function Bt(i){for(;Array.isArray(i);)i=i[hn];return i}function bo(i,s){return Bt(s[i])}function Rr(i,s){return Bt(s[i.index])}function gf(i,s){return i.data[s]}function Us(i,s){return i[s]}function Or(i,s){const a=s[i];return cr(a)?a:a[hn]}function Kr(i,s){return null==s?null:i[s]}function Ii(i){i[Wr]=0}function Ou(i){1024&i[ot]||(i[ot]|=1024,vf(i,1))}function yf(i){1024&i[ot]&&(i[ot]&=-1025,vf(i,-1))}function vf(i,s){let a=i[qt];if(null===a)return;a[Ps]+=s;let c=a;for(a=a[qt];null!==a&&(1===s&&1===c[Ps]||-1===s&&0===c[Ps]);)a[Ps]+=s,c=a,a=a[qt]}const rt={lFrame:Tf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ef(){return rt.bindingsEnabled}function he(){return rt.lFrame.lView}function At(){return rt.lFrame.tView}function Df(i){return rt.lFrame.contextLView=i,i[fn]}function fa(i){return rt.lFrame.contextLView=null,i}function Qn(){let i=un();for(;null!==i&&64===i.type;)i=i.parent;return i}function un(){return rt.lFrame.currentTNode}function Zr(i,s){const a=rt.lFrame;a.currentTNode=i,a.isParent=s}function Fl(){return rt.lFrame.isParent}function Jn(){const i=rt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Gi(){return rt.lFrame.bindingIndex++}function Ul(i,s){const a=rt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Di(s)}function Di(i){rt.lFrame.currentDirectiveIndex=i}function Bl(){return rt.lFrame.currentQueryIndex}function ma(i){rt.lFrame.currentQueryIndex=i}function bf(i){const s=i[Ve];return 2===s.type?s.declTNode:1===s.type?i[Ln]:null}function Hw(i,s,a){if(a&st.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&st.Host||(d=bf(h),null===d||(h=h[wo],10&d.type))););if(null===d)return!1;s=d,i=h}const c=rt.lFrame=cy();return c.currentTNode=s,c.lView=i,!0}function $l(i){const s=cy(),a=i[Ve];rt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function cy(){const i=rt.lFrame,s=null===i?null:i.child;return null===s?Tf(i):s}function Tf(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ly(){const i=rt.lFrame;return rt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const dy=ly;function Sf(){const i=ly();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function yr(){return rt.lFrame.selectedIndex}function To(i){rt.lFrame.selectedIndex=i}function en(){const i=rt.lFrame;return gf(i.tView,i.selectedIndex)}let Mf=!0;function Hl(){return Mf}function $s(i){Mf=i}function Xn(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:I,ngAfterViewChecked:b,ngOnDestroy:S}=h;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),I&&(i.viewHooks??=[]).push(-a,I),b&&((i.viewHooks??=[]).push(a,b),(i.viewCheckHooks??=[]).push(a,b)),null!=S&&(i.destroyHooks??=[]).push(a,S)}}function qi(i,s,a){Ye(i,s,3,a)}function So(i,s,a,c){(3&i[ot])===a&&Ye(i,s,a,c)}function wn(i,s){let a=i[ot];(3&a)===s&&(a&=8191,a+=1,i[ot]=a)}function Ye(i,s,a,c){const h=c??-1,y=s.length-1;let _=0;for(let I=void 0!==c?65535&i[Wr]:0;I<y;I++)if("number"==typeof s[I+1]){if(_=s[I],null!=c&&_>=c)break}else s[I]<0&&(i[Wr]+=65536),(_<h||-1==h)&&(zl(i,a,s,I),i[Wr]=(4294901760&i[Wr])+I+2),I++}function Qr(i,s){Nr(4,i,s);const a=pn(null);try{s.call(i)}finally{pn(a),Nr(5,i,s)}}function zl(i,s,a,c){const d=a[c]<0,h=a[c+1],_=i[d?-a[c]:a[c]];d?i[ot]>>13<i[Wr]>>16&&(3&i[ot])===s&&(i[ot]+=8192,Qr(_,h)):Qr(_,h)}const Wi=-1;class js{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ws(i){return i!==Wi}function Ao(i){return 32767&i}function Uu(i,s){let a=function Jr(i){return i>>16}(i),c=s;for(;a>0;)c=c[wo],a--;return c}let Hs=!0;function Bu(i){const s=Hs;return Hs=i,s}const xf=255,zs=5;let Gs=0;const bi={};function Mo(i,s){const a=ju(i,s);if(-1!==a)return a;const c=s[Ve];c.firstCreatePass&&(i.injectorIndex=s.length,$u(c.data,i),$u(s,null),$u(c.blueprint,null));const d=Ki(i,s),h=i.injectorIndex;if(ws(d)){const y=Ao(d),_=Uu(d,s),I=_[Ve].data;for(let b=0;b<8;b++)s[h+b]=_[y+b]|I[y+b]}return s[h+8]=d,h}function $u(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ju(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ki(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=Ti(d),null===c)return Wi;if(a++,d=d[wo],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Wi}function Xr(i,s,a){!function qs(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(et)&&(c=a[et]),null==c&&(c=a[et]=Gs++);const d=c&xf;s.data[i+(d>>zs)]|=1<<d}(i,s,a)}function vr(i,s,a){if(a&st.Optional||void 0!==i)return i;ai()}function ya(i,s,a,c){if(a&st.Optional&&void 0===c&&(c=null),!(a&(st.Self|st.Host))){const d=i[gs],h=Ot(void 0);try{return d?d.get(s,c,a&st.Optional):Vi(s,c,a&st.Optional)}finally{Ot(h)}}return vr(c,0,a)}function Hu(i,s,a,c=st.Default,d){if(null!==i){if(2048&s[ot]&&!(c&st.Self)){const y=function Nn(i,s,a,c,d){let h=i,y=s;for(;null!==h&&null!==y&&2048&y[ot]&&!(512&y[ot]);){const _=Es(h,y,a,c|st.Self,bi);if(_!==bi)return _;let I=h.parent;if(!I){const b=y[ms];if(b){const S=b.get(a,bi,c);if(S!==bi)return S}I=Ti(y),y=y[wo]}h=I}return d}(i,s,a,c,bi);if(y!==bi)return y}const h=Es(i,s,a,c,bi);if(h!==bi)return h}return ya(s,a,c,d)}function Es(i,s,a,c,d){const h=function Zi(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(et)?i[et]:void 0;return"number"==typeof s?s>=0?s&xf:Zl:s}(a);if("function"==typeof h){if(!Hw(s,i,c))return c&st.Host?vr(d,0,c):ya(s,a,c,d);try{const y=h(c);if(null!=y||c&st.Optional)return y;ai()}finally{dy()}}else if("number"==typeof h){let y=null,_=ju(i,s),I=Wi,b=c&st.Host?s[on][Ln]:null;for((-1===_||c&st.SkipSelf)&&(I=-1===_?Ki(i,s):s[_+8],I!==Wi&&va(c,!1)?(y=s[Ve],_=Ao(I),s=Uu(I,s)):_=-1);-1!==_;){const S=s[Ve];if(xn(h,_,S.data)){const A=Vn(_,s,a,y,c,b);if(A!==bi)return A}I=s[_+8],I!==Wi&&va(c,s[Ve].data[_+8]===b)&&xn(h,_,s)?(y=S,_=Ao(I),s=Uu(I,s)):_=-1}}return d}function Vn(i,s,a,c,d,h){const y=s[Ve],_=y.data[i+8],S=di(_,y,a,null==c?Io(_)&&Hs:c!=y&&0!=(3&_.type),d&st.Host&&h===_);return null!==S?Ws(s,y,S,_):bi}function di(i,s,a,c,d){const h=i.providerIndexes,y=s.data,_=1048575&h,I=i.directiveStart,S=h>>20,N=d?_+S:i.directiveEnd;for(let B=c?_:_+S;B<N;B++){const se=y[B];if(B<I&&a===se||B>=I&&se.type===a)return B}if(d){const B=y[I];if(B&&mr(B)&&B.type===a)return I}return null}function Ws(i,s,a,c){let d=i[a];const h=s.data;if(function py(i){return i instanceof js}(d)){const y=d;y.resolving&&function tn(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new W(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ne(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}(h[a]));const _=Bu(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Ot(y.injectImpl):null;Hw(i,c,st.Default);try{d=i[a]=y.factory(void 0,h,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Ww(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(c){const y=Nl(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),h&&((a.preOrderHooks??=[]).push(i,h),(a.preOrderCheckHooks??=[]).push(i,h))}(a,h[a],s)}finally{null!==I&&Ot(I),Bu(_),y.resolving=!1,dy()}}return d}function xn(i,s,a){return!!(a[s+(i>>zs)]&1<<i)}function va(i,s){return!(i&st.Self||i&st.Host&&s)}class Ks{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Hu(this._tNode,this._lView,s,G(c),a)}}function Zl(){return new Ks(Qn(),he())}function Yi(i){return rn(()=>{const s=i.prototype.constructor,a=s[Be]||Qi(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const h=d[Be]||Qi(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Qi(i){return fe(i)?()=>{const s=Qi(we(i));return s&&s()}:_s(i)}function Ti(i){const s=i[Ve],a=s.type;return 2===a?s.declTNode:1===a?i[Ln]:null}function zu(i){return function Kl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const h=a[d];if(sn(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(Qn(),i)}const Ds="__parameters__";function it(i,s,a){return rn(()=>{const c=function xo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...h){if(this instanceof d)return c.apply(this,h),this;const y=new d(...h);return _.annotation=y,_;function _(I,b,S){const A=I.hasOwnProperty(Ds)?I[Ds]:Object.defineProperty(I,Ds,{value:[]})[Ds];for(;A.length<=S;)A.push(null);return(A[S]=A[S]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Ro(i,s){i.forEach(a=>Array.isArray(a)?Ro(a,s):s(a))}function Ia(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ji(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Un(i,s,a){let c=Po(i,s);return c>=0?i[1|c]=a:(c=~c,function Ys(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Oo(i,s){const a=Po(i,s);if(a>=0)return i[1|a]}function Po(i,s){return function ko(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const h=c+(d-c>>1),y=i[h<<a];if(s===y)return h<<a;y>s?d=h:c=h+1}return~(d<<a)}(i,s,1)}const Fo=Ze(it("Optional"),8),td=Ze(it("SkipSelf"),4);function Ff(i){return 128==(128&i.flags)}var Vf=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Vf||{});const Ma=new Map;let iE=0;const Uf="__ngContext__";function Er(i,s){cr(s)?(i[Uf]=s[Tu],function Ty(i){Ma.set(i[Tu],i)}(s)):i[Uf]=s}let Na;function xy(i,s){return Na(i,s)}function Ra(i){const s=i[qt];return Ht(s)?s[qt]:s}function Ny(i){return Oy(i[bu])}function Ry(i){return Oy(i[bn])}function Oy(i){for(;null!==i&&!Ht(i);)i=i[bn];return i}function tc(i,s,a,c,d){if(null!=c){let h,y=!1;Ht(c)?h=c:cr(c)&&(y=!0,c=c[hn]);const _=Bt(c);0===i&&null!==a?null==d?ka(s,a,_):Pa(s,a,_,d||null,!0):1===i&&null!==a?Pa(s,a,_,d||null,!0):2===i?function Fa(i,s,a){const c=Bo(i,s);c&&function dT(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=h&&function fT(i,s,a,c,d){const h=a[Ei];h!==Bt(a)&&tc(s,i,c,h,d);for(let _=Yn;_<a.length;_++){const I=a[_];cd(I[Ve],I,i,s,c,h)}}(s,i,h,a,d)}}function ky(i,s,a){return i.createElement(s,a)}function dE(i,s){const a=i[vs],c=a.indexOf(s);yf(s),a.splice(c,1)}function Oa(i,s){if(i.length<=Yn)return;const a=Yn+s,c=i[a];if(c){const d=c[ks];null!==d&&d!==i&&dE(d,c),s>0&&(i[a-1][bn]=c[bn]);const h=Ji(i,Yn+s);!function oT(i,s){cd(i,s,s[nt],2,null,null),s[hn]=null,s[Ln]=null}(c[Ve],c);const y=h[_i];null!==y&&y.detachView(h[Ve]),c[qt]=null,c[bn]=null,c[ot]&=-129}return c}function cT(i,s){if(!(256&s[ot])){const a=s[nt];s[ci]?.destroy(),s[zi]?.destroy(),a.destroyNode&&cd(i,s,a,3,null,null),function uT(i){let s=i[bu];if(!s)return Ly(i[Ve],i);for(;s;){let a=null;if(cr(s))a=s[bu];else{const c=s[Yn];c&&(a=c)}if(!a){for(;s&&!s[bn]&&s!==i;)cr(s)&&Ly(s[Ve],s),s=s[qt];null===s&&(s=i),cr(s)&&Ly(s[Ve],s),a=s&&s[bn]}s=a}}(s)}}function Ly(i,s){if(!(256&s[ot])){s[ot]&=-129,s[ot]|=256,function hE(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof js)){const h=a[c+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const _=d[h[y]],I=h[y+1];Nr(4,_,I);try{I.call(_)}finally{Nr(5,_,I)}}else{Nr(4,d,h);try{h.call(d)}finally{Nr(5,d,h)}}}}}(i,s),function lT(i,s){const a=i.cleanup,c=s[ur];if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+3];y>=0?c[y]():c[-y].unsubscribe(),h+=2}else a[h].call(c[a[h+1]]);null!==c&&(s[ur]=null);const d=s[Eo];if(null!==d){s[Eo]=null;for(let h=0;h<d.length;h++)(0,d[h])()}}(i,s),1===s[Ve].type&&s[nt].destroy();const a=s[ks];if(null!==a&&Ht(s[qt])){a!==s[qt]&&dE(a,s);const c=s[_i];null!==c&&c.detachView(i)}!function ec(i){Ma.delete(i[Tu])}(s)}}function nc(i,s,a){return function fE(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[hn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=i.data[c.directiveStart+d];if(h===vn.None||h===vn.Emulated)return null}return Rr(c,a)}}(i,s.parent,a)}function Pa(i,s,a,c,d){i.insertBefore(s,a,c,d)}function ka(i,s,a){i.appendChild(s,a)}function rc(i,s,a,c,d){null!==c?Pa(i,s,a,c,d):ka(i,s,a)}function Bo(i,s){return i.parentNode(s)}let Vy,$y,qf,mE=function gE(i,s,a){return 40&i.type?Rr(i,a):null};function Hf(i,s,a,c){const d=nc(i,c,s),h=s[nt],_=function pE(i,s,a){return mE(i,s,a)}(c.parent||s[Ln],c,s);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)rc(h,d,a[I],_,!1);else rc(h,d,a,_,!1);void 0!==Vy&&Vy(h,c,s,a,d)}function zf(i,s){if(null!==s){const a=s.type;if(3&a)return Rr(s,i);if(4&a)return Gf(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return zf(i,c);{const d=i[s.index];return Ht(d)?Gf(-1,d):Bt(d)}}if(32&a)return xy(s,i)()||Bt(i[s.index]);{const c=vE(i,s);return null!==c?Array.isArray(c)?c[0]:zf(Ra(i[on]),c):zf(i,s.next)}}return null}function vE(i,s){return null!==s?i[on][Ln].projection[s.projection]:null}function Gf(i,s){const a=Yn+i+1;if(a<s.length){const c=s[a],d=c[Ve].firstChild;if(null!==d)return zf(c,d)}return s[Ei]}function Uy(i,s,a,c,d,h,y){for(;null!=a;){const _=c[a.index],I=a.type;if(y&&0===s&&(_&&Er(Bt(_),c),a.flags|=2),32!=(32&a.flags))if(8&I)Uy(i,s,a.child,c,d,h,!1),tc(s,i,d,_,h);else if(32&I){const b=xy(a,c);let S;for(;S=b();)tc(s,i,d,S,h);tc(s,i,d,_,h)}else 16&I?_E(i,s,c,a,d,h):tc(s,i,d,_,h);a=y?a.projectionNext:a.next}}function cd(i,s,a,c,d,h){Uy(a,c,i.firstChild,s,d,h,!1)}function _E(i,s,a,c,d,h){const y=a[on],I=y[Ln].projection[c.projection];if(Array.isArray(I))for(let b=0;b<I.length;b++)tc(s,i,d,I[b],h);else{let b=I;const S=y[qt];Ff(c)&&(b.flags|=128),Uy(i,s,b,S,d,h,!0)}}function wE(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function EE(i,s,a){const{mergedAttrs:c,classes:d,styles:h}=a;null!==c&&Cn(i,s,c),null!==d&&wE(i,s,d),null!==h&&function gT(i,s,a){i.setAttribute(s,"style",a)}(i,s,h)}function vT(i){$y=i}function CE(i){return function dd(){if(void 0===qf&&(qf=null,Xt.trustedTypes))try{qf=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return qf}()?.createScriptURL(i)||i}class bE{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function $o(i){return i instanceof bE?i.changingThisBreaksApplicationSecurity:i}function hd(i,s){const a=function DT(i){return i instanceof bE&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Me})`)}return a===s}const xT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sc=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(sc||{});function xE(i){const s=fi();return s?s.sanitize(sc.URL,i)||"":hd(i,"URL")?$o(i):function Kf(i){return(i=String(i)).match(xT)?i:"unsafe:"+i}(ge(i))}function Ky(i){const s=fi();if(s)return CE(s.sanitize(sc.RESOURCE_URL,i)||"");if(hd(i,"ResourceURL"))return CE($o(i));throw new W(904,!1)}function Yy(i,s,a){return function Zy(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Ky:xE}(s,a)(i)}function fi(){const i=he();return i&&i[Hi].sanitizer}class $t{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=dt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jf=new $t("ENVIRONMENT_INITIALIZER"),UT=new $t("INJECTOR",-1),BT=new $t("INJECTOR_DEF_TYPES");class Qy{get(s,a=Ui){if(a===Ui){const c=new Error(`NullInjectorError: No provider for ${Re(s)}!`);throw c.name="NullInjectorError",c}return a}}function Xy(...i){return{\u0275providers:NE(0,i),\u0275fromNgModule:!0}}function NE(i,...s){const a=[],c=new Set;let d;return Ro(s,h=>{const y=h;OE(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&RE(d,a),a}function RE(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];ev(d,h=>{s.push(h)})}}function OE(i,s,a,c){if(!(i=we(i)))return!1;let d=null,h=ds(i);const y=!h&&Mt(i);if(h||y){if(y&&!y.standalone)return!1;d=i}else{const I=i.ngModule;if(h=ds(I),!h)return!1;d=I}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of I)OE(b,s,a,c)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let b;c.add(d);try{Ro(h.imports,S=>{OE(S,s,a,c)&&(b||=[],b.push(S))})}finally{}void 0!==b&&RE(b,s)}if(!_){const b=_s(d)||(()=>new d);s.push({provide:d,useFactory:b,deps:Dt},{provide:BT,useValue:d,multi:!0},{provide:Jf,useValue:()=>O(d),multi:!0})}const I=h.providers;null==I||_||ev(I,S=>{s.push(S)})}}return d!==i&&void 0!==i.providers}function ev(i,s){for(let a of i)ue(a)&&(a=a.\u0275providers),Array.isArray(a)?ev(a,s):s(a)}const BR=ae({provide:String,useValue:ae});function PE(i){return null!==i&&"object"==typeof i&&BR in i}function oc(i){return"function"==typeof i}const tv=new $t("Set Injector scope."),Xf={},LE={};let nv;function ep(){return void 0===nv&&(nv=new Qy),nv}class Ua{}class rv extends Ua{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UE(s,y=>this.processProvider(y)),this.records.set(UT,gd(void 0,this)),d.has("environment")&&this.records.set(Ua,gd(void 0,this));const h=this.records.get(tv);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(BT.multi,Dt,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Wn(this),c=Ot(void 0);try{return s()}finally{Wn(a),Ot(c)}}get(s,a=Ui,c=st.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(gt))return s[gt](this);c=G(c);const d=Wn(this),h=Ot(void 0);try{if(!(c&st.SkipSelf)){let _=this.records.get(s);if(void 0===_){const I=function HR(i){return"function"==typeof i||"object"==typeof i&&i instanceof $t}(s)&&Li(s);_=I&&this.injectableDefInScope(I)?gd(iv(s),Xf):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(c&st.Self?ep():this.parent).get(s,a=c&st.Optional&&a===Ui?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[zr]=y[zr]||[]).unshift(Re(s)),d)throw y;return function Kn(i,s,a,c){const d=i[zr];throw s[Fn]&&d.unshift(s[Fn]),i.message=function ln(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Re(s);if(Array.isArray(s))d=s.map(Re).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];h.push(y+":"+("string"==typeof _?JSON.stringify(_):Re(_)))}d=`{${h.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(or,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[zr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Ot(h),Wn(d)}}resolveInjectorInitializers(){const s=Wn(this),a=Ot(void 0);try{const c=this.get(Jf.multi,Dt,st.Self);for(const d of c)d()}finally{Wn(s),Ot(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(Re(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(s){let a=oc(s=we(s))?s:we(s&&s.provide);const c=function HT(i){return PE(i)?gd(void 0,i.useValue):gd(zT(i),Xf)}(s);if(oc(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=gd(void 0,Xf,!0),d.factory=()=>Ue(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Xf&&(a.value=LE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function jR(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=we(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function iv(i){const s=Li(i),a=null!==s?s.factory:_s(i);if(null!==a)return a;if(i instanceof $t)throw new W(204,!1);if(i instanceof Function)return function VE(i){const s=i.length;if(s>0)throw function Tt(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new W(204,!1);const a=function ls(i){return i&&(i[nn]||i[ft])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new W(204,!1)}function zT(i,s,a){let c;if(oc(i)){const d=we(i);return _s(d)||iv(d)}if(PE(i))c=()=>we(i.useValue);else if(function kE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ue(i.deps||[]));else if(function jT(i){return!(!i||!i.useExisting)}(i))c=()=>O(we(i.useExisting));else{const d=we(i&&(i.useClass||i.provide));if(!function $R(i){return!!i.deps}(i))return _s(d)||iv(d);c=()=>new d(...Ue(i.deps))}return c}function gd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function UE(i,s){for(const a of i)Array.isArray(a)?UE(a,s):a&&ue(a)?UE(a.\u0275providers,s):s(a)}const Ct=new $t("AppId",{providedIn:"root",factory:()=>GT}),GT="ng",BE=new $t("Platform Initializer"),re=new $t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ts=new $t("CSP nonce",{providedIn:"root",factory:()=>function Va(){if(void 0!==$y)return $y;if(typeof document<"u")return document;throw new W(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let YT=(i,s)=>null;function sp(i,s){return YT(i,s)}class io{}class dv{}class pv{resolveComponentFactory(s){throw function hv(i){const s=Error(`No component factory found for ${Re(i)}.`);return s.ngComponent=i,s}(s)}}let Ed=(()=>{class i{}return i.NULL=new pv,i})();function qE(){return jo(Qn(),he())}function jo(i,s){return new Ha(Rr(i,s))}let Ha=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=qE,i})();function tS(i){return i instanceof Ha?i.nativeElement:i}class WE{}let nS=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function gv(){const i=he(),a=Or(Qn().index,i);return(cr(a)?a:i)[nt]}(),i})(),KE=(()=>{class i{}return i.\u0275prov=dt({token:i,providedIn:"root",factory:()=>null}),i})();class ZE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const YE=new ZE("16.1.6"),Id={};function Dd(i){for(;i;){i[ot]|=64;const s=Ra(i);if(_l(i)&&!s)return i;i=s}return null}function Ho(i){return i.ngOriginalError}class za{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ho(s);for(;a&&Ho(a);)a=Ho(a);return a||null}}const mv=new $t("",{providedIn:"root",factory:()=>!1});function ts(i){return i instanceof Function?i():i}class iI extends Sl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Dd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,c){const d=pn(this);this.trackingVersion++;try{s(a,c)}finally{pn(d)}}destroy(){this.trackingVersion++}}let hp=null;function sI(){return hp??=new iI,hp}function fp(i,s){return i[s]??sI()}function oI(i,s){const a=sI();a.hasReadASignal&&(i[s]=hp,a.lView=i,hp=new iI)}const at={};function vv(i){_v(At(),he(),yr()+i,!1)}function _v(i,s,a,c){if(!c)if(3==(3&s[ot])){const h=i.preOrderCheckHooks;null!==h&&qi(s,h,a)}else{const h=i.preOrderHooks;null!==h&&So(s,h,0,a)}To(a)}function Ev(i,s=null,a=null,c){const d=cI(i,s,a,c);return d.resolveInjectorInitializers(),d}function cI(i,s=null,a=null,c,d=new Set){const h=[a||Dt,Xy(i)];return c=c||("object"==typeof i?void 0:Re(i)),new rv(h,s||ep(),c||null,d)}let qo=(()=>{class i{static create(a,c){if(Array.isArray(a))return Ev({name:""},c,a,"");{const d=a.name??"";return Ev({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Ui,i.NULL=new Qy,i.\u0275prov=dt({token:i,providedIn:"any",factory:()=>O(UT)}),i.__NG_ELEMENT_ID__=-1,i})();function ac(i,s=st.Default){const a=he();return null===a?O(i,s):Hu(Qn(),a,we(i),s)}function lI(){throw new Error("invalid")}function uc(i,s,a,c,d,h,y,_,I,b,S){const A=s.blueprint.slice();return A[hn]=d,A[ot]=140|c,(null!==b||i&&2048&i[ot])&&(A[ot]|=2048),Ii(A),A[qt]=A[wo]=i,A[fn]=a,A[Hi]=y||i&&i[Hi],A[nt]=_||i&&i[nt],A[gs]=I||i&&i[gs]||null,A[Ln]=h,A[Tu]=function by(){return iE++}(),A[wi]=S,A[ms]=b,A[on]=2==s.type?i[on]:A,A}function cc(i,s,a,c,d){let h=i.data[s];if(null===h)h=function Td(i,s,a,c,d){const h=un(),y=Fl(),I=i.data[s]=function gS(i,s,a,c,d,h){let y=s?s.injectorIndex:-1,_=0;return function Bs(){return null!==rt.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=I),null!==h&&(y?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I,I.prev=h)),I}(i,s,a,c,d),function jw(){return rt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=c,h.attrs=d;const y=function Fu(){const i=rt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Zr(h,!0),h}function Sd(i,s,a,c){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function yp(i,s,a,c,d){const h=fp(s,ci),y=yr(),_=2&c;try{if(To(-1),_&&s.length>mt&&_v(i,s,mt,!1),Nr(_?2:0,d),_)h.runInContext(a,c,d);else{const b=pn(null);try{a(c,d)}finally{pn(b)}}}finally{_&&null===s[ci]&&oI(s,ci),To(y),Nr(_?3:1,d)}}function Iv(i,s,a){if(Su(s)){const c=pn(null);try{const h=s.directiveEnd;for(let y=s.directiveStart;y<h;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{pn(c)}}}function Ad(i,s,a){Ef()&&(function bv(i,s,a,c){const d=a.directiveStart,h=a.directiveEnd;Io(a)&&function YR(i,s,a){const c=Rr(s,i),d=dS(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=wp(i,uc(i,d,null,y,c,s,null,i[Hi].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=_}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||Mo(a,s),Er(c,s);const y=a.initialInputs;for(let _=d;_<h;_++){const I=i.data[_],b=Ws(s,i,_,a);Er(b,s),null!==y&&QR(0,_-d,b,I,0,y),mr(I)&&(Or(a.index,s)[fn]=Ws(s,i,_,a))}}(i,s,a,Rr(a,s)),64==(64&a.flags)&&_S(i,s,a))}function Dv(i,s,a=Rr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let h=0;h<c.length;h+=2){const y=c[h+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function dS(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Md(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Md(i,s,a,c,d,h,y,_,I,b,S){const A=mt+c,N=A+d,B=function GR(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:at);return a}(A,N),se="function"==typeof b?b():b;return B[Ve]={type:i,blueprint:B,template:a,queries:null,viewQuery:_,declTNode:s,data:B.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:se,incompleteFirstPass:!1,ssrId:S}}let vp=i=>null;function hI(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const h=i[d];null===c?_p(a,s,d,h):c.hasOwnProperty(d)&&_p(a,s,c[d],h)}return a}function _p(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function Cv(i,s,a,c){if(Ef()){const d=null===c?null:{"":-1},h=function Tv(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];if(zh(s,y.selectors,!1))if(c||(c=[]),mr(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),Sv(i,s,_.length)}else c.unshift(y),Sv(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===h?y=_=null:[y,_]=h,null!==y&&pI(i,s,a,y,d,_),d&&function ES(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new W(-301,!1);c.push(s[d],h)}}}(a,c,d)}a.mergedAttrs=$i(a.mergedAttrs,a.attrs)}function pI(i,s,a,c,d,h){for(let b=0;b<c.length;b++)Xr(Mo(a,s),i,c[b].type);!function KR(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let b=0;b<c.length;b++){const S=c[b];S.providersResolver&&S.providersResolver(S)}let y=!1,_=!1,I=Sd(i,s,c.length,null);for(let b=0;b<c.length;b++){const S=c[b];a.mergedAttrs=$i(a.mergedAttrs,S.hostAttrs),ZR(i,a,s,I,S),Av(I,S,d),null!==S.contentQueries&&(a.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(a.flags|=64);const A=S.type.prototype;!y&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),I++}!function fI(i,s,a){const d=s.directiveEnd,h=i.data,y=s.attrs,_=[];let I=null,b=null;for(let S=s.directiveStart;S<d;S++){const A=h[S],N=a?a.get(A):null,se=N?N.outputs:null;I=hI(A.inputs,S,I,N?N.inputs:null),b=hI(A.outputs,S,b,se);const _e=null===I||null===y||ji(s)?null:IS(I,S,y);_.push(_e)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=I,s.outputs=b}(i,a,h)}function _S(i,s,a){const c=a.directiveStart,d=a.directiveEnd,h=a.index,y=function Vu(){return rt.lFrame.currentDirectiveIndex}();try{To(h);for(let _=c;_<d;_++){const I=i.data[_],b=s[_];Di(_),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&wS(I,b)}}finally{To(-1),Di(y)}}function wS(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Sv(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function Av(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;mr(s)&&(a[""]=i)}}function ZR(i,s,a,c,d){i.data[c]=d;const h=d.factory||(d.factory=_s(d.type)),y=new js(h,mr(d),ac);i.blueprint[c]=y,a[c]=y,function gI(i,s,a,c,d){const h=d.hostBindings;if(h){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~s.index;(function vS(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,h)}}(i,s,c,Sd(i,a,d.hostVars,at),d)}function so(i,s,a,c,d,h){const y=Rr(i,s);!function lc(i,s,a,c,d,h,y){if(null==h)i.removeAttribute(s,d,a);else{const _=null==y?ge(h):y(h,c||"",d);i.setAttribute(s,d,_,a)}}(s[nt],y,h,i.value,a,c,d)}function QR(i,s,a,c,d,h){const y=h[s];if(null!==y)for(let _=0;_<y.length;)mI(c,a,y[_++],y[_++],y[_++])}function mI(i,s,a,c,d){const h=pn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{pn(h)}}function IS(i,s,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===c&&(c=[]);const y=i[h];for(let _=0;_<y.length;_+=2)if(y[_]===s){c.push(h,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function yI(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function vI(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c+1];if(-1!==h){const y=i.data[h];ma(a[c]),y.contentQueries(2,s[h],h)}}}function wp(i,s){return i[bu]?i[ml][bn]=s:i[bu]=s,i[ml]=s,s}function Mv(i,s,a){ma(0);const c=pn(null);try{s(i,a)}finally{pn(c)}}function _I(i){return i[ur]||(i[ur]=[])}function wI(i){return i.cleanup||(i.cleanup=[])}function xd(i,s){const a=i[gs],c=a?a.get(za,null):null;c&&c.handleError(s)}function oo(i,s,a,c,d){for(let h=0;h<a.length;){const y=a[h++],_=a[h++];mI(i.data[y],s[y],c,_,d)}}function DS(i,s){const a=Or(s,i),c=a[Ve];!function CS(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[hn];null!==d&&null===a[wi]&&(a[wi]=sp(d,a[gs])),xv(c,a,a[fn])}function xv(i,s,a){$l(s);try{const c=i.viewQuery;null!==c&&Mv(1,c,a);const d=i.template;null!==d&&yp(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&vI(i,s),i.staticViewQueries&&Mv(2,i.viewQuery,a);const h=i.components;null!==h&&function bS(i,s){for(let a=0;a<s.length;a++)DS(i,s[a])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[ot]&=-5,Sf()}}let DI=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const h=typeof Zone>"u"?null:Zone.current,y=new ey(a,b=>{this.all.has(b)&&this.queue.set(b,h)},d);let _;this.all.add(y),y.notify();const I=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:()=>new i}),i})();function Ep(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?h=_:1==h?d=Ie(d,_):2==h&&(c=Ie(c,_+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function dc(i,s,a,c,d=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&c.push(Bt(h)),Ht(h)){for(let _=Yn;_<h.length;_++){const I=h[_],b=I[Ve].firstChild;null!==b&&dc(I[Ve],I,b,c)}h[Ei]!==h[hn]&&c.push(h[Ei])}const y=a.type;if(8&y)dc(i,s,a.child,c);else if(32&y){const _=xy(a,s);let I;for(;I=_();)c.push(I)}else if(16&y){const _=vE(s,a);if(Array.isArray(_))c.push(..._);else{const I=Ra(s[on]);dc(I[Ve],I,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function Nd(i,s,a,c=!0){const d=s[Hi].rendererFactory;d.begin&&d.begin();try{Rv(i,s,i.template,a)}catch(y){throw c&&xd(s,y),y}finally{d.end&&d.end(),s[Hi].effectManager?.flush()}}function Rv(i,s,a,c){const d=s[ot];if(256!=(256&d)){s[Hi].effectManager?.flush(),$l(s);try{Ii(s),function Vl(i){return rt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&yp(i,s,a,2,c);const y=3==(3&d);if(y){const b=i.preOrderCheckHooks;null!==b&&qi(s,b,null)}else{const b=i.preOrderHooks;null!==b&&So(s,b,0,null),wn(s,0)}if(function CI(i){for(let s=Ny(i);null!==s;s=Ry(s)){if(!s[Hm])continue;const a=s[vs];for(let c=0;c<a.length;c++){Ou(a[c])}}}(s),Ip(s,2),null!==i.contentQueries&&vI(i,s),y){const b=i.contentCheckHooks;null!==b&&qi(s,b)}else{const b=i.contentHooks;null!==b&&So(s,b,1),wn(s,1)}!function lS(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=fp(s,zi);try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)To(~h);else{const y=h,_=a[++d],I=a[++d];Ul(_,y),c.runInContext(I,2,s[y])}}}finally{null===s[zi]&&oI(s,zi),To(-1)}}(i,s);const _=i.components;null!==_&&bI(s,_,0);const I=i.viewQuery;if(null!==I&&Mv(2,I,c),y){const b=i.viewCheckHooks;null!==b&&qi(s,b)}else{const b=i.viewHooks;null!==b&&So(s,b,2),wn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[ot]&=-73,yf(s)}finally{Sf()}}}function Ip(i,s){for(let a=Ny(i);null!==a;a=Ry(a))for(let c=Yn;c<a.length;c++)Dp(a[c],s)}function Ov(i,s,a){Dp(Or(s,i),a)}function Dp(i,s){if(!function mf(i){return 128==(128&i[ot])}(i))return;const a=i[Ve];if(80&i[ot]&&0===s||1024&i[ot]||2===s)Rv(a,i,a.template,i[fn]);else if(i[Ps]>0){Ip(i,1);const d=i[Ve].components;null!==d&&bI(i,d,1)}}function bI(i,s,a){for(let c=0;c<s.length;c++)Ov(i,s[c],a)}class Rd{get rootNodes(){const s=this._lView,a=s[Ve];return dc(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(s){this._lView[fn]=s}get destroyed(){return 256==(256&this._lView[ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[qt];if(Ht(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Oa(s,c),Ji(a,c))}this._attachedToViewContainer=!1}cT(this._lView[Ve],this._lView)}onDestroy(s){!function _f(i,s){if(256==(256&i[ot]))throw new W(911,!1);null===i[Eo]&&(i[Eo]=[]),i[Eo].push(s)}(this._lView,s)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-129}reattach(){this._lView[ot]|=128}detectChanges(){Nd(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aT(i,s){cd(i,s,s[nt],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=s}}class Pv extends Rd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Nd(s[Ve],s,s[fn],!1)}checkNoChanges(){}get context(){return null}}class TI extends Ed{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Mt(s);return new qa(a,this.ngModule)}}function SI(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class uo{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=G(c);const d=this.injector.get(s,Id,c);return d!==Id||a===Id?d:this.parentInjector.get(s,a,c)}}class qa extends dv{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=SI(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return SI(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Um(i){return i.map(qh).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let h=(d=d||this.ngModule)instanceof Ua?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new uo(s,h):s,_=y.get(WE,null);if(null===_)throw new W(407,!1);const S={rendererFactory:_,sanitizer:y.get(KE,null),effectManager:y.get(DI,null)},A=_.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=c?function qR(i,s,a,c){const h=c.get(mv,!1)||a===vn.ShadowDom,y=i.selectRootElement(s,h);return function hS(i){vp(i)}(y),y}(A,c,this.componentDef.encapsulation,y):ky(A,N,function AS(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(N)),Pe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ge=Md(0,null,null,1,0,null,null,null,null,null,null),de=uc(null,Ge,null,Pe,null,null,S,A,y,null,null);let ct,bt;$l(de);try{const Nt=this.componentDef;let Vr,em=null;Nt.findHostDirectiveDefs?(Vr=[],em=new Map,Nt.findHostDirectiveDefs(Nt,Vr,em),Vr.push(Nt)):Vr=[Nt];const BC=function MS(i,s){const a=i[Ve],c=mt;return i[c]=s,cc(a,c,2,"#host",null)}(de,B),lt=function xS(i,s,a,c,d,h,y){const _=d[Ve];!function kv(i,s,a,c){for(const d of i)s.mergedAttrs=$i(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Ep(s,s.mergedAttrs,!0),null!==a&&EE(c,a,s))}(c,i,s,y);let I=null;null!==s&&(I=sp(s,d[gs]));const b=h.rendererFactory.createRenderer(s,a);let S=16;a.signals?S=4096:a.onPush&&(S=64);const A=uc(d,dS(a),null,S,d[i.index],i,h,b,null,null,I);return _.firstCreatePass&&Sv(_,i,c.length-1),wp(d,A),d[i.index]=A}(BC,B,Nt,Vr,de,S,A);bt=gf(Ge,mt),B&&function NS(i,s,a,c){if(c)Cn(i,a,["ng-version",YE.full]);else{const{attrs:d,classes:h}=function da(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++c]):8===d&&a.push(h);else{if(!qr(d))break;d=h}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Cn(i,a,d),h&&h.length>0&&wE(i,a,h.join(" "))}}(A,Nt,B,c),void 0!==a&&function RS(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const h=a[d];c.push(null!=h?Array.from(h):null)}}(bt,this.ngContentSelectors,a),ct=function xI(i,s,a,c,d,h){const y=Qn(),_=d[Ve],I=Rr(y,d);pI(_,d,y,a,null,c);for(let S=0;S<a.length;S++)Er(Ws(d,_,y.directiveStart+S,y),d);_S(_,d,y),I&&Er(I,d);const b=Ws(d,_,y.directiveStart+y.componentOffset,y);if(i[fn]=d[fn]=b,null!==h)for(const S of h)S(b,s);return Iv(_,y,i),b}(lt,Nt,Vr,em,de,[NI]),xv(Ge,de,null)}finally{Sf()}return new AI(this.componentType,ct,jo(bt,de),de,bt)}}class AI extends io{constructor(s,a,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Pv(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const h=this._rootLView;oo(h[Ve],h,d,s,a),this.previousInputValues.set(s,a),Dd(Or(this._tNode.index,h))}}get injector(){return new Ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function NI(){const i=Qn();Xn(he()[Ve],i)}function Cp(i){let s=function RI(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(mr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new W(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=bp(i.inputs),y.inputTransforms=bp(i.inputTransforms),y.declaredInputs=bp(i.declaredInputs),y.outputs=bp(i.outputs);const _=d.hostBindings;_&&Tp(i,_);const I=d.viewQuery,b=d.contentQueries;if(I&&PS(i,I),b&&kS(i,b),je(i.inputs,d.inputs),je(i.declaredInputs,d.declaredInputs),je(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),je(y.inputTransforms,d.inputTransforms)),mr(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let y=0;y<h.length;y++){const _=h[y];_&&_.ngInherit&&_(i),_===Cp&&(a=!1)}}s=Object.getPrototypeOf(s)}!function OS(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=$i(d.hostAttrs,a=$i(a,d.hostAttrs))}}(c)}function bp(i){return i===_n?{}:i===Dt?[]:i}function PS(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function kS(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,h)=>{s(c,d,h),a(c,d,h)}:s}function Tp(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function kI(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function fc(i){return!!Od(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Od(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function er(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function $v(i,s,a,c){const d=he();return er(d,Gi(),s)&&(At(),so(en(),d,i,s,a,c)),$v}function YS(i,s,a,c,d,h,y,_){const I=he(),b=At(),S=i+mt,A=b.firstCreatePass?function s1(i,s,a,c,d,h,y,_,I){const b=s.consts,S=cc(s,i,4,y||null,Kr(b,_));Cv(s,a,S,Kr(b,I)),Xn(s,S);const A=S.tView=Md(2,S,c,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,b,null);return null!==s.queries&&(s.queries.template(s,S),A.queries=s.queries.embeddedTView(S)),S}(S,b,I,s,a,c,d,h,y):b.data[S];Zr(A,!1);const N=Fp(b,I,A,i);Hl()&&Hf(b,I,N,A),Er(N,I),wp(I,I[S]=yI(N,I,N,A)),Do(A)&&Ad(b,I,A),null!=y&&Dv(I,A,_)}let Fp=function QS(i,s,a,c){return $s(!0),s[nt].createComment("")};function jI(i){return Us(function Cf(){return rt.lFrame.contextLView}(),mt+i)}function Jv(i,s,a){const c=he();return er(c,Gi(),s)&&function ti(i,s,a,c,d,h,y,_){const I=Rr(s,a);let S,b=s.inputs;!_&&null!=b&&(S=b[c])?(oo(i,a,S,c,d),Io(s)&&function yS(i,s){const a=Or(s,i);16&a[ot]||(a[ot]|=64)}(a,s.index)):3&s.type&&(c=function mS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,h.setProperty(I,c,d))}(At(),en(),c,i,s,c[nt],a,!1),Jv}function Xv(i,s,a,c,d){const y=d?"class":"style";oo(i,a,s.inputs[y],y,c)}function Tn(i,s,a,c){const d=he(),h=At(),y=mt+i,_=d[nt],I=h.firstCreatePass?function e_(i,s,a,c,d,h){const y=s.consts,I=cc(s,i,2,c,Kr(y,d));return Cv(s,a,I,Kr(y,h)),null!==I.attrs&&Ep(I,I.attrs,!1),null!==I.mergedAttrs&&Ep(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,h,d,s,a,c):h.data[y],b=HI(h,d,I,_,s,i);d[y]=b;const S=Do(I);return Zr(I,!0),EE(_,b,I),32!=(32&I.flags)&&Hl()&&Hf(h,d,b,I),0===function Pu(){return rt.lFrame.elementDepthCount}()&&Er(b,d),function Pl(){rt.lFrame.elementDepthCount++}(),S&&(Ad(h,d,I),Iv(h,I,d)),null!==c&&Dv(d,I),Tn}function Vp(){let i=Qn();Fl()?function pa(){rt.lFrame.isParent=!1}():(i=i.parent,Zr(i,!1));const s=i;(function oy(i){return rt.skipHydrationRootTNode===i})(s)&&function uy(){rt.skipHydrationRootTNode=null}(),function ku(){rt.lFrame.elementDepthCount--}();const a=At();return a.firstCreatePass&&(Xn(a,i),Su(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function xt(i){return 0!=(8&i.flags)}(s)&&Xv(a,s,he(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function gy(i){return 0!=(16&i.flags)}(s)&&Xv(a,s,he(),s.stylesWithoutHost,!1),Vp}function lr(i,s,a,c){return Tn(i,s,a,c),Vp(),lr}let HI=(i,s,a,c,d,h)=>($s(!0),ky(c,d,function fy(){return rt.lFrame.currentNamespace}()));function qI(){return he()}function i_(i){return!!i&&"function"==typeof i.then}function WI(i){return!!i&&"function"==typeof i.subscribe}function s_(i,s,a,c){const d=he(),h=At(),y=Qn();return function YI(i,s,a,c,d,h,y){const _=Do(c),b=i.firstCreatePass&&wI(i),S=s[fn],A=_I(s);let N=!0;if(3&c.type||y){const _e=Rr(c,s),Pe=y?y(_e):_e,Ge=A.length,de=y?bt=>y(Bt(bt[c.index])):c.index;let ct=null;if(!y&&_&&(ct=function ZI(i,s,a,c){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const y=d[h];if(y===a&&d[h+1]===c){const _=s[ur],I=d[h+2];return _.length>I?_[I]:null}"string"==typeof y&&(h+=2)}return null}(i,s,d,c.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=h,ct.__ngLastListenerFn__=h,N=!1;else{h=Bp(c,s,S,h,!1);const bt=a.listen(Pe,d,h);A.push(h,bt),b&&b.push(d,de,Ge,Ge+1)}}else h=Bp(c,s,S,h,!1);const B=c.outputs;let se;if(N&&null!==B&&(se=B[d])){const _e=se.length;if(_e)for(let Pe=0;Pe<_e;Pe+=2){const Nt=s[se[Pe]][se[Pe+1]].subscribe(h),Vr=A.length;A.push(h,Nt),b&&b.push(d,c.index,Vr,-(Vr+1))}}}(h,d,d[nt],y,i,s,c),s_}function QI(i,s,a,c){try{return Nr(6,s,a),!1!==a(c)}catch(d){return xd(i,d),!1}finally{Nr(7,s,a)}}function Bp(i,s,a,c,d){return function h(y){if(y===Function)return c;Dd(i.componentOffset>-1?Or(i.index,s):s);let I=QI(s,a,c,y),b=h.__ngNextListenerFn__;for(;b;)I=QI(s,a,b,y)&&I,b=b.__ngNextListenerFn__;return d&&!1===I&&y.preventDefault(),I}}function JI(i=1){return function jl(i){return(rt.lFrame.contextLView=function zw(i,s){for(;i>0;)s=s[wo],i--;return s}(i,rt.lFrame.contextLView))[fn]}(i)}function Gp(i,s){return i<<17|s<<2}function Ss(i){return i>>17&32767}function l_(i){return 2|i}function ho(i){return(131068&i)>>2}function Vd(i,s){return-131069&i|s<<2}function qp(i){return 1|i}function aD(i,s,a,c,d){const h=i[a+1],y=null===s;let _=c?Ss(h):ho(h),I=!1;for(;0!==_&&(!1===I||y);){const S=i[_+1];As(i[_],s)&&(I=!0,i[_+1]=c?qp(S):l_(S)),_=c?Ss(S):ho(S)}I&&(i[a+1]=c?l_(h):qp(h))}function As(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Po(i,s)>=0}function Ud(i,s){return function ns(i,s,a,c){const d=he(),h=At(),y=function Yr(i){const s=rt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);h.firstUpdatePass&&function g_(i,s,a,c){const d=i.data;if(null===d[a+1]){const h=d[yr()],y=function p_(i,s){return s>=i.expandoStartIndex}(i,a);(function vc(i,s){return 0!=(i.flags&(s?8:16))})(h,c)&&null===s&&!y&&(s=!1),s=function uA(i,s,a,c){const d=function ga(i){const s=rt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Bd(a=Qp(null,i,s,a,c),s.attrs,c),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Qp(d,i,s,a,c),null===h){let I=function cA(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==ho(c))return i[Ss(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=Qp(null,i,s,I[1],c),I=Bd(I,s.attrs,c),function Yp(i,s,a,c){i[Ss(a?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else h=function lA(i,s,a){let c;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)c=Bd(c,i[h].hostAttrs,a);return Bd(c,s.attrs,a)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,c),function rA(i,s,a,c,d,h){let y=h?s.classBindings:s.styleBindings,_=Ss(y),I=ho(y);i[c]=a;let S,b=!1;if(Array.isArray(a)?(S=a[1],(null===S||Po(a,S)>0)&&(b=!0)):S=a,d)if(0!==I){const N=Ss(i[_+1]);i[c+1]=Gp(N,_),0!==N&&(i[N+1]=Vd(i[N+1],c)),i[_+1]=function c_(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=Gp(_,0),0!==_&&(i[_+1]=Vd(i[_+1],c)),_=c;else i[c+1]=Gp(I,0),0===_?_=c:i[I+1]=Vd(i[I+1],c),I=c;b&&(i[c+1]=l_(i[c+1])),aD(i,S,c,!0),aD(i,S,c,!1),function d_(i,s,a,c,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Po(h,s)>=0&&(a[c+1]=qp(a[c+1]))}(s,S,i,c,h),y=Gp(_,I),h?s.classBindings=y:s.styleBindings=y}(d,h,s,a,y,c)}}(h,i,y,c),s!==at&&er(d,y,s)&&function dD(i,s,a,c,d,h,y,_){if(!(3&s.type))return;const I=i.data,b=I[_+1],S=function sD(i){return 1==(1&i)}(b)?hA(I,s,a,d,ho(b),y):void 0;Jp(S)||(Jp(h)||function nA(i){return 2==(2&i)}(b)&&(h=hA(I,null,a,d,_,y)),function pT(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let h=-1===c.indexOf("-")?void 0:Vf.DashCase;null==d?i.removeStyle(a,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=Vf.Important),i.setStyle(a,c,d,h))}}(c,y,bo(yr(),a),d,h))}(h,h.data[yr()],d,d[nt],i,d[y+1]=function d1(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Re($o(i)))),i}(s,a),c,y)}(i,s,null,!0),Ud}function Qp(i,s,a,c,d){let h=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(h=s[_],c=Bd(c,h.hostAttrs,d),h!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function Bd(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Un(i,y,!!a||s[++h]))}return void 0===i?null:i}function hA(i,s,a,c,d,h){const y=null===s;let _;for(;d>0;){const I=i[d],b=Array.isArray(I),S=b?I[1]:I,A=null===S;let N=a[d+1];N===at&&(N=A?Dt:void 0);let B=A?Oo(N,c):S===c?N:void 0;if(b&&!Jp(B)&&(B=Oo(I,c)),Jp(B)&&(_=B,y))return _;const se=i[d+1];d=y?Ss(se):ho(se)}if(null!==s){let I=h?s.residualClasses:s.residualStyles;null!=I&&(_=Oo(I,c))}return _}function Jp(i){return void 0!==i}function Qa(i,s=""){const a=he(),c=At(),d=i+mt,h=c.firstCreatePass?cc(c,d,1,s,null):c.data[d],y=_c(c,a,h,s,i);a[d]=y,Hl()&&Hf(c,a,y,h),Zr(h,!1)}let _c=(i,s,a,c,d)=>($s(!0),function Py(i,s){return i.createText(s)}(s[nt],c));function $d(i){return wc("",i,""),$d}function wc(i,s,a){const c=he(),d=function pc(i,s,a,c){return er(i,Gi(),a)?s+ge(a)+c:at}(c,i,s,a);return d!==at&&function ao(i,s,a){const c=bo(s,i);!function sT(i,s,a){i.setValue(s,a)}(i[nt],c,a)}(c,yr(),d),wc}const Dc=void 0;var wD=["en",[["a","p"],["AM","PM"],Dc],[["AM","PM"],Dc,Dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dc,"{1} 'at' {0}",Dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E_(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Cc={};function I_(i){const s=function ID(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ED(s);if(a)return a;const c=s.split("-")[0];if(a=ED(c),a)return a;if("en"===c)return wD;throw new W(701,!1)}function sg(i){return I_(i)[bc.PluralCase]}function ED(i){return i in Cc||(Cc[i]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[i]),Cc[i]}var bc=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(bc||{});const Tc="en-US";let jd=Tc;function $_(i,s,a,c,d){if(i=we(i),Array.isArray(i))for(let h=0;h<i.length;h++)$_(i[h],s,a,c,d);else{const h=At(),y=he();let _=oc(i)?i:we(i.provide),I=zT(i);const b=Qn(),S=1048575&b.providerIndexes,A=b.directiveStart,N=b.providerIndexes>>20;if(oc(i)||!i.multi){const B=new js(I,d,ac),se=j_(_,s,d?S:S+N,A);-1===se?(Xr(Mo(b,y),h,_),zD(h,i,s.length),s.push(_),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(B),y.push(B)):(a[se]=B,y[se]=B)}else{const B=j_(_,s,S+N,A),se=j_(_,s,S,S+N),Pe=se>=0&&a[se];if(d&&!Pe||!d&&!(B>=0&&a[B])){Xr(Mo(b,y),h,_);const Ge=function T1(i,s,a,c,d){const h=new js(i,a,ac);return h.multi=[],h.index=s,h.componentProviders=0,KA(h,d,c&&!a),h}(d?b1:C1,a.length,d,c,I);!d&&Pe&&(a[se].providerFactory=Ge),zD(h,i,s.length,0),s.push(_),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(Ge),y.push(Ge)}else zD(h,i,B>-1?B:se,KA(a[d?se:B],I,!d&&c));!d&&c&&Pe&&a[se].componentProviders++}}}function zD(i,s,a,c){const d=oc(s),h=function FE(i){return!!i.useClass}(s);if(d||h){const I=(h?we(s.useClass):s).prototype.ngOnDestroy;if(I){const b=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const S=b.indexOf(a);-1===S?b.push(a,[c,I]):b[S+1].push(c,I)}else b.push(a,I)}}}function KA(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function j_(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function C1(i,s,a,c){return GD(this.multi,[])}function b1(i,s,a,c){const d=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=Ws(a,a[Ve],this.providerFactory.index,c);h=_.slice(0,y),GD(d,h);for(let I=y;I<_.length;I++)h.push(_[I])}else h=[],GD(d,h);return h}function GD(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ZA(i,s=[]){return a=>{a.providersResolver=(c,d)=>function WA(i,s,a){const c=At();if(c.firstCreatePass){const d=mr(i);$_(a,c.data,c.blueprint,d,!0),$_(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class xc{}class H_{}function z_(i,s){return new qD(i,s??null,[])}class qD extends xc{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TI(this);const d=ar(s);this._bootstrapComponents=ts(d.bootstrap),this._r3Injector=cI(s,a,[{provide:xc,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver},...c],Re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zd extends H_{constructor(s){super(),this.moduleType=s}create(s){return new qD(this.moduleType,s,[])}}class WD extends xc{constructor(s){super(),this.componentFactoryResolver=new TI(this),this.instance=null;const a=new rv([...s.providers,{provide:xc,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver}],s.parent||ep(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function KD(i,s,a=null){return new WD({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let JA=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=NE(0,a.type),d=c.length>0?KD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=dt({token:i,providedIn:"environment",factory:()=>new i(O(Ua))}),i})();function ZD(i){i.getStandaloneInjector=s=>s.get(JA).getOrCreateStandaloneInjector(i)}function oM(i,s,a,c){return aM(he(),Jn(),i,s,a,c)}function aM(i,s,a,c,d,h){const y=s+a;return er(i,y,d)?function Ai(i,s,a){return i[s]=a}(i,y+1,h?c.call(h,d):c(d)):function pg(i,s){const a=i[s];return a===at?void 0:a}(i,y+1)}function hM(i,s){const a=At();let c;const d=i+mt;a.firstCreatePass?(c=function H1(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const h=c.factory||(c.factory=_s(c.type)),y=Ot(ac);try{const _=Bu(!1),I=h();return Bu(_),function JS(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,he(),d,I),I}finally{Ot(y)}}function fM(i,s,a){const c=i+mt,d=he(),h=Us(d,c);return function gg(i,s){return i[Ve].data[s].pure}(d,c)?aM(d,Jn(),s,h.transform,a,h):h.transform(a)}function YD(i){return s=>{setTimeout(i,void 0,s)}}const go=class K1 extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,h=a||(()=>null),y=c;if(s&&"object"==typeof s){const I=s;d=I.next?.bind(I),h=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(h=YD(h),d&&(d=YD(d)),y&&(y=YD(y)));const _=super.subscribe({next:d,error:h,complete:y});return s instanceof P.w0&&s.add(_),_}};function Z1(){return this._results[Symbol.iterator]()}class QD{get changes(){return this._changes||(this._changes=new go)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=QD.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Z1)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function kr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ey(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],h=s[c];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mg=(()=>{class i{}return i.__NG_ELEMENT_ID__=J1,i})();const Y1=mg,Q1=class extends Y1{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,c){const y=this._declarationTContainer.tView,_=uc(this._declarationLView,y,s,4096&this._declarationLView[ot]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);_[ks]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[_i];return null!==b&&(_[_i]=b.createEmbeddedView(y)),xv(y,_,s),new Rd(_)}};function J1(){return q_(Qn(),he())}function q_(i,s){return 4&i.type?new Q1(s,i,jo(i,s)):null}let Nc=(()=>{class i{}return i.__NG_ELEMENT_ID__=mM,i})();function mM(){return Bn(Qn(),he())}const yM=Nc,XD=class extends yM{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new Ks(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ki(this._hostTNode,this._hostLView);if(ws(s)){const a=Uu(s,this._hostLView),c=Ao(s);return new Ks(a[Ve].data[c+8],a)}return new Ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=dr(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(s,a,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const _=s.createEmbeddedViewImpl(a||{},h,null);return this.insertImpl(_,d,false),_}createComponent(s,a,c,d,h){const y=s&&!function No(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const _e=a||{};_=_e.index,c=_e.injector,d=_e.projectableNodes,h=_e.environmentInjector||_e.ngModuleRef}const I=y?s:new qa(Mt(s)),b=c||this.parentInjector;if(!h&&null==I.ngModule){const Pe=(y?b:this.parentInjector).get(Ua,null);Pe&&(h=Pe)}Mt(I.componentType??{});const B=I.create(b,d,null,h);return this.insertImpl(B.hostView,_,false),B}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView,h=d[Ve];if(function sy(i){return Ht(i[qt])}(d)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const b=d[qt],S=new XD(b,b[Ln],b[qt]);S.detach(S.indexOf(s))}}const y=this._adjustIndex(a),_=this._lContainer;if(function Fy(i,s,a,c){const d=Yn+c,h=a.length;c>0&&(a[d-1][bn]=s),c<h-Yn?(s[bn]=a[d],Ia(a,Yn+c,s)):(a.push(s),s[bn]=null),s[qt]=a;const y=s[ks];null!==y&&a!==y&&function Xi(i,s){const a=i[vs];s[on]!==s[qt][qt][on]&&(i[Hm]=!0),null===a?i[vs]=[s]:a.push(s)}(y,s);const _=s[_i];null!==_&&_.insertView(i),s[ot]|=128}(h,d,_,y),!c){const I=Gf(y,_),b=d[nt],S=Bo(b,_[Ei]);null!==S&&function OR(i,s,a,c,d,h){c[hn]=d,c[Ln]=s,cd(i,c,a,1,d,h)}(h,_[Ln],b,d,S,I)}return s.attachToViewContainerRef(),Ia(Rc(_),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=dr(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Oa(this._lContainer,a);c&&(Ji(Rc(this._lContainer),a),cT(c[Ve],c))}detach(s){const a=this._adjustIndex(s,-1),c=Oa(this._lContainer,a);return c&&null!=Ji(Rc(this._lContainer),a)?new Rd(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function dr(i){return i[8]}function Rc(i){return i[8]||(i[8]=[])}function Bn(i,s){let a;const c=s[i.index];return Ht(c)?a=c:(a=yI(c,s,null,i),s[i.index]=a,wp(s,a)),eC(a,s,i,c),new XD(a,i,s)}let eC=function K_(i,s,a,c){if(i[Ei])return;let d;d=8&a.type?Bt(c):function ea(i,s){const a=i[nt],c=a.createComment(""),d=Rr(s,i);return Pa(a,Bo(a,d),c,function ud(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[Ei]=d};class tr{constructor(s){this.queryList=s,this.matches=null}clone(){return new tr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<c;h++){const y=a.getByIndex(h);d.push(this.queries[y.indexInDeclarationView].clone())}return new Y_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==r0(s,a).matches&&this.queries[a].setDirty()}}class Oc{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Pc{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,h=this.getByIndex(c).embeddedTView(s,d);h&&(h.indexInDeclarationView=c,null!==a?a.push(h):a=[h])}return null!==a?new Pc(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mi{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Mi(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(s,a,Q_(a,h)),this.matchTNodeWithReadOption(s,a,di(a,s,h,!1,!1))}else c===mg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,di(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ha||d===Nc||d===mg&&4&a.type)this.addMatch(a.index,-2);else{const h=di(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Q_(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function _M(i,s,a,c){return-1===a?function vM(i,s){return 11&i.type?jo(i,s):4&i.type?q_(i,s):null}(s,i):-2===a?function kc(i,s,a){return a===Ha?jo(s,i):a===mg?q_(s,i):a===Nc?Bn(s,i):void 0}(i,s,c):Ws(i,i[Ve],a,s)}function J_(i,s,a,c){const d=s[_i].queries[c];if(null===d.matches){const h=i.data,y=a.matches,_=[];for(let I=0;I<y.length;I+=2){const b=y[I];_.push(b<0?null:_M(s,h[b],y[I+1],a.metadata.read))}d.matches=_}return d.matches}function Qd(i,s,a,c){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const y=J_(i,s,d,a);for(let _=0;_<h.length;_+=2){const I=h[_];if(I>0)c.push(y[_/2]);else{const b=h[_+1],S=s[-I];for(let A=Yn;A<S.length;A++){const N=S[A];N[ks]===N[qt]&&Qd(N[Ve],N,b,c)}if(null!==S[vs]){const A=S[vs];for(let N=0;N<A.length;N++){const B=A[N];Qd(B[Ve],B,b,c)}}}}}return c}function X_(i){const s=he(),a=At(),c=Bl();ma(c+1);const d=r0(a,c);if(i.dirty&&function iy(i){return 4==(4&i[ot])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?Qd(a,s,c,[]):J_(a,s,d,c);i.reset(h,tS),i.notifyOnChanges()}return!0}return!1}function e0(i,s,a,c){const d=At();if(d.firstCreatePass){const h=Qn();(function wg(i,s,a){null===i.queries&&(i.queries=new Pc),i.queries.track(new Mi(s,a))})(d,new Oc(s,a,c),h.index),function n0(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function _g(i,s,a){const c=new QD(4==(4&a));(function pS(i,s,a,c){const d=_I(s);d.push(a),i.firstCreatePass&&wI(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[_i]&&(s[_i]=new Y_),s[_i].queries.push(new tr(c))}(d,he(),a)}function vg(){return function t0(i,s){return i[_i].queries[s].queryList}(he(),Bl())}function r0(i,s){return i.queries.getByIndex(s)}function o0(i){return!!ar(i)}const w0=new $t("Application Initializer");let nu=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Q(w0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const h=d();if(i_(h))a.push(h);else if(WI(h)){const y=new Promise((_,I)=>{h.subscribe({complete:_,error:I})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),E0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const nh=new $t("LocaleId",{providedIn:"root",factory:()=>Q(nh,st.Optional|st.SkipSelf)||function Lr(){return typeof $localize<"u"&&$localize.locale||Tc}()}),rh=new $t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let C0=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class dC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ih=(()=>{class i{compileModuleSync(a){return new Zd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),h=ts(ar(a).declarations).reduce((y,_)=>{const I=Mt(_);return I&&y.push(new qa(I)),y},[]);return new dC(c,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ng(...i){}class Cr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new go(!1),this.onMicrotaskEmpty=new go(!1),this.onStable=new go(!1),this.onError=new go(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Rg(){const i="function"==typeof Xt.requestAnimationFrame;let s=Xt[i?"requestAnimationFrame":"setTimeout"],a=Xt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function oh(i){const s=()=>{!function RM(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Pg(i),i.isCheckStableRunning=!0,Og(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Pg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,h,y,_)=>{try{return ah(i),a.invokeTask(d,h,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),jc(i)}},onInvoke:(a,c,d,h,y,_,I)=>{try{return ah(i),a.invoke(d,h,y,_,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),jc(i)}},onHasTask:(a,c,d,h)=>{a.hasTask(d,h),c===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Pg(i),Og(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,c,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new W(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+d,s,pC,Ng,Ng);try{return h.runTask(y,a,c)}finally{h.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const pC={};function Og(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Pg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ah(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function jc(i){i._nesting--,Og(i)}class ru{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new go,this.onMicrotaskEmpty=new go,this.onStable=new go,this.onError=new go}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const kg=new $t("",{providedIn:"root",factory:gC});function gC(){const i=Q(Cr);let s=!0;const a=new te.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new te.y(d=>{let h;i.runOutsideAngular(()=>{h=i.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}});return(0,le.T)(a,c.pipe((0,Ae.B)()))}const mC=new $t(""),S0=new $t("");let is,yC=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,is||(function iu(i){is=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(O(Cr),O(vC),O(S0))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),vC=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return is?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),ss=null;const uh=new $t("AllowMultipleToken"),Fg=new $t("PlatformDestroyListeners"),Yt=new $t("appBootstrapListener");class _C{constructor(s,a){this.name=s,this.token=a}}function zc(i,s,a=[]){const c=`Platform: ${s}`,d=new $t(c);return(h=[])=>{let y=Ug();if(!y||y.injector.get(uh,!1)){const _=[...a,...h,{provide:d,useValue:!0}];i?i(_):function PM(i){if(ss&&!ss.get(uh,!1))throw new W(400,!1);(function Hc(){!function uf(i){Ml=i}(()=>{throw new W(600,!1)})})(),ss=i;const s=i.get(su);(function wC(i){i.get(BE,null)?.forEach(a=>a())})(i)}(function A0(i=[],s){return qo.create({name:s,providers:[{provide:tv,useValue:"platform"},{provide:Fg,useValue:new Set([()=>ss=null])},...i]})}(_,c))}return function na(i){const s=Ug();if(!s)throw new W(401,!1);return s}()}}function Ug(){return ss?.get(su)??null}let su=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function LM(i="zone.js",s){return"noop"===i?new ru:"zone.js"===i?new Cr(s):i}(c?.ngZone,function EC(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const h=function QA(i,s,a){return new qD(i,s,a)}(a.moduleType,this.injector,function bC(i){return[{provide:Cr,useFactory:i},{provide:Jf,multi:!0,useFactory:()=>{const s=Q(CC,{optional:!0});return()=>s.initialize()}},{provide:$g,useFactory:DC},{provide:kg,useFactory:gC}]}(()=>d)),y=h.injector.get(za,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:I=>{y.handleError(I)}});h.onDestroy(()=>{ch(this._modules,h),_.unsubscribe()})}),function M0(i,s,a){try{const c=a();return i_(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const _=h.injector.get(nu);return _.runInitializers(),_.donePromise.then(()=>(function Hd(i){ht(i,"Expected localeId to be defined"),"string"==typeof i&&(jd=i.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nh,Tc)||Tc),this._moduleDoBootstrap(h),h))})})}bootstrapModule(a,c=[]){const d=IC({},c);return function Lg(i,s,a){const c=new Zd(a);return Promise.resolve(c)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const c=a.injector.get(ou);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new W(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Fg,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(O(qo))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function IC(i,s){return Array.isArray(s)?s.reduce(IC,i):{...i,...s}}let ou=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Q($g),this.zoneIsStable=Q(kg),this.componentTypes=[],this.components=[],this.isStable=Q(C0).hasPendingTasks.pipe((0,Fe.w)(a=>a?(0,ye.of)(!1):this.zoneIsStable),function X(i,s=be.y){return i=i??xe,(0,L.e)((a,c)=>{let d,h=!0;a.subscribe((0,V.x)(c,y=>{const _=s(y);(h||!i(d,_))&&(h=!1,d=_,c.next(y))}))})}(),(0,Ae.B)()),this._injector=Q(Ua)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof dv;if(!this._injector.get(nu).done)throw!d&&ps(a),new W(405,!1);let y;y=d?a:this._injector.get(Ed).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function OM(i){return i.isBoundToModule}(y)?void 0:this._injector.get(xc),b=y.create(qo.NULL,[],c||y.selector,_),S=b.location.nativeElement,A=b.injector.get(mC,null);return A?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),ch(this.components,b),A?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ch(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Yt,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ch(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new W(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ch(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const $g=new $t("",{providedIn:"root",factory:()=>Q(za).handleError.bind(void 0)});function DC(){const i=Q(Cr),s=Q(za);return a=>i.runOutsideAngular(()=>s.handleError(a))}let CC=(()=>{class i{constructor(){this.zone=Q(Cr),this.applicationRef=Q(ou)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function UM(){return!1}let TC=(()=>{class i{}return i.__NG_ELEMENT_ID__=lh,i})();function lh(i){return function dh(i,s,a){if(Io(i)&&!a){const c=Or(i.index,s);return new Rd(c,c)}return 47&i.type?new Rd(s[on],s):null}(Qn(),he(),16==(16&i))}class mh{constructor(){}supports(s){return fc(s)}create(s){return new NC(s)}}const HM=(i,s)=>s;class NC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||HM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,h=null;for(;a||c;){const y=!c||a&&a.currentIndex<Gg(c,d,h)?a:c,_=Gg(y,d,h),I=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{h||(h=[]);const b=_-d,S=I-d;if(b!=S){for(let N=0;N<b;N++){const B=N<h.length?h[N]:h[N]=0,se=B+N;S<=se&&se<b&&(h[N]=B+1)}h[y.previousIndex]=S-b}}_!==I&&s(y,_,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!fc(s))throw new W(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],y=this._trackByFn(_,h),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,h,y,_)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,_),c=!0),a=a._next}else d=0,function FI(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new yh(a,c),h,d),s}_verifyReinsertion(s,a,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new P0),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class yh{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class P0{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new RC,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gg(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class qg{constructor(){}supports(s){return s instanceof Map||Od(s)}create(){return new OC}}class OC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Od(s)))throw new W(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,y=d._next;return h&&(h._next=y),y&&(y._prev=h),d._next=null,d._prev=null,d}const c=new Wg(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class Wg{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function k0(){return new Kg([new mh])}let Kg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||k0()),deps:[[i,new td,new Fo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new W(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:k0}),i})();function F0(){return new Zg([new qg])}let Zg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||F0()),deps:[[i,new td,new Fo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new W(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:F0}),i})();const FC=zc(null,"core",[]);let LC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(O(ou))},i.\u0275mod=Zh({type:i}),i.\u0275inj=pr({}),i})();function WM(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function nr(i){const s=Mt(i);if(!s)return null;const a=new qa(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(Ke,me,R)=>{R.d(me,{Z:()=>je});var p=R(9058),P=R(4537),ee=R(534),te=R(7879);class le{constructor(Ie,Te){this._delegate=Ie,this.firebase=Te,(0,ee._addComponent)(Ie,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Ie,Te=ee._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(Ie);return!we.isInitialized()&&"EXPLICIT"===(null===(He=we.getComponent())||void 0===He?void 0:He.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Te})}_removeServiceInstance(Ie,Te=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(Te)}_addComponent(Ie){(0,ee._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,ee._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function be(){const Re=function Fe(Re){const Ie={},Te={__esModule:!0,initializeApp:function fe(W,H={}){const ge=ee.initializeApp(W,H);if((0,p.r3)(Ie,ge.name))return Ie[ge.name];const Ne=new Re(ge,Te);return Ie[ge.name]=Ne,Ne},app:we,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function pe(W){const H=W.name,ge=H.replace("-compat","");if(ee._registerComponent(W)&&"PUBLIC"===W.type){const Ne=(tn=we())=>{if("function"!=typeof tn[ge])throw Ae.create("invalid-app-argument",{appName:H});return tn[ge]()};void 0!==W.serviceProps&&(0,p.ZB)(Ne,W.serviceProps),Te[ge]=Ne,Re.prototype[ge]=function(...tn){return this._getService.bind(this,H).apply(this,W.multipleInstances?tn:[])}}return"PUBLIC"===W.type?Te[ge]:null},removeApp:function He(W){delete Ie[W]},useAsService:function Me(W,H){return"serverAuth"===H?null:H},modularAPIs:ee}};function we(W){if(!(0,p.r3)(Ie,W=W||ee._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:W});return Ie[W]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function ue(){return Object.keys(Ie).map(W=>Ie[W])}}),we.App=Re,Te}(le);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Ie(Te){(0,p.ZB)(Re,Te)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Re}(),V=new te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=L;!function ae(Re){(0,ee.registerVersion)("@firebase/app-compat","0.2.13",Re)}()},534:(Ke,me,R)=>{R.r(me),R.d(me,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>_o,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>st,_addOrOverwriteComponent:()=>gr,_apps:()=>ft,_clearComponents:()=>Gt,_components:()=>kn,_getProvider:()=>Ot,_registerComponent:()=>Hr,_removeServiceInstance:()=>Vi,deleteApp:()=>Mr,getApp:()=>ui,getApps:()=>zr,initializeApp:()=>Ui,onLog:()=>Fn,registerVersion:()=>Gr,setLogLevel:()=>hs});var p=R(5861),P=R(4537),ee=R(7879),te=R(9058);const le=(ne,z)=>z.some(ve=>ne instanceof ve);let ye,Ae;const L=new WeakMap,V=new WeakMap,X=new WeakMap,xe=new WeakMap,ae=new WeakMap;let Ie={get(ne,z,ve){if(ne instanceof IDBTransaction){if("done"===z)return V.get(ne);if("objectStoreNames"===z)return ne.objectStoreNames||X.get(ne);if("store"===z)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return fe(ne[z])},set:(ne,z,ve)=>(ne[z]=ve,!0),has:(ne,z)=>ne instanceof IDBTransaction&&("done"===z||"store"===z)||z in ne};function we(ne){return"function"==typeof ne?function He(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...z){return ne.apply(ue(this),z),fe(L.get(this))}:function(...z){return fe(ne.apply(ue(this),z))}:function(z,...ve){const Be=ne.call(ue(this),z,...ve);return X.set(Be,z.sort?z.sort():[z]),fe(Be)}}(ne):(ne instanceof IDBTransaction&&function Re(ne){if(V.has(ne))return;const z=new Promise((ve,Be)=>{const et=()=>{ne.removeEventListener("complete",gt),ne.removeEventListener("error",Pt),ne.removeEventListener("abort",Pt)},gt=()=>{ve(),et()},Pt=()=>{Be(ne.error||new DOMException("AbortError","AbortError")),et()};ne.addEventListener("complete",gt),ne.addEventListener("error",Pt),ne.addEventListener("abort",Pt)});V.set(ne,z)}(ne),le(ne,function Fe(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Ie):ne)}function fe(ne){if(ne instanceof IDBRequest)return function je(ne){const z=new Promise((ve,Be)=>{const et=()=>{ne.removeEventListener("success",gt),ne.removeEventListener("error",Pt)},gt=()=>{ve(fe(ne.result)),et()},Pt=()=>{Be(ne.error),et()};ne.addEventListener("success",gt),ne.addEventListener("error",Pt)});return z.then(ve=>{ve instanceof IDBCursor&&L.set(ve,ne)}).catch(()=>{}),ae.set(z,ne),z}(ne);if(xe.has(ne))return xe.get(ne);const z=we(ne);return z!==ne&&(xe.set(ne,z),ae.set(z,ne)),z}const ue=ne=>ae.get(ne),W=["get","getKey","getAll","getAllKeys","count"],H=["put","add","delete","clear"],ge=new Map;function Ne(ne,z){if(!(ne instanceof IDBDatabase)||z in ne||"string"!=typeof z)return;if(ge.get(z))return ge.get(z);const ve=z.replace(/FromIndex$/,""),Be=z!==ve,et=H.includes(ve);if(!(ve in(Be?IDBIndex:IDBObjectStore).prototype)||!et&&!W.includes(ve))return;const gt=function(){var Pt=(0,p.Z)(function*(Cn,...sn){const Bi=this.transaction(Cn,et?"readwrite":"readonly");let $i=Bi.store;return Be&&($i=$i.index(sn.shift())),(yield Promise.all([$i[ve](...sn),et&&Bi.done]))[0]});return function(sn){return Pt.apply(this,arguments)}}();return ge.set(z,gt),gt}!function Te(ne){Ie=ne(Ie)}(ne=>({...ne,get:(z,ve,Be)=>Ne(z,ve)||ne.get(z,ve,Be),has:(z,ve)=>!!Ne(z,ve)||ne.has(z,ve)}));class tn{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function jr(ne){const z=ne.getComponent();return"VERSION"===z?.type}(ve)){const Be=ve.getImmediate();return`${Be.library}/${Be.version}`}return null}).filter(ve=>ve).join(" ")}}const ki="@firebase/app",Jt=new ee.Yd("@firebase/app"),nn="[DEFAULT]",vt={[ki]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,kn=new Map;function st(ne,z){try{ne.container.addComponent(z)}catch(ve){Jt.debug(`Component ${z.name} failed to register with FirebaseApp ${ne.name}`,ve)}}function gr(ne,z){ne.container.addOrOverwriteComponent(z)}function Hr(ne){const z=ne.name;if(kn.has(z))return Jt.debug(`There were multiple attempts to register component ${z}.`),!1;kn.set(z,ne);for(const ve of ft.values())st(ve,ne);return!0}function Ot(ne,z){const ve=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),ne.container.getProvider(z)}function Vi(ne,z,ve=nn){Ot(ne,z).clearInstance(ve)}function Gt(){kn.clear()}const _t=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dl{constructor(z,ve,Be){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=Be,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const _o="9.23.0";function Ui(ne,z={}){let ve=ne;"object"!=typeof z&&(z={name:z});const Be=Object.assign({name:nn,automaticDataCollectionEnabled:!1},z),et=Be.name;if("string"!=typeof et||!et)throw _t.create("bad-app-name",{appName:String(et)});if(ve||(ve=(0,te.aH)()),!ve)throw _t.create("no-options");const gt=ft.get(et);if(gt){if((0,te.vZ)(ve,gt.options)&&(0,te.vZ)(Be,gt.config))return gt;throw _t.create("duplicate-app",{appName:et})}const Pt=new P.H0(et);for(const sn of kn.values())Pt.addComponent(sn);const Cn=new dl(ve,Be,Pt);return ft.set(et,Cn),Cn}function ui(ne=nn){const z=ft.get(ne);if(!z&&ne===nn&&(0,te.aH)())return Ui();if(!z)throw _t.create("no-app",{appName:ne});return z}function zr(){return Array.from(ft.values())}function Mr(ne){return or.apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(ne){const z=ne.name;ft.has(z)&&(ft.delete(z),yield Promise.all(ne.container.getProviders().map(ve=>ve.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function Gr(ne,z,ve){var Be;let et=null!==(Be=vt[ne])&&void 0!==Be?Be:ne;ve&&(et+=`-${ve}`);const gt=et.match(/\s|\//),Pt=z.match(/\s|\//);if(gt||Pt){const Cn=[`Unable to register library "${et}" with version "${z}":`];return gt&&Cn.push(`library name "${et}" contains illegal characters (whitespace or "/")`),gt&&Pt&&Cn.push("and"),Pt&&Cn.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void Jt.warn(Cn.join(" "))}Hr(new P.wA(`${et}-version`,()=>({library:et,version:z}),"VERSION"))}function Fn(ne,z){if(null!==ne&&"function"!=typeof ne)throw _t.create("invalid-log-argument");(0,ee.Am)(ne,z)}function hs(ne){(0,ee.Ub)(ne)}const fs="firebase-heartbeat-database",Wn=1,k="firebase-heartbeat-store";let O=null;function $(){return O||(O=function pe(ne,z,{blocked:ve,upgrade:Be,blocking:et,terminated:gt}={}){const Pt=indexedDB.open(ne,z),Cn=fe(Pt);return Be&&Pt.addEventListener("upgradeneeded",sn=>{Be(fe(Pt.result),sn.oldVersion,sn.newVersion,fe(Pt.transaction),sn)}),ve&&Pt.addEventListener("blocked",sn=>ve(sn.oldVersion,sn.newVersion,sn)),Cn.then(sn=>{gt&&sn.addEventListener("close",()=>gt()),et&&sn.addEventListener("versionchange",Bi=>et(Bi.oldVersion,Bi.newVersion,Bi))}).catch(()=>{}),Cn}(fs,Wn,{upgrade:(ne,z)=>{0===z&&ne.createObjectStore(k)}}).catch(ne=>{throw _t.create("idb-open",{originalErrorMessage:ne.message})})),O}function G(){return(G=(0,p.Z)(function*(ne){try{return yield(yield $()).transaction(k).objectStore(k).get(Ft(ne))}catch(z){if(z instanceof te.ZR)Jt.warn(z.message);else{const ve=_t.create("idb-get",{originalErrorMessage:z?.message});Jt.warn(ve.message)}}})).apply(this,arguments)}function Ue(ne,z){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,p.Z)(function*(ne,z){try{const Be=(yield $()).transaction(k,"readwrite");yield Be.objectStore(k).put(z,Ft(ne)),yield Be.done}catch(ve){if(ve instanceof te.ZR)Jt.warn(ve.message);else{const Be=_t.create("idb-set",{originalErrorMessage:ve?.message});Jt.warn(Be.message)}}})).apply(this,arguments)}function Ft(ne){return`${ne.name}!${ne.options.appId}`}class rn{constructor(z){this.container=z,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new _n(ve),this._heartbeatsCachePromise=this._storage.read().then(Be=>(this._heartbeatsCache=Be,Be))}triggerHeartbeat(){var z=this;return(0,p.Z)(function*(){const Be=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=It();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==et&&!z._heartbeatsCache.heartbeats.some(gt=>gt.date===et))return z._heartbeatsCache.heartbeats.push({date:et,agent:Be}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(gt=>{const Pt=new Date(gt.date).valueOf();return Date.now()-Pt<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,p.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const ve=It(),{heartbeatsToSend:Be,unsentEntries:et}=function vn(ne,z=1024){const ve=[];let Be=ne.slice();for(const et of ne){const gt=ve.find(Pt=>Pt.agent===et.agent);if(gt){if(gt.dates.push(et.date),Dt(ve)>z){gt.dates.pop();break}}else if(ve.push({agent:et.agent,dates:[et.date]}),Dt(ve)>z){ve.pop();break}Be=Be.slice(1)}return{heartbeatsToSend:ve,unsentEntries:Be}}(z._heartbeatsCache.heartbeats),gt=(0,te.L)(JSON.stringify({version:2,heartbeats:Be}));return z._heartbeatsCache.lastSentHeartbeatDate=ve,et.length>0?(z._heartbeatsCache.heartbeats=et,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),gt})()}}function It(){return(new Date).toISOString().substring(0,10)}class _n{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,p.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function Q(ne){return G.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var ve=this;return(0,p.Z)(function*(){var Be;if(yield ve._canUseIndexedDBPromise){const gt=yield ve.read();return Ue(ve.app,{lastSentHeartbeatDate:null!==(Be=z.lastSentHeartbeatDate)&&void 0!==Be?Be:gt.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var ve=this;return(0,p.Z)(function*(){var Be;if(yield ve._canUseIndexedDBPromise){const gt=yield ve.read();return Ue(ve.app,{lastSentHeartbeatDate:null!==(Be=z.lastSentHeartbeatDate)&&void 0!==Be?Be:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...z.heartbeats]})}})()}}function Dt(ne){return(0,te.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function Os(ne){Hr(new P.wA("platform-logger",z=>new tn(z),"PRIVATE")),Hr(new P.wA("heartbeat",z=>new rn(z),"PRIVATE")),Gr(ki,"0.9.13",ne),Gr(ki,"0.9.13","esm2017"),Gr("fire-js","")}("")},4537:(Ke,me,R)=>{R.d(me,{H0:()=>Fe,wA:()=>ee});var p=R(5861),P=R(9058);class ee{constructor(L,V,X){this.name=L,this.instanceFactory=V,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const te="[DEFAULT]";class le{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const X=new P.BH;if(this.instancesDeferred.set(V,X),this.isInitialized(V)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:V});xe&&X.resolve(xe)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const X=this.normalizeInstanceIdentifier(L?.identifier),xe=null!==(V=L?.optional)&&void 0!==V&&V;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ae){if(xe)return null;throw ae}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function Ae(be){return"EAGER"===be.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[V,X]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(V);try{const ae=this.getOrInitializeService({instanceIdentifier:xe});X.resolve(ae)}catch{}}}}clearInstance(L=te){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,p.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...V.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=te){return this.instances.has(L)}getOptions(L=te){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,X=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:X,options:V});for(const[ae,je]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ae)&&je.resolve(xe);return xe}onInit(L,V){var X;const xe=this.normalizeInstanceIdentifier(V),ae=null!==(X=this.onInitCallbacks.get(xe))&&void 0!==X?X:new Set;ae.add(L),this.onInitCallbacks.set(xe,ae);const je=this.instances.get(xe);return je&&L(je,xe),()=>{ae.delete(L)}}invokeOnInitCallbacks(L,V){const X=this.onInitCallbacks.get(V);if(X)for(const xe of X)try{xe(L,V)}catch{}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let X=this.instances.get(L);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(be=L,be===te?void 0:be),options:V}),this.instances.set(L,X),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(X,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,X)}catch{}var be;return X||null}normalizeInstanceIdentifier(L=te){return this.component?this.component.multipleInstances?L:te:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new le(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},7879:(Ke,me,R)=>{R.d(me,{Am:()=>be,Ub:()=>Fe,Yd:()=>Ae,in:()=>P});const p=[];var P=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(P||{});const ee={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},te=P.INFO,le={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},ye=(L,V,...X)=>{if(V<L.logLevel)return;const xe=(new Date).toISOString(),ae=le[V];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ae](`[${xe}]  ${L.name}:`,...X)};class Ae{constructor(V){this.name=V,this._logLevel=te,this._logHandler=ye,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in P))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?ee[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...V),this._logHandler(this,P.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...V),this._logHandler(this,P.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,P.INFO,...V),this._logHandler(this,P.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,P.WARN,...V),this._logHandler(this,P.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...V),this._logHandler(this,P.ERROR,...V)}}function Fe(L){p.forEach(V=>{V.setLogLevel(L)})}function be(L,V){for(const X of p){let xe=null;V&&V.level&&(xe=ee[V.level]),X.userLogHandler=null===L?null:(ae,je,...Re)=>{const Ie=Re.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");je>=(xe??ae.logLevel)&&L({level:P[je].toLowerCase(),message:Ie,args:Re,type:ae.name})}}}},7142:(Ke,me,R)=>{R.d(me,{Z:()=>p.Z});var p=R(3106);p.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Ke,me,R)=>{function p(ee,te,le,ye,Ae,Fe,be){try{var L=ee[Fe](be),V=L.value}catch(X){return void le(X)}L.done?te(V):Promise.resolve(V).then(ye,Ae)}function P(ee){return function(){var te=this,le=arguments;return new Promise(function(ye,Ae){var Fe=ee.apply(te,le);function be(V){p(Fe,ye,Ae,be,L,"next",V)}function L(V){p(Fe,ye,Ae,be,L,"throw",V)}be(void 0)})}}R.d(me,{Z:()=>P})},7582:(Ke,me,R)=>{function te(J,Z){var oe={};for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&Z.indexOf(Y)<0&&(oe[Y]=J[Y]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(Y=Object.getOwnPropertySymbols(J);ce<Y.length;ce++)Z.indexOf(Y[ce])<0&&Object.prototype.propertyIsEnumerable.call(J,Y[ce])&&(oe[Y[ce]]=J[Y[ce]])}return oe}function X(J,Z,oe,Y){return new(oe||(oe=Promise))(function(Ce,Je){function St(ht){try{tt(Y.next(ht))}catch(Qe){Je(Qe)}}function Wt(ht){try{tt(Y.throw(ht))}catch(Qe){Je(Qe)}}function tt(ht){ht.done?Ce(ht.value):function ce(Ce){return Ce instanceof oe?Ce:new oe(function(Je){Je(Ce)})}(ht.value).then(St,Wt)}tt((Y=Y.apply(J,Z||[])).next())})}function fe(J){return this instanceof fe?(this.v=J,this):new fe(J)}function ue(J,Z,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,Y=oe.apply(J,Z||[]),Ce=[];return ce={},Je("next"),Je("throw"),Je("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function Je(zt){Y[zt]&&(ce[zt]=function(fr){return new Promise(function(Ar,dt){Ce.push([zt,fr,Ar,dt])>1||St(zt,fr)})})}function St(zt,fr){try{!function Wt(zt){zt.value instanceof fe?Promise.resolve(zt.value.v).then(tt,ht):Qe(Ce[0][2],zt)}(Y[zt](fr))}catch(Ar){Qe(Ce[0][3],Ar)}}function tt(zt){St("next",zt)}function ht(zt){St("throw",zt)}function Qe(zt,fr){zt(fr),Ce.shift(),Ce.length&&St(Ce[0][0],Ce[0][1])}}function Me(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,Z=J[Symbol.asyncIterator];return Z?Z.call(J):(J=function Re(J){var Z="function"==typeof Symbol&&Symbol.iterator,oe=Z&&J[Z],Y=0;if(oe)return oe.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&Y>=J.length&&(J=void 0),{value:J&&J[Y++],done:!J}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),oe={},Y("next"),Y("throw"),Y("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Y(Ce){oe[Ce]=J[Ce]&&function(Je){return new Promise(function(St,Wt){!function ce(Ce,Je,St,Wt){Promise.resolve(Wt).then(function(tt){Ce({value:tt,done:St})},Je)}(St,Wt,(Je=J[Ce](Je)).done,Je.value)})}}}R.d(me,{FC:()=>ue,KL:()=>Me,_T:()=>te,mG:()=>X,qq:()=>fe}),"function"==typeof SuppressedError&&SuppressedError}},Ke=>{Ke(Ke.s=8097)}]);